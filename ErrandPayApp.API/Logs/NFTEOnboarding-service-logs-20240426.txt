2024-04-26T00:05:22.3242865+01:00  [INF] Entity Framework Core "5.0.6" initialized '"APPContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MaxPoolSize=128 " (9958f5bb)
2024-04-26T00:05:23.2899751+01:00  [INF] Executed DbCommand ("60"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1" (0723d8ff)
2024-04-26T00:05:23.3631788+01:00  [INF] Executed DbCommand ("48"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT OBJECT_ID(N'[__EFMigrationsHistory]');" (0723d8ff)
2024-04-26T00:05:23.3727332+01:00  [INF] Executed DbCommand ("5"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1" (0723d8ff)
2024-04-26T00:05:23.3743430+01:00  [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT OBJECT_ID(N'[__EFMigrationsHistory]');" (0723d8ff)
2024-04-26T00:05:23.4084324+01:00  [INF] Executed DbCommand ("9"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];" (0723d8ff)
2024-04-26T00:05:23.4465024+01:00  [INF] No migrations were applied. The database is already up to date. (503cba9d)
2024-04-26T00:05:23.9798402+01:00  [INF] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [p].[PermissionName]
FROM [Permissions] AS [p]" (0723d8ff)
2024-04-26T00:05:24.1640471+01:00  [INF] Executed DbCommand ("32"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[Id], [a].[City], [a].[ConfirmEmail], [a].[ConfirmPassword], [a].[Country], [a].[CreatedBy], [a].[CreatedDate], [a].[DateAccountLocked], [a].[Email], [a].[EmailConfirmationDate], [a].[FirstName], [a].[IsActive], [a].[IsDeleted], [a].[IsEmailConfirmed], [a].[IsLockedOut], [a].[IsSuperAdmin], [a].[LastLogin], [a].[LockoutCounter], [a].[ModifiedBy], [a].[ModifiedDate], [a].[MustChangePassword], [a].[No], [a].[Password], [a].[PhoneNumber], [a].[Road], [a].[State], [a].[SurName], [a].[Telephone], [a].[Title]
FROM [AppUsers] AS [a]
WHERE [a].[IsSuperAdmin] = CAST(1 AS bit)" (0723d8ff)
2024-04-26T00:05:24.5450444+01:00  [INF] User profile is available. Using '"C:\Users\HP\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest. (7ac5e29c)
2024-04-26T00:05:24.6601529+01:00  [ERR] Message => One or more errors occurred. (Unable to track an entity of type 'AppUser' because its primary key property 'Id' is null.)|Stacktrace =>    at System.Threading.Tasks.Task`1.GetResultCore(Boolean waitCompletionNotification)
   at System.Threading.Tasks.Task`1.get_Result()
   at ErrandPayApp.Infrastructure.Configuration.DatabaseConfiguration.InitializeSupperUser(IServiceScope scope) in C:\Users\HP\source\repos\ErrandPayApp.API\ErrandPayApp.Infrastructure\Configuration\DatabaseConfiguration.cs:line 87|InnerException => System.InvalidOperationException: Unable to track an entity of type 'AppUser' because its primary key property 'Id' is null.
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.NullableKeyIdentityMap`1.Add(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.StartTracking(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState oldState, EntityState newState, Boolean acceptChanges, Boolean modifyProperties)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState entityState, Boolean acceptChanges, Boolean modifyProperties, Nullable`1 forceStateWhenUnknownKey)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.PaintAction(EntityEntryGraphNode`1 node)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityEntryGraphIterator.TraverseGraph[TState](EntityEntryGraphNode`1 node, Func`2 handleNode)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.AttachGraph(InternalEntityEntry rootEntry, EntityState targetState, EntityState storeGeneratedWithKeySetTargetState, Boolean forceStateWhenUnknownKey)
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.SetEntityState(InternalEntityEntry entry, EntityState entityState)
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.Add(TEntity entity)
   at ErrandPayApp.Data.Repositories.UserRepository.CreateDefaultUser() in C:\Users\HP\source\repos\ErrandPayApp.API\ErrandPayApp.Data\Repositories\UserRepository.cs:line 307 (2a14ea4d)
System.AggregateException: One or more errors occurred. (Unable to track an entity of type 'AppUser' because its primary key property 'Id' is null.)
 ---> System.InvalidOperationException: Unable to track an entity of type 'AppUser' because its primary key property 'Id' is null.
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.NullableKeyIdentityMap`1.Add(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.StartTracking(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState oldState, EntityState newState, Boolean acceptChanges, Boolean modifyProperties)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState entityState, Boolean acceptChanges, Boolean modifyProperties, Nullable`1 forceStateWhenUnknownKey)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.PaintAction(EntityEntryGraphNode`1 node)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityEntryGraphIterator.TraverseGraph[TState](EntityEntryGraphNode`1 node, Func`2 handleNode)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.AttachGraph(InternalEntityEntry rootEntry, EntityState targetState, EntityState storeGeneratedWithKeySetTargetState, Boolean forceStateWhenUnknownKey)
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.SetEntityState(InternalEntityEntry entry, EntityState entityState)
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.Add(TEntity entity)
   at ErrandPayApp.Data.Repositories.UserRepository.CreateDefaultUser() in C:\Users\HP\source\repos\ErrandPayApp.API\ErrandPayApp.Data\Repositories\UserRepository.cs:line 307
   --- End of inner exception stack trace ---
   at System.Threading.Tasks.Task`1.GetResultCore(Boolean waitCompletionNotification)
   at System.Threading.Tasks.Task`1.get_Result()
   at ErrandPayApp.Infrastructure.Configuration.DatabaseConfiguration.InitializeSupperUser(IServiceScope scope) in C:\Users\HP\source\repos\ErrandPayApp.API\ErrandPayApp.Infrastructure\Configuration\DatabaseConfiguration.cs:line 87
2024-04-26T00:05:24.9711829+01:00  [INF] Application started. Press Ctrl+C to shut down. (dcaefe54)
2024-04-26T00:05:24.9744558+01:00  [INF] Hosting environment: "Development" (c3307c92)
2024-04-26T00:05:24.9771958+01:00  [INF] Content root path: "C:\Users\HP\source\repos\ErrandPayApp.API\ErrandPayApp.API" (b5d60022)
2024-04-26T00:05:25.0538636+01:00 80000068-0004-f900-b63f-84710c7967bb [INF] Request starting HTTP/2 GET https://localhost:44331/swagger/index.html - - (ca22a1cb)
2024-04-26T00:05:25.5733751+01:00 80000068-0004-f900-b63f-84710c7967bb [INF] Request finished HTTP/2 GET https://localhost:44331/swagger/index.html - - - 404 - - 524.4658ms (791a596a)
2024-04-26T00:05:40.3986398+01:00 80000014-0003-fd00-b63f-84710c7967bb [INF] Request starting HTTP/2 GET https://localhost:44331/index.html - - (ca22a1cb)
2024-04-26T00:05:40.5484741+01:00 80000014-0003-fd00-b63f-84710c7967bb [INF] Request finished HTTP/2 GET https://localhost:44331/index.html - - - 200 - text/html;charset=utf-8 149.7519ms (791a596a)
2024-04-26T00:05:40.5617751+01:00 8000006a-0004-f900-b63f-84710c7967bb [INF] Request starting HTTP/2 GET https://localhost:44331/_framework/aspnetcore-browser-refresh.js - - (ca22a1cb)
2024-04-26T00:05:40.5746160+01:00 8000006a-0004-f900-b63f-84710c7967bb [INF] Request finished HTTP/2 GET https://localhost:44331/_framework/aspnetcore-browser-refresh.js - - - 200 12366 application/javascript;+charset=utf-8 12.5210ms (791a596a)
2024-04-26T00:05:40.7450327+01:00 80000006-0006-f900-b63f-84710c7967bb [INF] Request starting HTTP/2 GET https://localhost:44331/_vs/browserLink - - (ca22a1cb)
2024-04-26T00:05:40.8316226+01:00 80000006-0006-f900-b63f-84710c7967bb [INF] Request finished HTTP/2 GET https://localhost:44331/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 86.5381ms (791a596a)
2024-04-26T00:05:40.9008944+01:00 80000008-0006-f900-b63f-84710c7967bb [INF] Request starting HTTP/2 GET https://localhost:44331/swagger/v1/swagger.json - - (ca22a1cb)
2024-04-26T00:05:41.1998082+01:00 80000008-0006-f900-b63f-84710c7967bb [INF] Request finished HTTP/2 GET https://localhost:44331/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 298.8144ms (791a596a)
2024-04-26T00:08:17.6202610+01:00 80000006-0001-fd00-b63f-84710c7967bb [INF] Request starting HTTP/2 POST https://localhost:44331/api/User application/json 238 (ca22a1cb)
2024-04-26T00:08:17.6244985+01:00 80000006-0001-fd00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2024-04-26T00:08:17.6372624+01:00 80000006-0001-fd00-b63f-84710c7967bb [INF] Executing endpoint '"ErrandPayApp.API.Controllers.UserController.CreateUser (ErrandPayApp.API)"' (500cc934)
2024-04-26T00:08:17.6773370+01:00 80000006-0001-fd00-b63f-84710c7967bb [INF] Route matched with "{action = \"CreateUser\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateUser(ErrandPayApp.API.RequestVms.UserVm)" on controller "ErrandPayApp.API.Controllers.UserController" ("ErrandPayApp.API"). (122b2fdf)
2024-04-26T00:16:58.8056724+01:00  [INF] Entity Framework Core "5.0.6" initialized '"APPContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MaxPoolSize=128 " (9958f5bb)
2024-04-26T00:16:59.2678126+01:00  [INF] Executed DbCommand ("32"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1" (0723d8ff)
2024-04-26T00:16:59.3154944+01:00  [INF] Executed DbCommand ("35"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT OBJECT_ID(N'[__EFMigrationsHistory]');" (0723d8ff)
2024-04-26T00:16:59.3231091+01:00  [INF] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1" (0723d8ff)
2024-04-26T00:16:59.3237602+01:00  [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT OBJECT_ID(N'[__EFMigrationsHistory]');" (0723d8ff)
2024-04-26T00:16:59.3434504+01:00  [INF] Executed DbCommand ("6"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];" (0723d8ff)
2024-04-26T00:16:59.3645650+01:00  [INF] No migrations were applied. The database is already up to date. (503cba9d)
2024-04-26T00:17:21.2336760+01:00  [INF] Entity Framework Core "5.0.6" initialized '"APPContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MaxPoolSize=128 " (9958f5bb)
2024-04-26T00:17:34.7820818+01:00  [INF] Entity Framework Core "5.0.6" initialized '"APPContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MaxPoolSize=128 " (9958f5bb)
2024-04-26T00:17:35.2978374+01:00  [INF] Executed DbCommand ("37"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1" (0723d8ff)
2024-04-26T00:17:35.3407767+01:00  [INF] Executed DbCommand ("29"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT OBJECT_ID(N'[__EFMigrationsHistory]');" (0723d8ff)
2024-04-26T00:17:35.3448594+01:00  [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1" (0723d8ff)
2024-04-26T00:17:35.3454309+01:00  [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT OBJECT_ID(N'[__EFMigrationsHistory]');" (0723d8ff)
2024-04-26T00:17:35.3687914+01:00  [INF] Executed DbCommand ("6"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];" (0723d8ff)
2024-04-26T00:17:35.4036751+01:00  [INF] Applying migration '"20240425231721_removed confirm pssword "'. (0e2ac64d)
2024-04-26T00:17:35.5709942+01:00  [INF] Executed DbCommand ("108"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""DECLARE @var0 sysname;
SELECT @var0 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[AppUsers]') AND [c].[name] = N'ConfirmEmail');
IF @var0 IS NOT NULL EXEC(N'ALTER TABLE [AppUsers] DROP CONSTRAINT [' + @var0 + '];');
ALTER TABLE [AppUsers] DROP COLUMN [ConfirmEmail];" (0723d8ff)
2024-04-26T00:17:35.5950132+01:00  [INF] Executed DbCommand ("23"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""DECLARE @var1 sysname;
SELECT @var1 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[AppUsers]') AND [c].[name] = N'ConfirmPassword');
IF @var1 IS NOT NULL EXEC(N'ALTER TABLE [AppUsers] DROP CONSTRAINT [' + @var1 + '];');
ALTER TABLE [AppUsers] DROP COLUMN [ConfirmPassword];" (0723d8ff)
2024-04-26T00:17:35.6013411+01:00  [INF] Executed DbCommand ("6"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20240425231721_removed confirm pssword ', N'5.0.6');" (0723d8ff)
2024-04-26T00:19:09.6192250+01:00  [INF] Entity Framework Core "5.0.6" initialized '"APPContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MaxPoolSize=128 " (9958f5bb)
2024-04-26T00:19:10.3380546+01:00  [INF] Executed DbCommand ("26"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1" (0723d8ff)
2024-04-26T00:19:10.3820768+01:00  [INF] Executed DbCommand ("24"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT OBJECT_ID(N'[__EFMigrationsHistory]');" (0723d8ff)
2024-04-26T00:19:10.3875584+01:00  [INF] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1" (0723d8ff)
2024-04-26T00:19:10.3884345+01:00  [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT OBJECT_ID(N'[__EFMigrationsHistory]');" (0723d8ff)
2024-04-26T00:19:10.4137226+01:00  [INF] Executed DbCommand ("10"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];" (0723d8ff)
2024-04-26T00:19:10.4547822+01:00  [INF] No migrations were applied. The database is already up to date. (503cba9d)
2024-04-26T00:19:10.7349265+01:00  [INF] Executed DbCommand ("8"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [p].[PermissionName]
FROM [Permissions] AS [p]" (0723d8ff)
2024-04-26T00:19:10.8536835+01:00  [INF] Executed DbCommand ("23"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[Id], [a].[City], [a].[Country], [a].[CreatedBy], [a].[CreatedDate], [a].[DateAccountLocked], [a].[Email], [a].[EmailConfirmationDate], [a].[FirstName], [a].[IsActive], [a].[IsDeleted], [a].[IsEmailConfirmed], [a].[IsLockedOut], [a].[IsSuperAdmin], [a].[LastLogin], [a].[LockoutCounter], [a].[ModifiedBy], [a].[ModifiedDate], [a].[MustChangePassword], [a].[No], [a].[Password], [a].[PhoneNumber], [a].[Road], [a].[State], [a].[SurName], [a].[Telephone], [a].[Title]
FROM [AppUsers] AS [a]
WHERE [a].[IsSuperAdmin] = CAST(1 AS bit)" (0723d8ff)
2024-04-26T00:19:11.0925405+01:00  [INF] User profile is available. Using '"C:\Users\HP\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest. (7ac5e29c)
2024-04-26T00:19:11.1544570+01:00  [ERR] Message => One or more errors occurred. (Unable to track an entity of type 'AppUser' because its primary key property 'Id' is null.)|Stacktrace =>    at System.Threading.Tasks.Task`1.GetResultCore(Boolean waitCompletionNotification)
   at System.Threading.Tasks.Task`1.get_Result()
   at ErrandPayApp.Infrastructure.Configuration.DatabaseConfiguration.InitializeSupperUser(IServiceScope scope) in C:\Users\HP\source\repos\ErrandPayApp.API\ErrandPayApp.Infrastructure\Configuration\DatabaseConfiguration.cs:line 87|InnerException => System.InvalidOperationException: Unable to track an entity of type 'AppUser' because its primary key property 'Id' is null.
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.NullableKeyIdentityMap`1.Add(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.StartTracking(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState oldState, EntityState newState, Boolean acceptChanges, Boolean modifyProperties)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState entityState, Boolean acceptChanges, Boolean modifyProperties, Nullable`1 forceStateWhenUnknownKey)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.PaintAction(EntityEntryGraphNode`1 node)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityEntryGraphIterator.TraverseGraph[TState](EntityEntryGraphNode`1 node, Func`2 handleNode)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.AttachGraph(InternalEntityEntry rootEntry, EntityState targetState, EntityState storeGeneratedWithKeySetTargetState, Boolean forceStateWhenUnknownKey)
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.SetEntityState(InternalEntityEntry entry, EntityState entityState)
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.Add(TEntity entity)
   at ErrandPayApp.Data.Repositories.UserRepository.CreateDefaultUser() in C:\Users\HP\source\repos\ErrandPayApp.API\ErrandPayApp.Data\Repositories\UserRepository.cs:line 307 (2a14ea4d)
System.AggregateException: One or more errors occurred. (Unable to track an entity of type 'AppUser' because its primary key property 'Id' is null.)
 ---> System.InvalidOperationException: Unable to track an entity of type 'AppUser' because its primary key property 'Id' is null.
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.NullableKeyIdentityMap`1.Add(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.StartTracking(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState oldState, EntityState newState, Boolean acceptChanges, Boolean modifyProperties)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState entityState, Boolean acceptChanges, Boolean modifyProperties, Nullable`1 forceStateWhenUnknownKey)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.PaintAction(EntityEntryGraphNode`1 node)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityEntryGraphIterator.TraverseGraph[TState](EntityEntryGraphNode`1 node, Func`2 handleNode)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.AttachGraph(InternalEntityEntry rootEntry, EntityState targetState, EntityState storeGeneratedWithKeySetTargetState, Boolean forceStateWhenUnknownKey)
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.SetEntityState(InternalEntityEntry entry, EntityState entityState)
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.Add(TEntity entity)
   at ErrandPayApp.Data.Repositories.UserRepository.CreateDefaultUser() in C:\Users\HP\source\repos\ErrandPayApp.API\ErrandPayApp.Data\Repositories\UserRepository.cs:line 307
   --- End of inner exception stack trace ---
   at System.Threading.Tasks.Task`1.GetResultCore(Boolean waitCompletionNotification)
   at System.Threading.Tasks.Task`1.get_Result()
   at ErrandPayApp.Infrastructure.Configuration.DatabaseConfiguration.InitializeSupperUser(IServiceScope scope) in C:\Users\HP\source\repos\ErrandPayApp.API\ErrandPayApp.Infrastructure\Configuration\DatabaseConfiguration.cs:line 87
2024-04-26T00:19:11.5172756+01:00  [INF] Application started. Press Ctrl+C to shut down. (dcaefe54)
2024-04-26T00:19:11.5220028+01:00  [INF] Hosting environment: "Development" (c3307c92)
2024-04-26T00:19:11.5252447+01:00  [INF] Content root path: "C:\Users\HP\source\repos\ErrandPayApp.API\ErrandPayApp.API" (b5d60022)
2024-04-26T00:19:11.5908220+01:00 8000006c-0004-f900-b63f-84710c7967bb [INF] Request starting HTTP/2 GET https://localhost:44331/swagger/index.html - - (ca22a1cb)
2024-04-26T00:19:12.0686149+01:00 8000006c-0004-f900-b63f-84710c7967bb [INF] Request finished HTTP/2 GET https://localhost:44331/swagger/index.html - - - 404 - - 487.9973ms (791a596a)
2024-04-26T00:19:16.4133799+01:00 80000032-0006-fe00-b63f-84710c7967bb [INF] Request starting HTTP/2 GET https://localhost:44331/index.html - - (ca22a1cb)
2024-04-26T00:19:16.5310268+01:00 80000032-0006-fe00-b63f-84710c7967bb [INF] Request finished HTTP/2 GET https://localhost:44331/index.html - - - 200 - text/html;charset=utf-8 117.6371ms (791a596a)
2024-04-26T00:19:16.6737957+01:00 8000000c-0002-fb00-b63f-84710c7967bb [INF] Request starting HTTP/2 GET https://localhost:44331/_framework/aspnetcore-browser-refresh.js - - (ca22a1cb)
2024-04-26T00:19:16.6863915+01:00 8000000c-0002-fb00-b63f-84710c7967bb [INF] Request finished HTTP/2 GET https://localhost:44331/_framework/aspnetcore-browser-refresh.js - - - 200 12366 application/javascript;+charset=utf-8 7.5078ms (791a596a)
2024-04-26T00:19:16.7040219+01:00 80000009-0005-fc00-b63f-84710c7967bb [INF] Request starting HTTP/2 GET https://localhost:44331/_vs/browserLink - - (ca22a1cb)
2024-04-26T00:19:16.7628118+01:00 80000009-0005-fc00-b63f-84710c7967bb [INF] Request finished HTTP/2 GET https://localhost:44331/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 58.7285ms (791a596a)
2024-04-26T00:19:16.8223630+01:00 8000006e-0004-f900-b63f-84710c7967bb [INF] Request starting HTTP/2 GET https://localhost:44331/swagger/v1/swagger.json - - (ca22a1cb)
2024-04-26T00:19:16.9539967+01:00 8000006e-0004-f900-b63f-84710c7967bb [INF] Request finished HTTP/2 GET https://localhost:44331/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 131.5513ms (791a596a)
2024-04-26T00:20:37.0888634+01:00 8000000b-0005-fc00-b63f-84710c7967bb [INF] Request starting HTTP/2 POST https://localhost:44331/api/User application/json 311 (ca22a1cb)
2024-04-26T00:20:37.0911811+01:00 8000000b-0005-fc00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2024-04-26T00:20:37.1093705+01:00 8000000b-0005-fc00-b63f-84710c7967bb [INF] Executing endpoint '"ErrandPayApp.API.Controllers.UserController.CreateUser (ErrandPayApp.API)"' (500cc934)
2024-04-26T00:20:37.1414971+01:00 8000000b-0005-fc00-b63f-84710c7967bb [INF] Route matched with "{action = \"CreateUser\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateUser(ErrandPayApp.API.RequestVms.UserVm)" on controller "ErrandPayApp.API.Controllers.UserController" ("ErrandPayApp.API"). (122b2fdf)
2024-04-26T00:20:42.1355080+01:00 8000000b-0005-fc00-b63f-84710c7967bb [INF] Executed DbCommand ("85"ms) [Parameters=["@__email_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[Email], [a].[PhoneNumber], [a].[SurName], [a].[FirstName], [a].[IsSuperAdmin], [a].[Id], [a].[MustChangePassword], [a].[LockoutCounter], [a].[IsLockedOut], [a].[LastLogin], [a].[DateAccountLocked], [a].[Title], [a].[No], [a].[Road], [a].[City], [a].[State], [a].[Country]
FROM [AppUsers] AS [a]
WHERE [a].[Email] = @__email_0" (0723d8ff)
2024-04-26T00:22:18.8092266+01:00  [INF] Entity Framework Core "5.0.6" initialized '"APPContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MaxPoolSize=128 " (9958f5bb)
2024-04-26T00:22:19.3691095+01:00  [INF] Executed DbCommand ("37"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1" (0723d8ff)
2024-04-26T00:22:19.4130851+01:00  [INF] Executed DbCommand ("30"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT OBJECT_ID(N'[__EFMigrationsHistory]');" (0723d8ff)
2024-04-26T00:22:19.4166209+01:00  [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1" (0723d8ff)
2024-04-26T00:22:19.4182820+01:00  [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT OBJECT_ID(N'[__EFMigrationsHistory]');" (0723d8ff)
2024-04-26T00:22:19.4391055+01:00  [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];" (0723d8ff)
2024-04-26T00:22:19.4623512+01:00  [INF] No migrations were applied. The database is already up to date. (503cba9d)
2024-04-26T00:22:19.7809505+01:00  [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [p].[PermissionName]
FROM [Permissions] AS [p]" (0723d8ff)
2024-04-26T00:22:19.9095277+01:00  [INF] Executed DbCommand ("27"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[Id], [a].[City], [a].[Country], [a].[CreatedBy], [a].[CreatedDate], [a].[DateAccountLocked], [a].[Email], [a].[EmailConfirmationDate], [a].[FirstName], [a].[IsActive], [a].[IsDeleted], [a].[IsEmailConfirmed], [a].[IsLockedOut], [a].[IsSuperAdmin], [a].[LastLogin], [a].[LockoutCounter], [a].[ModifiedBy], [a].[ModifiedDate], [a].[MustChangePassword], [a].[No], [a].[Password], [a].[PhoneNumber], [a].[Road], [a].[State], [a].[SurName], [a].[Telephone], [a].[Title]
FROM [AppUsers] AS [a]
WHERE [a].[IsSuperAdmin] = CAST(1 AS bit)" (0723d8ff)
2024-04-26T00:22:20.1897518+01:00  [INF] User profile is available. Using '"C:\Users\HP\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest. (7ac5e29c)
2024-04-26T00:22:20.2374198+01:00  [ERR] Message => One or more errors occurred. (Unable to track an entity of type 'AppUser' because its primary key property 'Id' is null.)|Stacktrace =>    at System.Threading.Tasks.Task`1.GetResultCore(Boolean waitCompletionNotification)
   at System.Threading.Tasks.Task`1.get_Result()
   at ErrandPayApp.Infrastructure.Configuration.DatabaseConfiguration.InitializeSupperUser(IServiceScope scope) in C:\Users\HP\source\repos\ErrandPayApp.API\ErrandPayApp.Infrastructure\Configuration\DatabaseConfiguration.cs:line 87|InnerException => System.InvalidOperationException: Unable to track an entity of type 'AppUser' because its primary key property 'Id' is null.
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.NullableKeyIdentityMap`1.Add(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.StartTracking(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState oldState, EntityState newState, Boolean acceptChanges, Boolean modifyProperties)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState entityState, Boolean acceptChanges, Boolean modifyProperties, Nullable`1 forceStateWhenUnknownKey)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.PaintAction(EntityEntryGraphNode`1 node)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityEntryGraphIterator.TraverseGraph[TState](EntityEntryGraphNode`1 node, Func`2 handleNode)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.AttachGraph(InternalEntityEntry rootEntry, EntityState targetState, EntityState storeGeneratedWithKeySetTargetState, Boolean forceStateWhenUnknownKey)
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.SetEntityState(InternalEntityEntry entry, EntityState entityState)
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.Add(TEntity entity)
   at ErrandPayApp.Data.Repositories.UserRepository.CreateDefaultUser() in C:\Users\HP\source\repos\ErrandPayApp.API\ErrandPayApp.Data\Repositories\UserRepository.cs:line 309 (c772a506)
System.AggregateException: One or more errors occurred. (Unable to track an entity of type 'AppUser' because its primary key property 'Id' is null.)
 ---> System.InvalidOperationException: Unable to track an entity of type 'AppUser' because its primary key property 'Id' is null.
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.NullableKeyIdentityMap`1.Add(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.StartTracking(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState oldState, EntityState newState, Boolean acceptChanges, Boolean modifyProperties)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState entityState, Boolean acceptChanges, Boolean modifyProperties, Nullable`1 forceStateWhenUnknownKey)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.PaintAction(EntityEntryGraphNode`1 node)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityEntryGraphIterator.TraverseGraph[TState](EntityEntryGraphNode`1 node, Func`2 handleNode)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.AttachGraph(InternalEntityEntry rootEntry, EntityState targetState, EntityState storeGeneratedWithKeySetTargetState, Boolean forceStateWhenUnknownKey)
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.SetEntityState(InternalEntityEntry entry, EntityState entityState)
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.Add(TEntity entity)
   at ErrandPayApp.Data.Repositories.UserRepository.CreateDefaultUser() in C:\Users\HP\source\repos\ErrandPayApp.API\ErrandPayApp.Data\Repositories\UserRepository.cs:line 309
   --- End of inner exception stack trace ---
   at System.Threading.Tasks.Task`1.GetResultCore(Boolean waitCompletionNotification)
   at System.Threading.Tasks.Task`1.get_Result()
   at ErrandPayApp.Infrastructure.Configuration.DatabaseConfiguration.InitializeSupperUser(IServiceScope scope) in C:\Users\HP\source\repos\ErrandPayApp.API\ErrandPayApp.Infrastructure\Configuration\DatabaseConfiguration.cs:line 87
2024-04-26T00:22:20.5290366+01:00  [INF] Application started. Press Ctrl+C to shut down. (dcaefe54)
2024-04-26T00:22:20.5316642+01:00  [INF] Hosting environment: "Development" (c3307c92)
2024-04-26T00:22:20.5429055+01:00  [INF] Content root path: "C:\Users\HP\source\repos\ErrandPayApp.API\ErrandPayApp.API" (b5d60022)
2024-04-26T00:22:20.5918870+01:00 80000072-0004-f900-b63f-84710c7967bb [INF] Request starting HTTP/2 GET https://localhost:44331/swagger/index.html - - (ca22a1cb)
2024-04-26T00:22:20.9830918+01:00 80000072-0004-f900-b63f-84710c7967bb [INF] Request finished HTTP/2 GET https://localhost:44331/swagger/index.html - - - 404 - - 396.4302ms (791a596a)
2024-04-26T00:23:34.4542447+01:00 80000034-0006-fe00-b63f-84710c7967bb [INF] Request starting HTTP/2 GET https://localhost:44331/index.html - - (ca22a1cb)
2024-04-26T00:23:34.5778931+01:00 80000034-0006-fe00-b63f-84710c7967bb [INF] Request finished HTTP/2 GET https://localhost:44331/index.html - - - 200 - text/html;charset=utf-8 123.9628ms (791a596a)
2024-04-26T00:23:34.7234498+01:00 80000045-0000-fd00-b63f-84710c7967bb [INF] Request starting HTTP/2 GET https://localhost:44331/_framework/aspnetcore-browser-refresh.js - - (ca22a1cb)
2024-04-26T00:23:34.7276106+01:00 80000045-0000-fd00-b63f-84710c7967bb [INF] Request finished HTTP/2 GET https://localhost:44331/_framework/aspnetcore-browser-refresh.js - - - 200 12366 application/javascript;+charset=utf-8 3.8140ms (791a596a)
2024-04-26T00:23:34.7401587+01:00 80000047-0000-fd00-b63f-84710c7967bb [INF] Request starting HTTP/2 GET https://localhost:44331/_vs/browserLink - - (ca22a1cb)
2024-04-26T00:23:34.8039802+01:00 80000047-0000-fd00-b63f-84710c7967bb [INF] Request finished HTTP/2 GET https://localhost:44331/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 63.7860ms (791a596a)
2024-04-26T00:23:34.8842600+01:00 80000049-0000-fd00-b63f-84710c7967bb [INF] Request starting HTTP/2 GET https://localhost:44331/swagger/v1/swagger.json - - (ca22a1cb)
2024-04-26T00:23:35.0564268+01:00 80000049-0000-fd00-b63f-84710c7967bb [INF] Request finished HTTP/2 GET https://localhost:44331/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 172.1287ms (791a596a)
2024-04-26T00:24:27.4311121+01:00 80000024-0000-fc00-b63f-84710c7967bb [INF] Request starting HTTP/2 POST https://localhost:44331/api/User application/json 293 (ca22a1cb)
2024-04-26T00:24:27.4336830+01:00 80000024-0000-fc00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2024-04-26T00:24:27.4389697+01:00 80000024-0000-fc00-b63f-84710c7967bb [INF] Executing endpoint '"ErrandPayApp.API.Controllers.UserController.CreateUser (ErrandPayApp.API)"' (500cc934)
2024-04-26T00:24:27.4778248+01:00 80000024-0000-fc00-b63f-84710c7967bb [INF] Route matched with "{action = \"CreateUser\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateUser(ErrandPayApp.API.RequestVms.UserVm)" on controller "ErrandPayApp.API.Controllers.UserController" ("ErrandPayApp.API"). (122b2fdf)
2024-04-26T00:24:30.8471667+01:00 80000024-0000-fc00-b63f-84710c7967bb [INF] Executed DbCommand ("84"ms) [Parameters=["@__email_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[Email], [a].[PhoneNumber], [a].[SurName], [a].[FirstName], [a].[IsSuperAdmin], [a].[Id], [a].[MustChangePassword], [a].[LockoutCounter], [a].[IsLockedOut], [a].[LastLogin], [a].[DateAccountLocked], [a].[Title], [a].[No], [a].[Road], [a].[City], [a].[State], [a].[Country]
FROM [AppUsers] AS [a]
WHERE [a].[Email] = @__email_0" (0723d8ff)
2024-04-26T00:24:54.0430044+01:00 80000024-0000-fc00-b63f-84710c7967bb [INF] Executed DbCommand ("36"ms) [Parameters=["@p0='?' (Size = 450), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (DbType = DateTimeOffset), @p5='?' (DbType = DateTime2), @p6='?' (Size = 450), @p7='?' (DbType = DateTimeOffset), @p8='?' (Size = 4000), @p9='?' (DbType = Boolean), @p10='?' (DbType = Boolean), @p11='?' (DbType = Boolean), @p12='?' (DbType = Boolean), @p13='?' (DbType = Boolean), @p14='?' (DbType = DateTime2), @p15='?' (DbType = Int32), @p16='?' (Size = 4000), @p17='?' (DbType = DateTimeOffset), @p18='?' (DbType = Boolean), @p19='?' (Size = 4000), @p20='?' (Size = 4000), @p21='?' (Size = 4000), @p22='?' (Size = 4000), @p23='?' (Size = 4000), @p24='?' (Size = 4000), @p25='?' (Size = 4000), @p26='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [AppUsers] ([Id], [City], [Country], [CreatedBy], [CreatedDate], [DateAccountLocked], [Email], [EmailConfirmationDate], [FirstName], [IsActive], [IsDeleted], [IsEmailConfirmed], [IsLockedOut], [IsSuperAdmin], [LastLogin], [LockoutCounter], [ModifiedBy], [ModifiedDate], [MustChangePassword], [No], [Password], [PhoneNumber], [Road], [State], [SurName], [Telephone], [Title])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26);" (0723d8ff)
2024-04-26T00:46:19.0882800+01:00  [INF] Entity Framework Core "5.0.6" initialized '"APPContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MaxPoolSize=128 " (9958f5bb)
2024-04-26T00:46:19.6367929+01:00  [INF] Executed DbCommand ("31"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1" (0723d8ff)
2024-04-26T00:46:19.6781588+01:00  [INF] Executed DbCommand ("29"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT OBJECT_ID(N'[__EFMigrationsHistory]');" (0723d8ff)
2024-04-26T00:46:19.6816115+01:00  [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1" (0723d8ff)
2024-04-26T00:46:19.6824453+01:00  [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT OBJECT_ID(N'[__EFMigrationsHistory]');" (0723d8ff)
2024-04-26T00:46:19.7103643+01:00  [INF] Executed DbCommand ("7"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];" (0723d8ff)
2024-04-26T00:46:19.7380836+01:00  [INF] No migrations were applied. The database is already up to date. (503cba9d)
2024-04-26T00:46:20.0368165+01:00  [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [p].[PermissionName]
FROM [Permissions] AS [p]" (0723d8ff)
2024-04-26T00:46:20.1594825+01:00  [INF] Executed DbCommand ("38"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[Id], [a].[City], [a].[Country], [a].[CreatedBy], [a].[CreatedDate], [a].[DateAccountLocked], [a].[Email], [a].[EmailConfirmationDate], [a].[FirstName], [a].[IsActive], [a].[IsDeleted], [a].[IsEmailConfirmed], [a].[IsLockedOut], [a].[IsSuperAdmin], [a].[LastLogin], [a].[LockoutCounter], [a].[ModifiedBy], [a].[ModifiedDate], [a].[MustChangePassword], [a].[No], [a].[Password], [a].[PhoneNumber], [a].[Road], [a].[State], [a].[SurName], [a].[Telephone], [a].[Title]
FROM [AppUsers] AS [a]
WHERE [a].[IsSuperAdmin] = CAST(1 AS bit)" (0723d8ff)
2024-04-26T00:46:20.3992657+01:00  [INF] User profile is available. Using '"C:\Users\HP\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest. (7ac5e29c)
2024-04-26T00:46:20.4540238+01:00  [ERR] Message => One or more errors occurred. (Unable to track an entity of type 'AppUser' because its primary key property 'Id' is null.)|Stacktrace =>    at System.Threading.Tasks.Task`1.GetResultCore(Boolean waitCompletionNotification)
   at System.Threading.Tasks.Task`1.get_Result()
   at ErrandPayApp.Infrastructure.Configuration.DatabaseConfiguration.InitializeSupperUser(IServiceScope scope) in C:\Users\HP\source\repos\ErrandPayApp.API\ErrandPayApp.Infrastructure\Configuration\DatabaseConfiguration.cs:line 87|InnerException => System.InvalidOperationException: Unable to track an entity of type 'AppUser' because its primary key property 'Id' is null.
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.NullableKeyIdentityMap`1.Add(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.StartTracking(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState oldState, EntityState newState, Boolean acceptChanges, Boolean modifyProperties)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState entityState, Boolean acceptChanges, Boolean modifyProperties, Nullable`1 forceStateWhenUnknownKey)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.PaintAction(EntityEntryGraphNode`1 node)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityEntryGraphIterator.TraverseGraph[TState](EntityEntryGraphNode`1 node, Func`2 handleNode)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.AttachGraph(InternalEntityEntry rootEntry, EntityState targetState, EntityState storeGeneratedWithKeySetTargetState, Boolean forceStateWhenUnknownKey)
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.SetEntityState(InternalEntityEntry entry, EntityState entityState)
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.Add(TEntity entity)
   at ErrandPayApp.Data.Repositories.UserRepository.CreateDefaultUser() in C:\Users\HP\source\repos\ErrandPayApp.API\ErrandPayApp.Data\Repositories\UserRepository.cs:line 309 (c772a506)
System.AggregateException: One or more errors occurred. (Unable to track an entity of type 'AppUser' because its primary key property 'Id' is null.)
 ---> System.InvalidOperationException: Unable to track an entity of type 'AppUser' because its primary key property 'Id' is null.
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.NullableKeyIdentityMap`1.Add(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.StartTracking(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState oldState, EntityState newState, Boolean acceptChanges, Boolean modifyProperties)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState entityState, Boolean acceptChanges, Boolean modifyProperties, Nullable`1 forceStateWhenUnknownKey)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.PaintAction(EntityEntryGraphNode`1 node)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityEntryGraphIterator.TraverseGraph[TState](EntityEntryGraphNode`1 node, Func`2 handleNode)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.AttachGraph(InternalEntityEntry rootEntry, EntityState targetState, EntityState storeGeneratedWithKeySetTargetState, Boolean forceStateWhenUnknownKey)
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.SetEntityState(InternalEntityEntry entry, EntityState entityState)
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.Add(TEntity entity)
   at ErrandPayApp.Data.Repositories.UserRepository.CreateDefaultUser() in C:\Users\HP\source\repos\ErrandPayApp.API\ErrandPayApp.Data\Repositories\UserRepository.cs:line 309
   --- End of inner exception stack trace ---
   at System.Threading.Tasks.Task`1.GetResultCore(Boolean waitCompletionNotification)
   at System.Threading.Tasks.Task`1.get_Result()
   at ErrandPayApp.Infrastructure.Configuration.DatabaseConfiguration.InitializeSupperUser(IServiceScope scope) in C:\Users\HP\source\repos\ErrandPayApp.API\ErrandPayApp.Infrastructure\Configuration\DatabaseConfiguration.cs:line 87
2024-04-26T00:46:20.6922386+01:00  [INF] Application started. Press Ctrl+C to shut down. (dcaefe54)
2024-04-26T00:46:20.6950389+01:00  [INF] Hosting environment: "Development" (c3307c92)
2024-04-26T00:46:20.7057867+01:00  [INF] Content root path: "C:\Users\HP\source\repos\ErrandPayApp.API\ErrandPayApp.API" (b5d60022)
2024-04-26T00:46:20.7547643+01:00 80000007-0002-f900-b63f-84710c7967bb [INF] Request starting HTTP/2 GET https://localhost:44331/swagger/index.html - - (ca22a1cb)
2024-04-26T00:46:21.1942924+01:00 80000007-0002-f900-b63f-84710c7967bb [INF] Request finished HTTP/2 GET https://localhost:44331/swagger/index.html - - - 404 - - 444.3567ms (791a596a)
2024-04-26T00:46:25.4904922+01:00 80000019-0006-fb00-b63f-84710c7967bb [INF] Request starting HTTP/2 GET https://localhost:44331/index.html - - (ca22a1cb)
2024-04-26T00:46:25.5975483+01:00 80000019-0006-fb00-b63f-84710c7967bb [INF] Request finished HTTP/2 GET https://localhost:44331/index.html - - - 200 - text/html;charset=utf-8 107.1233ms (791a596a)
2024-04-26T00:46:25.7938890+01:00 8000000e-0005-fc00-b63f-84710c7967bb [INF] Request starting HTTP/2 GET https://localhost:44331/_framework/aspnetcore-browser-refresh.js - - (ca22a1cb)
2024-04-26T00:46:25.8006510+01:00 8000000e-0005-fc00-b63f-84710c7967bb [INF] Request finished HTTP/2 GET https://localhost:44331/_framework/aspnetcore-browser-refresh.js - - - 200 12366 application/javascript;+charset=utf-8 6.4416ms (791a596a)
2024-04-26T00:46:25.8123933+01:00 8000003b-0007-fd00-b63f-84710c7967bb [INF] Request starting HTTP/2 GET https://localhost:44331/_vs/browserLink - - (ca22a1cb)
2024-04-26T00:46:25.8766557+01:00 8000003b-0007-fd00-b63f-84710c7967bb [INF] Request finished HTTP/2 GET https://localhost:44331/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 64.2311ms (791a596a)
2024-04-26T00:46:25.9652964+01:00 8000001a-0004-fe00-b63f-84710c7967bb [INF] Request starting HTTP/2 GET https://localhost:44331/swagger/v1/swagger.json - - (ca22a1cb)
2024-04-26T00:46:26.0858736+01:00 8000001a-0004-fe00-b63f-84710c7967bb [INF] Request finished HTTP/2 GET https://localhost:44331/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 120.4847ms (791a596a)
2024-04-26T00:46:46.1726863+01:00 80000009-0002-f900-b63f-84710c7967bb [INF] Request starting HTTP/2 GET https://localhost:44331/api/Roles - - (ca22a1cb)
2024-04-26T00:46:46.1755452+01:00 80000009-0002-f900-b63f-84710c7967bb [INF] Executing endpoint '"ErrandPayApp.API.Controllers.RolesController.GetRoles (ErrandPayApp.API)"' (500cc934)
2024-04-26T00:46:46.1987958+01:00 80000009-0002-f900-b63f-84710c7967bb [INF] Route matched with "{action = \"GetRoles\", controller = \"Roles\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetRoles()" on controller "ErrandPayApp.API.Controllers.RolesController" ("ErrandPayApp.API"). (122b2fdf)
2024-04-26T00:46:46.2296161+01:00 80000009-0002-f900-b63f-84710c7967bb [INF] Executed DbCommand ("5"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [r].[Id], [r].[CreatedBy], [r].[CreatedDate], [r].[IsActive], [r].[IsDeleted], [r].[ModifiedBy], [r].[ModifiedDate], [r].[RoleDescription], [r].[RoleName], [r].[RoleNameHash]
FROM [Roles] AS [r]
WHERE [r].[IsActive] = CAST(1 AS bit)" (0723d8ff)
2024-04-26T00:46:46.2462615+01:00 80000009-0002-f900-b63f-84710c7967bb [INF] Executing "OkObjectResult", writing value of type '"ErrandPayApp.Core.Models.ResponseModel`1[[System.Object, System.Private.CoreLib, Version=5.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'. (605b4265)
2024-04-26T00:46:46.2678874+01:00 80000009-0002-f900-b63f-84710c7967bb [INF] Executed action "ErrandPayApp.API.Controllers.RolesController.GetRoles (ErrandPayApp.API)" in 63.1925ms (afa2e885)
2024-04-26T00:46:46.2683268+01:00 80000009-0002-f900-b63f-84710c7967bb [INF] Executed endpoint '"ErrandPayApp.API.Controllers.RolesController.GetRoles (ErrandPayApp.API)"' (99874f2b)
2024-04-26T00:46:46.2752469+01:00 80000009-0002-f900-b63f-84710c7967bb [INF] Request finished HTTP/2 GET https://localhost:44331/api/Roles - - - 200 - application/json;+charset=utf-8 102.5254ms (791a596a)
2024-04-26T00:47:23.6484845+01:00 8000000a-0006-f900-b63f-84710c7967bb [INF] Request starting HTTP/2 POST https://localhost:44331/api/Roles application/json 60 (ca22a1cb)
2024-04-26T00:47:23.6525362+01:00 8000000a-0006-f900-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2024-04-26T00:47:23.6627455+01:00 8000000a-0006-f900-b63f-84710c7967bb [INF] Executing endpoint '"ErrandPayApp.API.Controllers.RolesController.CreateRole (ErrandPayApp.API)"' (500cc934)
2024-04-26T00:47:23.6739022+01:00 8000000a-0006-f900-b63f-84710c7967bb [INF] Route matched with "{action = \"CreateRole\", controller = \"Roles\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateRole(ErrandPayApp.API.RequestVms.RoleVm)" on controller "ErrandPayApp.API.Controllers.RolesController" ("ErrandPayApp.API"). (122b2fdf)
2024-04-26T00:47:23.7841510+01:00 8000000a-0006-f900-b63f-84710c7967bb [INF] Executed DbCommand ("36"ms) [Parameters=["@__roleName_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [r].[Id], [r].[CreatedBy], [r].[CreatedDate], [r].[IsActive], [r].[IsDeleted], [r].[ModifiedBy], [r].[ModifiedDate], [r].[RoleDescription], [r].[RoleName], [r].[RoleNameHash]
FROM [Roles] AS [r]
WHERE [r].[RoleName] = @__roleName_0" (0723d8ff)
2024-04-26T00:47:30.0968712+01:00 8000000a-0006-f900-b63f-84710c7967bb [INF] Executed DbCommand ("38"ms) [Parameters=["@p0='?' (Size = 4000), @p1='?' (DbType = DateTimeOffset), @p2='?' (DbType = Boolean), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (DbType = DateTimeOffset), @p6='?' (Size = 4000), @p7='?' (Size = 450), @p8='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [Roles] ([CreatedBy], [CreatedDate], [IsActive], [IsDeleted], [ModifiedBy], [ModifiedDate], [RoleDescription], [RoleName], [RoleNameHash])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
SELECT [Id]
FROM [Roles]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();" (0723d8ff)
2024-04-26T00:47:30.1432040+01:00 8000000a-0006-f900-b63f-84710c7967bb [INF] Executing "OkObjectResult", writing value of type '"ErrandPayApp.Core.Models.ResponseModel`1[[ErrandPayApp.Core.Dtos.RoleDto, ErrandPayApp.Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (605b4265)
2024-04-26T00:47:30.1671342+01:00 8000000a-0006-f900-b63f-84710c7967bb [INF] Executed action "ErrandPayApp.API.Controllers.RolesController.CreateRole (ErrandPayApp.API)" in 6493.1594ms (afa2e885)
2024-04-26T00:47:30.1672060+01:00 8000000a-0006-f900-b63f-84710c7967bb [INF] Executed endpoint '"ErrandPayApp.API.Controllers.RolesController.CreateRole (ErrandPayApp.API)"' (99874f2b)
2024-04-26T00:47:30.1684223+01:00 8000000a-0006-f900-b63f-84710c7967bb [INF] Request finished HTTP/2 POST https://localhost:44331/api/Roles application/json 60 - 200 - application/json;+charset=utf-8 6519.9257ms (791a596a)
2024-04-26T00:51:06.7721299+01:00  [INF] Entity Framework Core "5.0.6" initialized '"APPContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MaxPoolSize=128 " (9958f5bb)
2024-04-26T00:51:07.3348705+01:00  [INF] Executed DbCommand ("31"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1" (0723d8ff)
2024-04-26T00:51:07.3905734+01:00  [INF] Executed DbCommand ("40"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT OBJECT_ID(N'[__EFMigrationsHistory]');" (0723d8ff)
2024-04-26T00:51:07.3950025+01:00  [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1" (0723d8ff)
2024-04-26T00:51:07.3956743+01:00  [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT OBJECT_ID(N'[__EFMigrationsHistory]');" (0723d8ff)
2024-04-26T00:51:07.4148325+01:00  [INF] Executed DbCommand ("5"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];" (0723d8ff)
2024-04-26T00:51:07.4356060+01:00  [INF] No migrations were applied. The database is already up to date. (503cba9d)
2024-04-26T00:51:07.7304354+01:00  [INF] Executed DbCommand ("7"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [p].[PermissionName]
FROM [Permissions] AS [p]" (0723d8ff)
2024-04-26T00:51:07.8474349+01:00  [INF] Executed DbCommand ("23"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[Id], [a].[City], [a].[Country], [a].[CreatedBy], [a].[CreatedDate], [a].[DateAccountLocked], [a].[Email], [a].[EmailConfirmationDate], [a].[FirstName], [a].[IsActive], [a].[IsDeleted], [a].[IsEmailConfirmed], [a].[IsLockedOut], [a].[IsSuperAdmin], [a].[LastLogin], [a].[LockoutCounter], [a].[ModifiedBy], [a].[ModifiedDate], [a].[MustChangePassword], [a].[No], [a].[Password], [a].[PhoneNumber], [a].[Road], [a].[State], [a].[SurName], [a].[Telephone], [a].[Title]
FROM [AppUsers] AS [a]
WHERE [a].[IsSuperAdmin] = CAST(1 AS bit)" (0723d8ff)
2024-04-26T00:51:08.1230345+01:00  [INF] User profile is available. Using '"C:\Users\HP\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest. (7ac5e29c)
2024-04-26T00:51:08.1560532+01:00  [ERR] Message => One or more errors occurred. (Unable to track an entity of type 'AppUser' because its primary key property 'Id' is null.)|Stacktrace =>    at System.Threading.Tasks.Task`1.GetResultCore(Boolean waitCompletionNotification)
   at System.Threading.Tasks.Task`1.get_Result()
   at ErrandPayApp.Infrastructure.Configuration.DatabaseConfiguration.InitializeSupperUser(IServiceScope scope) in C:\Users\HP\source\repos\ErrandPayApp.API\ErrandPayApp.Infrastructure\Configuration\DatabaseConfiguration.cs:line 87|InnerException => System.InvalidOperationException: Unable to track an entity of type 'AppUser' because its primary key property 'Id' is null.
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.NullableKeyIdentityMap`1.Add(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.StartTracking(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState oldState, EntityState newState, Boolean acceptChanges, Boolean modifyProperties)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState entityState, Boolean acceptChanges, Boolean modifyProperties, Nullable`1 forceStateWhenUnknownKey)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.PaintAction(EntityEntryGraphNode`1 node)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityEntryGraphIterator.TraverseGraph[TState](EntityEntryGraphNode`1 node, Func`2 handleNode)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.AttachGraph(InternalEntityEntry rootEntry, EntityState targetState, EntityState storeGeneratedWithKeySetTargetState, Boolean forceStateWhenUnknownKey)
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.SetEntityState(InternalEntityEntry entry, EntityState entityState)
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.Add(TEntity entity)
   at ErrandPayApp.Data.Repositories.UserRepository.CreateDefaultUser() in C:\Users\HP\source\repos\ErrandPayApp.API\ErrandPayApp.Data\Repositories\UserRepository.cs:line 309 (c772a506)
System.AggregateException: One or more errors occurred. (Unable to track an entity of type 'AppUser' because its primary key property 'Id' is null.)
 ---> System.InvalidOperationException: Unable to track an entity of type 'AppUser' because its primary key property 'Id' is null.
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.NullableKeyIdentityMap`1.Add(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.StartTracking(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState oldState, EntityState newState, Boolean acceptChanges, Boolean modifyProperties)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState entityState, Boolean acceptChanges, Boolean modifyProperties, Nullable`1 forceStateWhenUnknownKey)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.PaintAction(EntityEntryGraphNode`1 node)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityEntryGraphIterator.TraverseGraph[TState](EntityEntryGraphNode`1 node, Func`2 handleNode)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.AttachGraph(InternalEntityEntry rootEntry, EntityState targetState, EntityState storeGeneratedWithKeySetTargetState, Boolean forceStateWhenUnknownKey)
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.SetEntityState(InternalEntityEntry entry, EntityState entityState)
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.Add(TEntity entity)
   at ErrandPayApp.Data.Repositories.UserRepository.CreateDefaultUser() in C:\Users\HP\source\repos\ErrandPayApp.API\ErrandPayApp.Data\Repositories\UserRepository.cs:line 309
   --- End of inner exception stack trace ---
   at System.Threading.Tasks.Task`1.GetResultCore(Boolean waitCompletionNotification)
   at System.Threading.Tasks.Task`1.get_Result()
   at ErrandPayApp.Infrastructure.Configuration.DatabaseConfiguration.InitializeSupperUser(IServiceScope scope) in C:\Users\HP\source\repos\ErrandPayApp.API\ErrandPayApp.Infrastructure\Configuration\DatabaseConfiguration.cs:line 87
2024-04-26T00:51:08.4231311+01:00  [INF] Application started. Press Ctrl+C to shut down. (dcaefe54)
2024-04-26T00:51:08.4265625+01:00  [INF] Hosting environment: "Development" (c3307c92)
2024-04-26T00:51:08.4303724+01:00  [INF] Content root path: "C:\Users\HP\source\repos\ErrandPayApp.API\ErrandPayApp.API" (b5d60022)
2024-04-26T00:51:08.5007285+01:00 80000039-0006-fe00-b63f-84710c7967bb [INF] Request starting HTTP/2 GET https://localhost:44331/swagger/index.html - - (ca22a1cb)
2024-04-26T00:51:08.9427839+01:00 80000039-0006-fe00-b63f-84710c7967bb [INF] Request finished HTTP/2 GET https://localhost:44331/swagger/index.html - - - 404 - - 445.6389ms (791a596a)
2024-04-26T00:51:11.8749710+01:00 8000004f-0000-fd00-b63f-84710c7967bb [INF] Request starting HTTP/2 GET https://localhost:44331/index.html - - (ca22a1cb)
2024-04-26T00:51:11.9910468+01:00 8000004f-0000-fd00-b63f-84710c7967bb [INF] Request finished HTTP/2 GET https://localhost:44331/index.html - - - 200 - text/html;charset=utf-8 116.1703ms (791a596a)
2024-04-26T00:51:12.1644436+01:00 80000051-0000-fd00-b63f-84710c7967bb [INF] Request starting HTTP/2 GET https://localhost:44331/_framework/aspnetcore-browser-refresh.js - - (ca22a1cb)
2024-04-26T00:51:12.1700116+01:00 80000051-0000-fd00-b63f-84710c7967bb [INF] Request finished HTTP/2 GET https://localhost:44331/_framework/aspnetcore-browser-refresh.js - - - 200 12366 application/javascript;+charset=utf-8 5.1109ms (791a596a)
2024-04-26T00:51:12.1831598+01:00 80000021-0001-fe00-b63f-84710c7967bb [INF] Request starting HTTP/2 GET https://localhost:44331/_vs/browserLink - - (ca22a1cb)
2024-04-26T00:51:12.2605085+01:00 80000021-0001-fe00-b63f-84710c7967bb [INF] Request finished HTTP/2 GET https://localhost:44331/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 77.2981ms (791a596a)
2024-04-26T00:51:12.3254134+01:00 8000000b-0002-f900-b63f-84710c7967bb [INF] Request starting HTTP/2 GET https://localhost:44331/swagger/v1/swagger.json - - (ca22a1cb)
2024-04-26T00:51:12.4506927+01:00 8000000b-0002-f900-b63f-84710c7967bb [INF] Request finished HTTP/2 GET https://localhost:44331/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 125.1528ms (791a596a)
2024-04-26T00:52:12.9283457+01:00 80000014-0004-fc00-b63f-84710c7967bb [INF] Request starting HTTP/2 POST https://localhost:44331/api/User application/json 304 (ca22a1cb)
2024-04-26T00:52:12.9304823+01:00 80000014-0004-fc00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2024-04-26T00:52:12.9416459+01:00 80000014-0004-fc00-b63f-84710c7967bb [INF] Executing endpoint '"ErrandPayApp.API.Controllers.UserController.CreateUser (ErrandPayApp.API)"' (500cc934)
2024-04-26T00:52:12.9705291+01:00 80000014-0004-fc00-b63f-84710c7967bb [INF] Route matched with "{action = \"CreateUser\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateUser(ErrandPayApp.API.RequestVms.UserVm)" on controller "ErrandPayApp.API.Controllers.UserController" ("ErrandPayApp.API"). (122b2fdf)
2024-04-26T00:52:16.1159907+01:00 80000014-0004-fc00-b63f-84710c7967bb [INF] Executed DbCommand ("83"ms) [Parameters=["@__email_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[Email], [a].[PhoneNumber], [a].[SurName], [a].[FirstName], [a].[IsSuperAdmin], [a].[Id], [a].[MustChangePassword], [a].[LockoutCounter], [a].[IsLockedOut], [a].[LastLogin], [a].[DateAccountLocked], [a].[Title], [a].[No], [a].[Road], [a].[City], [a].[State], [a].[Country]
FROM [AppUsers] AS [a]
WHERE [a].[Email] = @__email_0" (0723d8ff)
2024-04-26T00:52:16.4052592+01:00 80000014-0004-fc00-b63f-84710c7967bb [INF] Executing JsonResult, writing value of type '"ErrandPayApp.Core.Models.ResponseModel`1[[System.Object, System.Private.CoreLib, Version=5.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'. (2f513669)
2024-04-26T00:52:16.4219260+01:00 80000014-0004-fc00-b63f-84710c7967bb [INF] Executed action "ErrandPayApp.API.Controllers.UserController.CreateUser (ErrandPayApp.API)" in 3443.0362ms (afa2e885)
2024-04-26T00:52:16.4225403+01:00 80000014-0004-fc00-b63f-84710c7967bb [INF] Executed endpoint '"ErrandPayApp.API.Controllers.UserController.CreateUser (ErrandPayApp.API)"' (99874f2b)
2024-04-26T00:52:16.5694262+01:00 80000014-0004-fc00-b63f-84710c7967bb [INF] Request finished HTTP/2 POST https://localhost:44331/api/User application/json 304 - 400 - application/json 3641.0595ms (791a596a)
2024-04-26T00:52:45.9749825+01:00 80000016-0004-fc00-b63f-84710c7967bb [INF] Request starting HTTP/2 POST https://localhost:44331/api/User application/json 304 (ca22a1cb)
2024-04-26T00:52:45.9752334+01:00 80000016-0004-fc00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2024-04-26T00:52:45.9790389+01:00 80000016-0004-fc00-b63f-84710c7967bb [INF] Executing endpoint '"ErrandPayApp.API.Controllers.UserController.CreateUser (ErrandPayApp.API)"' (500cc934)
2024-04-26T00:52:45.9795140+01:00 80000016-0004-fc00-b63f-84710c7967bb [INF] Route matched with "{action = \"CreateUser\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateUser(ErrandPayApp.API.RequestVms.UserVm)" on controller "ErrandPayApp.API.Controllers.UserController" ("ErrandPayApp.API"). (122b2fdf)
2024-04-26T00:52:52.2123705+01:00 80000016-0004-fc00-b63f-84710c7967bb [INF] Executed DbCommand ("36"ms) [Parameters=["@__email_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[Email], [a].[PhoneNumber], [a].[SurName], [a].[FirstName], [a].[IsSuperAdmin], [a].[Id], [a].[MustChangePassword], [a].[LockoutCounter], [a].[IsLockedOut], [a].[LastLogin], [a].[DateAccountLocked], [a].[Title], [a].[No], [a].[Road], [a].[City], [a].[State], [a].[Country]
FROM [AppUsers] AS [a]
WHERE [a].[Email] = @__email_0" (0723d8ff)
2024-04-26T00:52:52.3808767+01:00 80000016-0004-fc00-b63f-84710c7967bb [INF] Executing JsonResult, writing value of type '"ErrandPayApp.Core.Models.ResponseModel`1[[System.Object, System.Private.CoreLib, Version=5.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'. (2f513669)
2024-04-26T00:52:52.3813061+01:00 80000016-0004-fc00-b63f-84710c7967bb [INF] Executed action "ErrandPayApp.API.Controllers.UserController.CreateUser (ErrandPayApp.API)" in 6401.7029ms (afa2e885)
2024-04-26T00:52:52.3813544+01:00 80000016-0004-fc00-b63f-84710c7967bb [INF] Executed endpoint '"ErrandPayApp.API.Controllers.UserController.CreateUser (ErrandPayApp.API)"' (99874f2b)
2024-04-26T00:52:52.4201658+01:00 80000016-0004-fc00-b63f-84710c7967bb [INF] Request finished HTTP/2 POST https://localhost:44331/api/User application/json 304 - 400 - application/json 6445.1698ms (791a596a)
2024-04-26T00:54:00.2684298+01:00 80000011-0002-fb00-b63f-84710c7967bb [INF] Request starting HTTP/2 POST https://localhost:44331/api/Roles application/json 85 (ca22a1cb)
2024-04-26T00:54:00.2685364+01:00 80000011-0002-fb00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2024-04-26T00:54:00.2687077+01:00 80000011-0002-fb00-b63f-84710c7967bb [INF] Executing endpoint '"ErrandPayApp.API.Controllers.RolesController.CreateRole (ErrandPayApp.API)"' (500cc934)
2024-04-26T00:54:00.2734225+01:00 80000011-0002-fb00-b63f-84710c7967bb [INF] Route matched with "{action = \"CreateRole\", controller = \"Roles\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateRole(ErrandPayApp.API.RequestVms.RoleVm)" on controller "ErrandPayApp.API.Controllers.RolesController" ("ErrandPayApp.API"). (122b2fdf)
2024-04-26T00:54:00.3031606+01:00 80000011-0002-fb00-b63f-84710c7967bb [INF] Executed DbCommand ("6"ms) [Parameters=["@__roleName_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [r].[Id], [r].[CreatedBy], [r].[CreatedDate], [r].[IsActive], [r].[IsDeleted], [r].[ModifiedBy], [r].[ModifiedDate], [r].[RoleDescription], [r].[RoleName], [r].[RoleNameHash]
FROM [Roles] AS [r]
WHERE [r].[RoleName] = @__roleName_0" (0723d8ff)
2024-04-26T00:54:03.2961905+01:00 80000011-0002-fb00-b63f-84710c7967bb [INF] Executed DbCommand ("15"ms) [Parameters=["@p0='?' (Size = 4000), @p1='?' (DbType = DateTimeOffset), @p2='?' (DbType = Boolean), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (DbType = DateTimeOffset), @p6='?' (Size = 4000), @p7='?' (Size = 450), @p8='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [Roles] ([CreatedBy], [CreatedDate], [IsActive], [IsDeleted], [ModifiedBy], [ModifiedDate], [RoleDescription], [RoleName], [RoleNameHash])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
SELECT [Id]
FROM [Roles]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();" (0723d8ff)
2024-04-26T00:54:03.3549942+01:00 80000011-0002-fb00-b63f-84710c7967bb [INF] Executing "OkObjectResult", writing value of type '"ErrandPayApp.Core.Models.ResponseModel`1[[ErrandPayApp.Core.Dtos.RoleDto, ErrandPayApp.Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (605b4265)
2024-04-26T00:54:03.3636275+01:00 80000011-0002-fb00-b63f-84710c7967bb [INF] Executed action "ErrandPayApp.API.Controllers.RolesController.CreateRole (ErrandPayApp.API)" in 3090.1248ms (afa2e885)
2024-04-26T00:54:03.3638005+01:00 80000011-0002-fb00-b63f-84710c7967bb [INF] Executed endpoint '"ErrandPayApp.API.Controllers.RolesController.CreateRole (ErrandPayApp.API)"' (99874f2b)
2024-04-26T00:54:03.3684378+01:00 80000011-0002-fb00-b63f-84710c7967bb [INF] Request finished HTTP/2 POST https://localhost:44331/api/Roles application/json 85 - 200 - application/json;+charset=utf-8 3099.9964ms (791a596a)
2024-04-26T00:54:58.0176732+01:00 80000079-0004-f900-b63f-84710c7967bb [INF] Request starting HTTP/2 POST https://localhost:44331/api/User application/json 304 (ca22a1cb)
2024-04-26T00:54:58.0179278+01:00 80000079-0004-f900-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2024-04-26T00:54:58.0186405+01:00 80000079-0004-f900-b63f-84710c7967bb [INF] Executing endpoint '"ErrandPayApp.API.Controllers.UserController.CreateUser (ErrandPayApp.API)"' (500cc934)
2024-04-26T00:54:58.0190580+01:00 80000079-0004-f900-b63f-84710c7967bb [INF] Route matched with "{action = \"CreateUser\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateUser(ErrandPayApp.API.RequestVms.UserVm)" on controller "ErrandPayApp.API.Controllers.UserController" ("ErrandPayApp.API"). (122b2fdf)
2024-04-26T00:55:01.3690073+01:00 80000079-0004-f900-b63f-84710c7967bb [INF] Executed DbCommand ("93"ms) [Parameters=["@__email_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[Email], [a].[PhoneNumber], [a].[SurName], [a].[FirstName], [a].[IsSuperAdmin], [a].[Id], [a].[MustChangePassword], [a].[LockoutCounter], [a].[IsLockedOut], [a].[LastLogin], [a].[DateAccountLocked], [a].[Title], [a].[No], [a].[Road], [a].[City], [a].[State], [a].[Country]
FROM [AppUsers] AS [a]
WHERE [a].[Email] = @__email_0" (0723d8ff)
2024-04-26T00:55:07.4414067+01:00 80000079-0004-f900-b63f-84710c7967bb [INF] Executed DbCommand ("35"ms) [Parameters=["@p0='?' (Size = 450), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (DbType = DateTimeOffset), @p5='?' (DbType = DateTime2), @p6='?' (Size = 450), @p7='?' (DbType = DateTimeOffset), @p8='?' (Size = 4000), @p9='?' (DbType = Boolean), @p10='?' (DbType = Boolean), @p11='?' (DbType = Boolean), @p12='?' (DbType = Boolean), @p13='?' (DbType = Boolean), @p14='?' (DbType = DateTime2), @p15='?' (DbType = Int32), @p16='?' (Size = 4000), @p17='?' (DbType = DateTimeOffset), @p18='?' (DbType = Boolean), @p19='?' (Size = 4000), @p20='?' (Size = 4000), @p21='?' (Size = 4000), @p22='?' (Size = 4000), @p23='?' (Size = 4000), @p24='?' (Size = 4000), @p25='?' (Size = 4000), @p26='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [AppUsers] ([Id], [City], [Country], [CreatedBy], [CreatedDate], [DateAccountLocked], [Email], [EmailConfirmationDate], [FirstName], [IsActive], [IsDeleted], [IsEmailConfirmed], [IsLockedOut], [IsSuperAdmin], [LastLogin], [LockoutCounter], [ModifiedBy], [ModifiedDate], [MustChangePassword], [No], [Password], [PhoneNumber], [Road], [State], [SurName], [Telephone], [Title])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26);" (0723d8ff)
2024-04-26T00:55:14.0396795+01:00 80000079-0004-f900-b63f-84710c7967bb [ERR] Failed executing DbCommand ("24"ms) [Parameters=["@p0='?' (Size = 4000), @p1='?' (DbType = DateTimeOffset), @p2='?' (DbType = Boolean), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (DbType = DateTimeOffset), @p6='?' (DbType = Int64), @p7='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [UserRoles] ([CreatedBy], [CreatedDate], [IsActive], [IsDeleted], [ModifiedBy], [ModifiedDate], [RoleId], [UserId])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
SELECT [Id]
FROM [UserRoles]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();" (627a98df)
2024-04-26T00:55:14.0772709+01:00 80000079-0004-f900-b63f-84710c7967bb [ERR] An exception occurred in the database while saving changes for context type '"ErrandPayApp.Data.APPContext"'."
""Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint \"FK_UserRoles_Roles_RoleId\". The conflict occurred in database \"E-TicketingDb\", table \"dbo.Roles\", column 'Id'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__195_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__277_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:933e1305-b15c-408f-9f64-d7812b1d3873
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(DbContext _, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)" (170f029e)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_UserRoles_Roles_RoleId". The conflict occurred in database "E-TicketingDb", table "dbo.Roles", column 'Id'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__195_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__277_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:933e1305-b15c-408f-9f64-d7812b1d3873
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(DbContext _, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at ErrandPayApp.Data.Repositories.UserRoleRepository.Create(int userId, Int32 roleIds) in C:\Users\HP\source\repos\ErrandPayApp.API\ErrandPayApp.Data\Repositories\UserRoleRepository.cs:line 71
2024-04-26T00:55:14.3476329+01:00 80000079-0004-f900-b63f-84710c7967bb [INF] Executing JsonResult, writing value of type '"ErrandPayApp.Core.Models.ResponseModel`1[[System.Object, System.Private.CoreLib, Version=5.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'. (2f513669)
2024-04-26T00:55:14.3488523+01:00 80000079-0004-f900-b63f-84710c7967bb [INF] Executed action "ErrandPayApp.API.Controllers.UserController.CreateUser (ErrandPayApp.API)" in 16329.7371ms (afa2e885)
2024-04-26T00:55:14.3489008+01:00 80000079-0004-f900-b63f-84710c7967bb [INF] Executed endpoint '"ErrandPayApp.API.Controllers.UserController.CreateUser (ErrandPayApp.API)"' (99874f2b)
2024-04-26T00:55:14.3545935+01:00 80000079-0004-f900-b63f-84710c7967bb [INF] Request finished HTTP/2 POST https://localhost:44331/api/User application/json 304 - 500 - application/json 16336.9635ms (791a596a)
2024-04-26T00:56:42.2231008+01:00  [INF] Entity Framework Core "5.0.6" initialized '"APPContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MaxPoolSize=128 " (9958f5bb)
2024-04-26T00:56:42.8035937+01:00  [INF] Executed DbCommand ("30"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1" (0723d8ff)
2024-04-26T00:56:42.8784185+01:00  [INF] Executed DbCommand ("59"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT OBJECT_ID(N'[__EFMigrationsHistory]');" (0723d8ff)
2024-04-26T00:56:42.8825467+01:00  [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1" (0723d8ff)
2024-04-26T00:56:42.8832589+01:00  [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT OBJECT_ID(N'[__EFMigrationsHistory]');" (0723d8ff)
2024-04-26T00:56:42.9090447+01:00  [INF] Executed DbCommand ("10"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];" (0723d8ff)
2024-04-26T00:56:42.9309143+01:00  [INF] No migrations were applied. The database is already up to date. (503cba9d)
2024-04-26T00:56:43.3314218+01:00  [INF] Executed DbCommand ("5"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [p].[PermissionName]
FROM [Permissions] AS [p]" (0723d8ff)
2024-04-26T00:56:43.4694618+01:00  [INF] Executed DbCommand ("30"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[Id], [a].[City], [a].[Country], [a].[CreatedBy], [a].[CreatedDate], [a].[DateAccountLocked], [a].[Email], [a].[EmailConfirmationDate], [a].[FirstName], [a].[IsActive], [a].[IsDeleted], [a].[IsEmailConfirmed], [a].[IsLockedOut], [a].[IsSuperAdmin], [a].[LastLogin], [a].[LockoutCounter], [a].[ModifiedBy], [a].[ModifiedDate], [a].[MustChangePassword], [a].[No], [a].[Password], [a].[PhoneNumber], [a].[Road], [a].[State], [a].[SurName], [a].[Telephone], [a].[Title]
FROM [AppUsers] AS [a]
WHERE [a].[IsSuperAdmin] = CAST(1 AS bit)" (0723d8ff)
2024-04-26T00:56:43.8135809+01:00  [INF] User profile is available. Using '"C:\Users\HP\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest. (7ac5e29c)
2024-04-26T00:56:43.8611209+01:00  [ERR] Message => One or more errors occurred. (Unable to track an entity of type 'AppUser' because its primary key property 'Id' is null.)|Stacktrace =>    at System.Threading.Tasks.Task`1.GetResultCore(Boolean waitCompletionNotification)
   at System.Threading.Tasks.Task`1.get_Result()
   at ErrandPayApp.Infrastructure.Configuration.DatabaseConfiguration.InitializeSupperUser(IServiceScope scope) in C:\Users\HP\source\repos\ErrandPayApp.API\ErrandPayApp.Infrastructure\Configuration\DatabaseConfiguration.cs:line 87|InnerException => System.InvalidOperationException: Unable to track an entity of type 'AppUser' because its primary key property 'Id' is null.
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.NullableKeyIdentityMap`1.Add(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.StartTracking(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState oldState, EntityState newState, Boolean acceptChanges, Boolean modifyProperties)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState entityState, Boolean acceptChanges, Boolean modifyProperties, Nullable`1 forceStateWhenUnknownKey)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.PaintAction(EntityEntryGraphNode`1 node)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityEntryGraphIterator.TraverseGraph[TState](EntityEntryGraphNode`1 node, Func`2 handleNode)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.AttachGraph(InternalEntityEntry rootEntry, EntityState targetState, EntityState storeGeneratedWithKeySetTargetState, Boolean forceStateWhenUnknownKey)
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.SetEntityState(InternalEntityEntry entry, EntityState entityState)
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.Add(TEntity entity)
   at ErrandPayApp.Data.Repositories.UserRepository.CreateDefaultUser() in C:\Users\HP\source\repos\ErrandPayApp.API\ErrandPayApp.Data\Repositories\UserRepository.cs:line 309 (c772a506)
System.AggregateException: One or more errors occurred. (Unable to track an entity of type 'AppUser' because its primary key property 'Id' is null.)
 ---> System.InvalidOperationException: Unable to track an entity of type 'AppUser' because its primary key property 'Id' is null.
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.NullableKeyIdentityMap`1.Add(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.StartTracking(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState oldState, EntityState newState, Boolean acceptChanges, Boolean modifyProperties)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState entityState, Boolean acceptChanges, Boolean modifyProperties, Nullable`1 forceStateWhenUnknownKey)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.PaintAction(EntityEntryGraphNode`1 node)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityEntryGraphIterator.TraverseGraph[TState](EntityEntryGraphNode`1 node, Func`2 handleNode)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.AttachGraph(InternalEntityEntry rootEntry, EntityState targetState, EntityState storeGeneratedWithKeySetTargetState, Boolean forceStateWhenUnknownKey)
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.SetEntityState(InternalEntityEntry entry, EntityState entityState)
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.Add(TEntity entity)
   at ErrandPayApp.Data.Repositories.UserRepository.CreateDefaultUser() in C:\Users\HP\source\repos\ErrandPayApp.API\ErrandPayApp.Data\Repositories\UserRepository.cs:line 309
   --- End of inner exception stack trace ---
   at System.Threading.Tasks.Task`1.GetResultCore(Boolean waitCompletionNotification)
   at System.Threading.Tasks.Task`1.get_Result()
   at ErrandPayApp.Infrastructure.Configuration.DatabaseConfiguration.InitializeSupperUser(IServiceScope scope) in C:\Users\HP\source\repos\ErrandPayApp.API\ErrandPayApp.Infrastructure\Configuration\DatabaseConfiguration.cs:line 87
2024-04-26T00:56:44.1086895+01:00  [INF] Application started. Press Ctrl+C to shut down. (dcaefe54)
2024-04-26T00:56:44.1111168+01:00  [INF] Hosting environment: "Development" (c3307c92)
2024-04-26T00:56:44.1134726+01:00  [INF] Content root path: "C:\Users\HP\source\repos\ErrandPayApp.API\ErrandPayApp.API" (b5d60022)
2024-04-26T00:56:44.1722498+01:00 8000007b-0004-f900-b63f-84710c7967bb [INF] Request starting HTTP/2 GET https://localhost:44331/swagger/index.html - - (ca22a1cb)
2024-04-26T00:56:44.5819446+01:00 8000007b-0004-f900-b63f-84710c7967bb [INF] Request finished HTTP/2 GET https://localhost:44331/swagger/index.html - - - 404 - - 412.6088ms (791a596a)
2024-04-26T00:56:48.0119214+01:00 8000007d-0004-f900-b63f-84710c7967bb [INF] Request starting HTTP/2 GET https://localhost:44331/index.html - - (ca22a1cb)
2024-04-26T00:56:48.1170980+01:00 8000007d-0004-f900-b63f-84710c7967bb [INF] Request finished HTTP/2 GET https://localhost:44331/index.html - - - 200 - text/html;charset=utf-8 105.2452ms (791a596a)
2024-04-26T00:56:48.2660333+01:00 80000010-0005-fc00-b63f-84710c7967bb [INF] Request starting HTTP/2 GET https://localhost:44331/_framework/aspnetcore-browser-refresh.js - - (ca22a1cb)
2024-04-26T00:56:48.2708763+01:00 80000010-0005-fc00-b63f-84710c7967bb [INF] Request finished HTTP/2 GET https://localhost:44331/_framework/aspnetcore-browser-refresh.js - - - 200 12366 application/javascript;+charset=utf-8 4.4694ms (791a596a)
2024-04-26T00:56:48.2819597+01:00 80000063-0000-fe00-b63f-84710c7967bb [INF] Request starting HTTP/2 GET https://localhost:44331/_vs/browserLink - - (ca22a1cb)
2024-04-26T00:56:48.3453457+01:00 80000063-0000-fe00-b63f-84710c7967bb [INF] Request finished HTTP/2 GET https://localhost:44331/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 63.3221ms (791a596a)
2024-04-26T00:56:48.4514080+01:00 80000016-0003-fd00-b63f-84710c7967bb [INF] Request starting HTTP/2 GET https://localhost:44331/swagger/v1/swagger.json - - (ca22a1cb)
2024-04-26T00:56:48.6579182+01:00 80000016-0003-fd00-b63f-84710c7967bb [INF] Request finished HTTP/2 GET https://localhost:44331/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 206.5337ms (791a596a)
2024-04-26T00:58:05.3434210+01:00 8000007f-0004-f900-b63f-84710c7967bb [INF] Request starting HTTP/2 POST https://localhost:44331/api/User application/json 308 (ca22a1cb)
2024-04-26T00:58:05.3477159+01:00 8000007f-0004-f900-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2024-04-26T00:58:05.3588359+01:00 8000007f-0004-f900-b63f-84710c7967bb [INF] Executing endpoint '"ErrandPayApp.API.Controllers.UserController.CreateUser (ErrandPayApp.API)"' (500cc934)
2024-04-26T00:58:05.4321128+01:00 8000007f-0004-f900-b63f-84710c7967bb [INF] Route matched with "{action = \"CreateUser\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateUser(ErrandPayApp.API.RequestVms.UserVm)" on controller "ErrandPayApp.API.Controllers.UserController" ("ErrandPayApp.API"). (122b2fdf)
2024-04-26T00:58:10.9834411+01:00 8000007f-0004-f900-b63f-84710c7967bb [INF] Executed DbCommand ("67"ms) [Parameters=["@__email_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[Email], [a].[PhoneNumber], [a].[SurName], [a].[FirstName], [a].[IsSuperAdmin], [a].[Id], [a].[MustChangePassword], [a].[LockoutCounter], [a].[IsLockedOut], [a].[LastLogin], [a].[DateAccountLocked], [a].[Title], [a].[No], [a].[Road], [a].[City], [a].[State], [a].[Country]
FROM [AppUsers] AS [a]
WHERE [a].[Email] = @__email_0" (0723d8ff)
2024-04-26T00:58:15.5162920+01:00 8000007f-0004-f900-b63f-84710c7967bb [INF] Executed DbCommand ("46"ms) [Parameters=["@p0='?' (Size = 450), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (DbType = DateTimeOffset), @p5='?' (DbType = DateTime2), @p6='?' (Size = 450), @p7='?' (DbType = DateTimeOffset), @p8='?' (Size = 4000), @p9='?' (DbType = Boolean), @p10='?' (DbType = Boolean), @p11='?' (DbType = Boolean), @p12='?' (DbType = Boolean), @p13='?' (DbType = Boolean), @p14='?' (DbType = DateTime2), @p15='?' (DbType = Int32), @p16='?' (Size = 4000), @p17='?' (DbType = DateTimeOffset), @p18='?' (DbType = Boolean), @p19='?' (Size = 4000), @p20='?' (Size = 4000), @p21='?' (Size = 4000), @p22='?' (Size = 4000), @p23='?' (Size = 4000), @p24='?' (Size = 4000), @p25='?' (Size = 4000), @p26='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [AppUsers] ([Id], [City], [Country], [CreatedBy], [CreatedDate], [DateAccountLocked], [Email], [EmailConfirmationDate], [FirstName], [IsActive], [IsDeleted], [IsEmailConfirmed], [IsLockedOut], [IsSuperAdmin], [LastLogin], [LockoutCounter], [ModifiedBy], [ModifiedDate], [MustChangePassword], [No], [Password], [PhoneNumber], [Road], [State], [SurName], [Telephone], [Title])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26);" (0723d8ff)
2024-04-26T00:58:19.1540190+01:00 8000007f-0004-f900-b63f-84710c7967bb [ERR] Failed executing DbCommand ("42"ms) [Parameters=["@p0='?' (Size = 4000), @p1='?' (DbType = DateTimeOffset), @p2='?' (DbType = Boolean), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (DbType = DateTimeOffset), @p6='?' (DbType = Int64), @p7='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [UserRoles] ([CreatedBy], [CreatedDate], [IsActive], [IsDeleted], [ModifiedBy], [ModifiedDate], [RoleId], [UserId])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
SELECT [Id]
FROM [UserRoles]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();" (627a98df)
2024-04-26T00:58:19.1957303+01:00 8000007f-0004-f900-b63f-84710c7967bb [ERR] An exception occurred in the database while saving changes for context type '"ErrandPayApp.Data.APPContext"'."
""Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint \"FK_UserRoles_Roles_RoleId\". The conflict occurred in database \"E-TicketingDb\", table \"dbo.Roles\", column 'Id'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__195_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__277_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:47adb949-e240-412b-a0fa-62c9376bfba5
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(DbContext _, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)" (170f029e)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_UserRoles_Roles_RoleId". The conflict occurred in database "E-TicketingDb", table "dbo.Roles", column 'Id'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__195_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__277_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:47adb949-e240-412b-a0fa-62c9376bfba5
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(DbContext _, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at ErrandPayApp.Data.Repositories.UserRoleRepository.Create(int userId, Int32 roleIds) in C:\Users\HP\source\repos\ErrandPayApp.API\ErrandPayApp.Data\Repositories\UserRoleRepository.cs:line 71
2024-04-26T00:58:19.7275023+01:00 8000007f-0004-f900-b63f-84710c7967bb [INF] Executing JsonResult, writing value of type '"ErrandPayApp.Core.Models.ResponseModel`1[[System.Object, System.Private.CoreLib, Version=5.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'. (2f513669)
2024-04-26T00:58:19.7408091+01:00 8000007f-0004-f900-b63f-84710c7967bb [INF] Executed action "ErrandPayApp.API.Controllers.UserController.CreateUser (ErrandPayApp.API)" in 14300.948ms (afa2e885)
2024-04-26T00:58:19.7413712+01:00 8000007f-0004-f900-b63f-84710c7967bb [INF] Executed endpoint '"ErrandPayApp.API.Controllers.UserController.CreateUser (ErrandPayApp.API)"' (99874f2b)
2024-04-26T00:58:19.8905087+01:00 8000007f-0004-f900-b63f-84710c7967bb [INF] Request finished HTTP/2 POST https://localhost:44331/api/User application/json 308 - 500 - application/json 14547.0985ms (791a596a)
2024-04-26T01:00:00.0282610+01:00  [INF] Entity Framework Core "5.0.6" initialized '"APPContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MaxPoolSize=128 " (9958f5bb)
2024-04-26T01:00:00.5800971+01:00  [INF] Executed DbCommand ("29"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1" (0723d8ff)
2024-04-26T01:00:00.6154625+01:00  [INF] Executed DbCommand ("20"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT OBJECT_ID(N'[__EFMigrationsHistory]');" (0723d8ff)
2024-04-26T01:00:00.6212394+01:00  [INF] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1" (0723d8ff)
2024-04-26T01:00:00.6221313+01:00  [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT OBJECT_ID(N'[__EFMigrationsHistory]');" (0723d8ff)
2024-04-26T01:00:00.6493258+01:00  [INF] Executed DbCommand ("9"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];" (0723d8ff)
2024-04-26T01:00:00.6725218+01:00  [INF] No migrations were applied. The database is already up to date. (503cba9d)
2024-04-26T01:00:01.1009491+01:00  [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [p].[PermissionName]
FROM [Permissions] AS [p]" (0723d8ff)
2024-04-26T01:00:01.3051044+01:00  [INF] Executed DbCommand ("39"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[Id], [a].[City], [a].[Country], [a].[CreatedBy], [a].[CreatedDate], [a].[DateAccountLocked], [a].[Email], [a].[EmailConfirmationDate], [a].[FirstName], [a].[IsActive], [a].[IsDeleted], [a].[IsEmailConfirmed], [a].[IsLockedOut], [a].[IsSuperAdmin], [a].[LastLogin], [a].[LockoutCounter], [a].[ModifiedBy], [a].[ModifiedDate], [a].[MustChangePassword], [a].[No], [a].[Password], [a].[PhoneNumber], [a].[Road], [a].[State], [a].[SurName], [a].[Telephone], [a].[Title]
FROM [AppUsers] AS [a]
WHERE [a].[IsSuperAdmin] = CAST(1 AS bit)" (0723d8ff)
2024-04-26T01:00:01.7212878+01:00  [INF] User profile is available. Using '"C:\Users\HP\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest. (7ac5e29c)
2024-04-26T01:00:01.7677003+01:00  [ERR] Message => One or more errors occurred. (Unable to track an entity of type 'AppUser' because its primary key property 'Id' is null.)|Stacktrace =>    at System.Threading.Tasks.Task`1.GetResultCore(Boolean waitCompletionNotification)
   at System.Threading.Tasks.Task`1.get_Result()
   at ErrandPayApp.Infrastructure.Configuration.DatabaseConfiguration.InitializeSupperUser(IServiceScope scope) in C:\Users\HP\source\repos\ErrandPayApp.API\ErrandPayApp.Infrastructure\Configuration\DatabaseConfiguration.cs:line 87|InnerException => System.InvalidOperationException: Unable to track an entity of type 'AppUser' because its primary key property 'Id' is null.
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.NullableKeyIdentityMap`1.Add(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.StartTracking(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState oldState, EntityState newState, Boolean acceptChanges, Boolean modifyProperties)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState entityState, Boolean acceptChanges, Boolean modifyProperties, Nullable`1 forceStateWhenUnknownKey)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.PaintAction(EntityEntryGraphNode`1 node)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityEntryGraphIterator.TraverseGraph[TState](EntityEntryGraphNode`1 node, Func`2 handleNode)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.AttachGraph(InternalEntityEntry rootEntry, EntityState targetState, EntityState storeGeneratedWithKeySetTargetState, Boolean forceStateWhenUnknownKey)
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.SetEntityState(InternalEntityEntry entry, EntityState entityState)
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.Add(TEntity entity)
   at ErrandPayApp.Data.Repositories.UserRepository.CreateDefaultUser() in C:\Users\HP\source\repos\ErrandPayApp.API\ErrandPayApp.Data\Repositories\UserRepository.cs:line 309 (c772a506)
System.AggregateException: One or more errors occurred. (Unable to track an entity of type 'AppUser' because its primary key property 'Id' is null.)
 ---> System.InvalidOperationException: Unable to track an entity of type 'AppUser' because its primary key property 'Id' is null.
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.NullableKeyIdentityMap`1.Add(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.StartTracking(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState oldState, EntityState newState, Boolean acceptChanges, Boolean modifyProperties)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState entityState, Boolean acceptChanges, Boolean modifyProperties, Nullable`1 forceStateWhenUnknownKey)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.PaintAction(EntityEntryGraphNode`1 node)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityEntryGraphIterator.TraverseGraph[TState](EntityEntryGraphNode`1 node, Func`2 handleNode)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.AttachGraph(InternalEntityEntry rootEntry, EntityState targetState, EntityState storeGeneratedWithKeySetTargetState, Boolean forceStateWhenUnknownKey)
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.SetEntityState(InternalEntityEntry entry, EntityState entityState)
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.Add(TEntity entity)
   at ErrandPayApp.Data.Repositories.UserRepository.CreateDefaultUser() in C:\Users\HP\source\repos\ErrandPayApp.API\ErrandPayApp.Data\Repositories\UserRepository.cs:line 309
   --- End of inner exception stack trace ---
   at System.Threading.Tasks.Task`1.GetResultCore(Boolean waitCompletionNotification)
   at System.Threading.Tasks.Task`1.get_Result()
   at ErrandPayApp.Infrastructure.Configuration.DatabaseConfiguration.InitializeSupperUser(IServiceScope scope) in C:\Users\HP\source\repos\ErrandPayApp.API\ErrandPayApp.Infrastructure\Configuration\DatabaseConfiguration.cs:line 87
2024-04-26T01:00:02.0355723+01:00  [INF] Application started. Press Ctrl+C to shut down. (dcaefe54)
2024-04-26T01:00:02.0381300+01:00  [INF] Hosting environment: "Development" (c3307c92)
2024-04-26T01:00:02.0404409+01:00  [INF] Content root path: "C:\Users\HP\source\repos\ErrandPayApp.API\ErrandPayApp.API" (b5d60022)
2024-04-26T01:00:02.0998511+01:00 8000001b-0004-fc00-b63f-84710c7967bb [INF] Request starting HTTP/2 GET https://localhost:44331/swagger/index.html - - (ca22a1cb)
2024-04-26T01:00:02.5922086+01:00 8000001b-0004-fc00-b63f-84710c7967bb [INF] Request finished HTTP/2 GET https://localhost:44331/swagger/index.html - - - 404 - - 494.7507ms (791a596a)
2024-04-26T01:00:15.7344403+01:00 80000014-0005-fc00-b63f-84710c7967bb [INF] Request starting HTTP/2 GET https://localhost:44331/index.html - - (ca22a1cb)
2024-04-26T01:00:15.8585524+01:00 80000014-0005-fc00-b63f-84710c7967bb [INF] Request finished HTTP/2 GET https://localhost:44331/index.html - - - 200 - text/html;charset=utf-8 124.2236ms (791a596a)
2024-04-26T01:00:16.0315421+01:00 80000020-0006-fb00-b63f-84710c7967bb [INF] Request starting HTTP/2 GET https://localhost:44331/_framework/aspnetcore-browser-refresh.js - - (ca22a1cb)
2024-04-26T01:00:16.0375887+01:00 80000020-0006-fb00-b63f-84710c7967bb [INF] Request finished HTTP/2 GET https://localhost:44331/_framework/aspnetcore-browser-refresh.js - - - 200 12366 application/javascript;+charset=utf-8 5.7093ms (791a596a)
2024-04-26T01:00:16.0519787+01:00 8000001d-0004-fc00-b63f-84710c7967bb [INF] Request starting HTTP/2 GET https://localhost:44331/_vs/browserLink - - (ca22a1cb)
2024-04-26T01:00:16.1062310+01:00 8000001d-0004-fc00-b63f-84710c7967bb [INF] Request finished HTTP/2 GET https://localhost:44331/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 54.2745ms (791a596a)
2024-04-26T01:00:16.1912236+01:00 80000005-0002-f800-b63f-84710c7967bb [INF] Request starting HTTP/2 GET https://localhost:44331/swagger/v1/swagger.json - - (ca22a1cb)
2024-04-26T01:00:16.3224816+01:00 80000005-0002-f800-b63f-84710c7967bb [INF] Request finished HTTP/2 GET https://localhost:44331/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 131.1992ms (791a596a)
2024-04-26T01:00:47.5029389+01:00 8000002c-0000-fc00-b63f-84710c7967bb [INF] Request starting HTTP/2 POST https://localhost:44331/api/User application/json 304 (ca22a1cb)
2024-04-26T01:00:47.5053905+01:00 8000002c-0000-fc00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2024-04-26T01:00:47.5099663+01:00 8000002c-0000-fc00-b63f-84710c7967bb [INF] Executing endpoint '"ErrandPayApp.API.Controllers.UserController.CreateUser (ErrandPayApp.API)"' (500cc934)
2024-04-26T01:00:47.5426912+01:00 8000002c-0000-fc00-b63f-84710c7967bb [INF] Route matched with "{action = \"CreateUser\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateUser(ErrandPayApp.API.RequestVms.UserVm)" on controller "ErrandPayApp.API.Controllers.UserController" ("ErrandPayApp.API"). (122b2fdf)
2024-04-26T01:00:51.1929283+01:00 8000002c-0000-fc00-b63f-84710c7967bb [INF] Executed DbCommand ("90"ms) [Parameters=["@__email_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[Email], [a].[PhoneNumber], [a].[SurName], [a].[FirstName], [a].[IsSuperAdmin], [a].[Id], [a].[MustChangePassword], [a].[LockoutCounter], [a].[IsLockedOut], [a].[LastLogin], [a].[DateAccountLocked], [a].[Title], [a].[No], [a].[Road], [a].[City], [a].[State], [a].[Country]
FROM [AppUsers] AS [a]
WHERE [a].[Email] = @__email_0" (0723d8ff)
2024-04-26T01:00:53.8679368+01:00 8000002c-0000-fc00-b63f-84710c7967bb [INF] Executed DbCommand ("14"ms) [Parameters=["@p0='?' (Size = 450), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (DbType = DateTimeOffset), @p5='?' (DbType = DateTime2), @p6='?' (Size = 450), @p7='?' (DbType = DateTimeOffset), @p8='?' (Size = 4000), @p9='?' (DbType = Boolean), @p10='?' (DbType = Boolean), @p11='?' (DbType = Boolean), @p12='?' (DbType = Boolean), @p13='?' (DbType = Boolean), @p14='?' (DbType = DateTime2), @p15='?' (DbType = Int32), @p16='?' (Size = 4000), @p17='?' (DbType = DateTimeOffset), @p18='?' (DbType = Boolean), @p19='?' (Size = 4000), @p20='?' (Size = 4000), @p21='?' (Size = 4000), @p22='?' (Size = 4000), @p23='?' (Size = 4000), @p24='?' (Size = 4000), @p25='?' (Size = 4000), @p26='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [AppUsers] ([Id], [City], [Country], [CreatedBy], [CreatedDate], [DateAccountLocked], [Email], [EmailConfirmationDate], [FirstName], [IsActive], [IsDeleted], [IsEmailConfirmed], [IsLockedOut], [IsSuperAdmin], [LastLogin], [LockoutCounter], [ModifiedBy], [ModifiedDate], [MustChangePassword], [No], [Password], [PhoneNumber], [Road], [State], [SurName], [Telephone], [Title])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26);" (0723d8ff)
2024-04-26T01:00:58.2649229+01:00 8000002c-0000-fc00-b63f-84710c7967bb [ERR] Failed executing DbCommand ("48"ms) [Parameters=["@p0='?' (Size = 4000), @p1='?' (DbType = DateTimeOffset), @p2='?' (DbType = Boolean), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (DbType = DateTimeOffset), @p6='?' (DbType = Int64), @p7='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [UserRoles] ([CreatedBy], [CreatedDate], [IsActive], [IsDeleted], [ModifiedBy], [ModifiedDate], [RoleId], [UserId])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
SELECT [Id]
FROM [UserRoles]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();" (627a98df)
2024-04-26T01:00:58.3020818+01:00 8000002c-0000-fc00-b63f-84710c7967bb [ERR] An exception occurred in the database while saving changes for context type '"ErrandPayApp.Data.APPContext"'."
""Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint \"FK_UserRoles_Roles_RoleId\". The conflict occurred in database \"E-TicketingDb\", table \"dbo.Roles\", column 'Id'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__195_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__277_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:48bac078-9e1f-4004-9640-5e21e7efe412
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(DbContext _, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)" (170f029e)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_UserRoles_Roles_RoleId". The conflict occurred in database "E-TicketingDb", table "dbo.Roles", column 'Id'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__195_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__277_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:48bac078-9e1f-4004-9640-5e21e7efe412
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(DbContext _, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2024-04-26T01:09:15.5964342+01:00  [INF] Entity Framework Core "5.0.6" initialized '"APPContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MaxPoolSize=128 " (9958f5bb)
2024-04-26T01:09:17.0755806+01:00  [INF] Executed DbCommand ("26"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1" (0723d8ff)
2024-04-26T01:09:17.1095084+01:00  [INF] Executed DbCommand ("21"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT OBJECT_ID(N'[__EFMigrationsHistory]');" (0723d8ff)
2024-04-26T01:09:17.1131410+01:00  [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1" (0723d8ff)
2024-04-26T01:09:17.1137694+01:00  [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT OBJECT_ID(N'[__EFMigrationsHistory]');" (0723d8ff)
2024-04-26T01:09:17.1330028+01:00  [INF] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];" (0723d8ff)
2024-04-26T01:09:17.1524470+01:00  [INF] No migrations were applied. The database is already up to date. (503cba9d)
2024-04-26T01:09:17.4652752+01:00  [INF] Executed DbCommand ("7"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [p].[PermissionName]
FROM [Permissions] AS [p]" (0723d8ff)
2024-04-26T01:09:17.6153247+01:00  [INF] Executed DbCommand ("22"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[Id], [a].[City], [a].[Country], [a].[CreatedBy], [a].[CreatedDate], [a].[DateAccountLocked], [a].[Email], [a].[EmailConfirmationDate], [a].[FirstName], [a].[IsActive], [a].[IsDeleted], [a].[IsEmailConfirmed], [a].[IsLockedOut], [a].[IsSuperAdmin], [a].[LastLogin], [a].[LockoutCounter], [a].[ModifiedBy], [a].[ModifiedDate], [a].[MustChangePassword], [a].[No], [a].[Password], [a].[PhoneNumber], [a].[Road], [a].[State], [a].[SurName], [a].[Telephone], [a].[Title]
FROM [AppUsers] AS [a]
WHERE [a].[IsSuperAdmin] = CAST(1 AS bit)" (0723d8ff)
2024-04-26T01:09:17.8836013+01:00  [INF] User profile is available. Using '"C:\Users\HP\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest. (7ac5e29c)
2024-04-26T01:09:17.9295749+01:00  [ERR] Message => One or more errors occurred. (Unable to track an entity of type 'AppUser' because its primary key property 'Id' is null.)|Stacktrace =>    at System.Threading.Tasks.Task`1.GetResultCore(Boolean waitCompletionNotification)
   at System.Threading.Tasks.Task`1.get_Result()
   at ErrandPayApp.Infrastructure.Configuration.DatabaseConfiguration.InitializeSupperUser(IServiceScope scope) in C:\Users\HP\source\repos\ErrandPayApp.API\ErrandPayApp.Infrastructure\Configuration\DatabaseConfiguration.cs:line 87|InnerException => System.InvalidOperationException: Unable to track an entity of type 'AppUser' because its primary key property 'Id' is null.
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.NullableKeyIdentityMap`1.Add(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.StartTracking(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState oldState, EntityState newState, Boolean acceptChanges, Boolean modifyProperties)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState entityState, Boolean acceptChanges, Boolean modifyProperties, Nullable`1 forceStateWhenUnknownKey)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.PaintAction(EntityEntryGraphNode`1 node)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityEntryGraphIterator.TraverseGraph[TState](EntityEntryGraphNode`1 node, Func`2 handleNode)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.AttachGraph(InternalEntityEntry rootEntry, EntityState targetState, EntityState storeGeneratedWithKeySetTargetState, Boolean forceStateWhenUnknownKey)
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.SetEntityState(InternalEntityEntry entry, EntityState entityState)
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.Add(TEntity entity)
   at ErrandPayApp.Data.Repositories.UserRepository.CreateDefaultUser() in C:\Users\HP\source\repos\ErrandPayApp.API\ErrandPayApp.Data\Repositories\UserRepository.cs:line 309 (c772a506)
System.AggregateException: One or more errors occurred. (Unable to track an entity of type 'AppUser' because its primary key property 'Id' is null.)
 ---> System.InvalidOperationException: Unable to track an entity of type 'AppUser' because its primary key property 'Id' is null.
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.NullableKeyIdentityMap`1.Add(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.StartTracking(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState oldState, EntityState newState, Boolean acceptChanges, Boolean modifyProperties)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState entityState, Boolean acceptChanges, Boolean modifyProperties, Nullable`1 forceStateWhenUnknownKey)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.PaintAction(EntityEntryGraphNode`1 node)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityEntryGraphIterator.TraverseGraph[TState](EntityEntryGraphNode`1 node, Func`2 handleNode)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.AttachGraph(InternalEntityEntry rootEntry, EntityState targetState, EntityState storeGeneratedWithKeySetTargetState, Boolean forceStateWhenUnknownKey)
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.SetEntityState(InternalEntityEntry entry, EntityState entityState)
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.Add(TEntity entity)
   at ErrandPayApp.Data.Repositories.UserRepository.CreateDefaultUser() in C:\Users\HP\source\repos\ErrandPayApp.API\ErrandPayApp.Data\Repositories\UserRepository.cs:line 309
   --- End of inner exception stack trace ---
   at System.Threading.Tasks.Task`1.GetResultCore(Boolean waitCompletionNotification)
   at System.Threading.Tasks.Task`1.get_Result()
   at ErrandPayApp.Infrastructure.Configuration.DatabaseConfiguration.InitializeSupperUser(IServiceScope scope) in C:\Users\HP\source\repos\ErrandPayApp.API\ErrandPayApp.Infrastructure\Configuration\DatabaseConfiguration.cs:line 87
2024-04-26T01:09:18.2123264+01:00  [INF] Application started. Press Ctrl+C to shut down. (dcaefe54)
2024-04-26T01:09:18.2162954+01:00  [INF] Hosting environment: "Development" (c3307c92)
2024-04-26T01:09:18.2273947+01:00  [INF] Content root path: "C:\Users\HP\source\repos\ErrandPayApp.API\ErrandPayApp.API" (b5d60022)
2024-04-26T01:09:18.2719748+01:00 80000043-0007-fd00-b63f-84710c7967bb [INF] Request starting HTTP/2 GET https://localhost:44331/swagger/index.html - - (ca22a1cb)
2024-04-26T01:09:19.7102917+01:00 80000043-0007-fd00-b63f-84710c7967bb [INF] Request finished HTTP/2 GET https://localhost:44331/swagger/index.html - - - 404 - - 1441.0447ms (791a596a)
2024-04-26T01:10:01.7587383+01:00  [INF] Entity Framework Core "5.0.6" initialized '"APPContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MaxPoolSize=128 " (9958f5bb)
2024-04-26T01:10:02.9017038+01:00  [INF] Executed DbCommand ("81"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1" (0723d8ff)
2024-04-26T01:10:03.0013374+01:00  [INF] Executed DbCommand ("64"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT OBJECT_ID(N'[__EFMigrationsHistory]');" (0723d8ff)
2024-04-26T01:10:03.0114770+01:00  [INF] Executed DbCommand ("4"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1" (0723d8ff)
2024-04-26T01:10:03.0128085+01:00  [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT OBJECT_ID(N'[__EFMigrationsHistory]');" (0723d8ff)
2024-04-26T01:10:03.0551155+01:00  [INF] Executed DbCommand ("7"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];" (0723d8ff)
2024-04-26T01:10:03.0958315+01:00  [INF] No migrations were applied. The database is already up to date. (503cba9d)
2024-04-26T01:10:03.7947809+01:00  [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [p].[PermissionName]
FROM [Permissions] AS [p]" (0723d8ff)
2024-04-26T01:10:04.0420062+01:00  [INF] Executed DbCommand ("40"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[Id], [a].[City], [a].[Country], [a].[CreatedBy], [a].[CreatedDate], [a].[DateAccountLocked], [a].[Email], [a].[EmailConfirmationDate], [a].[FirstName], [a].[IsActive], [a].[IsDeleted], [a].[IsEmailConfirmed], [a].[IsLockedOut], [a].[IsSuperAdmin], [a].[LastLogin], [a].[LockoutCounter], [a].[ModifiedBy], [a].[ModifiedDate], [a].[MustChangePassword], [a].[No], [a].[Password], [a].[PhoneNumber], [a].[Road], [a].[State], [a].[SurName], [a].[Telephone], [a].[Title]
FROM [AppUsers] AS [a]
WHERE [a].[IsSuperAdmin] = CAST(1 AS bit)" (0723d8ff)
2024-04-26T01:10:04.5380461+01:00  [INF] User profile is available. Using '"C:\Users\HP\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest. (7ac5e29c)
2024-04-26T01:10:04.6117139+01:00  [ERR] Message => One or more errors occurred. (Unable to track an entity of type 'AppUser' because its primary key property 'Id' is null.)|Stacktrace =>    at System.Threading.Tasks.Task`1.GetResultCore(Boolean waitCompletionNotification)
   at System.Threading.Tasks.Task`1.get_Result()
   at ErrandPayApp.Infrastructure.Configuration.DatabaseConfiguration.InitializeSupperUser(IServiceScope scope) in C:\Users\HP\source\repos\ErrandPayApp.API\ErrandPayApp.Infrastructure\Configuration\DatabaseConfiguration.cs:line 87|InnerException => System.InvalidOperationException: Unable to track an entity of type 'AppUser' because its primary key property 'Id' is null.
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.NullableKeyIdentityMap`1.Add(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.StartTracking(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState oldState, EntityState newState, Boolean acceptChanges, Boolean modifyProperties)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState entityState, Boolean acceptChanges, Boolean modifyProperties, Nullable`1 forceStateWhenUnknownKey)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.PaintAction(EntityEntryGraphNode`1 node)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityEntryGraphIterator.TraverseGraph[TState](EntityEntryGraphNode`1 node, Func`2 handleNode)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.AttachGraph(InternalEntityEntry rootEntry, EntityState targetState, EntityState storeGeneratedWithKeySetTargetState, Boolean forceStateWhenUnknownKey)
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.SetEntityState(InternalEntityEntry entry, EntityState entityState)
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.Add(TEntity entity)
   at ErrandPayApp.Data.Repositories.UserRepository.CreateDefaultUser() in C:\Users\HP\source\repos\ErrandPayApp.API\ErrandPayApp.Data\Repositories\UserRepository.cs:line 309 (c772a506)
System.AggregateException: One or more errors occurred. (Unable to track an entity of type 'AppUser' because its primary key property 'Id' is null.)
 ---> System.InvalidOperationException: Unable to track an entity of type 'AppUser' because its primary key property 'Id' is null.
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.NullableKeyIdentityMap`1.Add(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.StartTracking(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState oldState, EntityState newState, Boolean acceptChanges, Boolean modifyProperties)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState entityState, Boolean acceptChanges, Boolean modifyProperties, Nullable`1 forceStateWhenUnknownKey)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.PaintAction(EntityEntryGraphNode`1 node)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityEntryGraphIterator.TraverseGraph[TState](EntityEntryGraphNode`1 node, Func`2 handleNode)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.AttachGraph(InternalEntityEntry rootEntry, EntityState targetState, EntityState storeGeneratedWithKeySetTargetState, Boolean forceStateWhenUnknownKey)
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.SetEntityState(InternalEntityEntry entry, EntityState entityState)
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.Add(TEntity entity)
   at ErrandPayApp.Data.Repositories.UserRepository.CreateDefaultUser() in C:\Users\HP\source\repos\ErrandPayApp.API\ErrandPayApp.Data\Repositories\UserRepository.cs:line 309
   --- End of inner exception stack trace ---
   at System.Threading.Tasks.Task`1.GetResultCore(Boolean waitCompletionNotification)
   at System.Threading.Tasks.Task`1.get_Result()
   at ErrandPayApp.Infrastructure.Configuration.DatabaseConfiguration.InitializeSupperUser(IServiceScope scope) in C:\Users\HP\source\repos\ErrandPayApp.API\ErrandPayApp.Infrastructure\Configuration\DatabaseConfiguration.cs:line 87
2024-04-26T01:10:05.2012373+01:00  [INF] Application started. Press Ctrl+C to shut down. (dcaefe54)
2024-04-26T01:10:05.2156677+01:00  [INF] Hosting environment: "Development" (c3307c92)
2024-04-26T01:10:05.4135507+01:00  [INF] Content root path: "C:\Users\HP\source\repos\ErrandPayApp.API\ErrandPayApp.API" (b5d60022)
2024-04-26T01:10:05.5726824+01:00 8000000c-0006-f900-b63f-84710c7967bb [INF] Request starting HTTP/2 GET https://localhost:44331/swagger/index.html - - (ca22a1cb)
2024-04-26T01:10:06.4938306+01:00 8000000c-0006-f900-b63f-84710c7967bb [INF] Request finished HTTP/2 GET https://localhost:44331/swagger/index.html - - - 404 - - 928.5345ms (791a596a)
2024-04-26T01:10:13.6768396+01:00 80000023-0001-fe00-b63f-84710c7967bb [INF] Request starting HTTP/2 GET https://localhost:44331/index.html - - (ca22a1cb)
2024-04-26T01:10:13.8257097+01:00 80000023-0001-fe00-b63f-84710c7967bb [INF] Request finished HTTP/2 GET https://localhost:44331/index.html - - - 200 - text/html;charset=utf-8 148.8640ms (791a596a)
2024-04-26T01:10:14.0908807+01:00 80000021-0004-fc00-b63f-84710c7967bb [INF] Request starting HTTP/2 GET https://localhost:44331/_framework/aspnetcore-browser-refresh.js - - (ca22a1cb)
2024-04-26T01:10:14.1008849+01:00 80000021-0004-fc00-b63f-84710c7967bb [INF] Request finished HTTP/2 GET https://localhost:44331/_framework/aspnetcore-browser-refresh.js - - - 200 12366 application/javascript;+charset=utf-8 9.2999ms (791a596a)
2024-04-26T01:10:14.1111241+01:00 80000065-0000-fe00-b63f-84710c7967bb [INF] Request starting HTTP/2 GET https://localhost:44331/_vs/browserLink - - (ca22a1cb)
2024-04-26T01:10:14.2090330+01:00 80000065-0000-fe00-b63f-84710c7967bb [INF] Request finished HTTP/2 GET https://localhost:44331/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 97.5973ms (791a596a)
2024-04-26T01:10:14.3258153+01:00 80000023-0004-fc00-b63f-84710c7967bb [INF] Request starting HTTP/2 GET https://localhost:44331/swagger/v1/swagger.json - - (ca22a1cb)
2024-04-26T01:10:14.5160208+01:00 80000023-0004-fc00-b63f-84710c7967bb [INF] Request finished HTTP/2 GET https://localhost:44331/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 190.2404ms (791a596a)
2024-04-26T01:10:35.2151288+01:00 80000055-0000-fd00-b63f-84710c7967bb [INF] Request starting HTTP/2 POST https://localhost:44331/api/User application/json 668 (ca22a1cb)
2024-04-26T01:10:35.2203732+01:00 80000055-0000-fd00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2024-04-26T01:10:35.2271365+01:00 80000055-0000-fd00-b63f-84710c7967bb [INF] Executing endpoint '"ErrandPayApp.API.Controllers.UserController.CreateUser (ErrandPayApp.API)"' (500cc934)
2024-04-26T01:10:35.2569429+01:00 80000055-0000-fd00-b63f-84710c7967bb [INF] Route matched with "{action = \"CreateUser\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateUser(ErrandPayApp.API.RequestVms.UserVm)" on controller "ErrandPayApp.API.Controllers.UserController" ("ErrandPayApp.API"). (122b2fdf)
2024-04-26T01:10:41.2730109+01:00 80000055-0000-fd00-b63f-84710c7967bb [INF] Executing JsonResult, writing value of type '"ErrandPayApp.Core.Models.ResponseModel`1[[System.Object, System.Private.CoreLib, Version=5.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'. (2f513669)
2024-04-26T01:10:41.2838236+01:00 80000055-0000-fd00-b63f-84710c7967bb [INF] Executed action "ErrandPayApp.API.Controllers.UserController.CreateUser (ErrandPayApp.API)" in 6021.0183ms (afa2e885)
2024-04-26T01:10:41.2839159+01:00 80000055-0000-fd00-b63f-84710c7967bb [INF] Executed endpoint '"ErrandPayApp.API.Controllers.UserController.CreateUser (ErrandPayApp.API)"' (99874f2b)
2024-04-26T01:10:41.2930229+01:00 80000055-0000-fd00-b63f-84710c7967bb [INF] Request finished HTTP/2 POST https://localhost:44331/api/User application/json 668 - 500 - application/json 6077.9693ms (791a596a)
2024-04-26T01:10:51.1332498+01:00 80000014-0002-f900-b63f-84710c7967bb [INF] Request starting HTTP/2 POST https://localhost:44331/api/User application/json 304 (ca22a1cb)
2024-04-26T01:10:51.1335199+01:00 80000014-0002-f900-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2024-04-26T01:10:51.1375665+01:00 80000014-0002-f900-b63f-84710c7967bb [INF] Executing endpoint '"ErrandPayApp.API.Controllers.UserController.CreateUser (ErrandPayApp.API)"' (500cc934)
2024-04-26T01:10:51.1382000+01:00 80000014-0002-f900-b63f-84710c7967bb [INF] Route matched with "{action = \"CreateUser\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateUser(ErrandPayApp.API.RequestVms.UserVm)" on controller "ErrandPayApp.API.Controllers.UserController" ("ErrandPayApp.API"). (122b2fdf)
2024-04-26T01:10:52.9807845+01:00 80000014-0002-f900-b63f-84710c7967bb [INF] Executed DbCommand ("113"ms) [Parameters=["@__email_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[Email], [a].[PhoneNumber], [a].[SurName], [a].[FirstName], [a].[IsSuperAdmin], [a].[Id], [a].[MustChangePassword], [a].[LockoutCounter], [a].[IsLockedOut], [a].[LastLogin], [a].[DateAccountLocked], [a].[Title], [a].[No], [a].[Road], [a].[City], [a].[State], [a].[Country]
FROM [AppUsers] AS [a]
WHERE [a].[Email] = @__email_0" (0723d8ff)
2024-04-26T01:10:54.5566128+01:00 80000014-0002-f900-b63f-84710c7967bb [INF] Executed DbCommand ("12"ms) [Parameters=["@p0='?' (Size = 450), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (DbType = DateTimeOffset), @p5='?' (DbType = DateTime2), @p6='?' (Size = 450), @p7='?' (DbType = DateTimeOffset), @p8='?' (Size = 4000), @p9='?' (DbType = Boolean), @p10='?' (DbType = Boolean), @p11='?' (DbType = Boolean), @p12='?' (DbType = Boolean), @p13='?' (DbType = Boolean), @p14='?' (DbType = DateTime2), @p15='?' (DbType = Int32), @p16='?' (Size = 4000), @p17='?' (DbType = DateTimeOffset), @p18='?' (DbType = Boolean), @p19='?' (Size = 4000), @p20='?' (Size = 4000), @p21='?' (Size = 4000), @p22='?' (Size = 4000), @p23='?' (Size = 4000), @p24='?' (Size = 4000), @p25='?' (Size = 4000), @p26='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [AppUsers] ([Id], [City], [Country], [CreatedBy], [CreatedDate], [DateAccountLocked], [Email], [EmailConfirmationDate], [FirstName], [IsActive], [IsDeleted], [IsEmailConfirmed], [IsLockedOut], [IsSuperAdmin], [LastLogin], [LockoutCounter], [ModifiedBy], [ModifiedDate], [MustChangePassword], [No], [Password], [PhoneNumber], [Road], [State], [SurName], [Telephone], [Title])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26);" (0723d8ff)
2024-04-26T01:11:00.8196218+01:00 80000014-0002-f900-b63f-84710c7967bb [ERR] Failed executing DbCommand ("53"ms) [Parameters=["@p0='?' (Size = 4000), @p1='?' (DbType = DateTimeOffset), @p2='?' (DbType = Boolean), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (DbType = DateTimeOffset), @p6='?' (DbType = Int64), @p7='?' (Size = 450), @p8='?' (Size = 4000), @p9='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [UserRoles] ([CreatedBy], [CreatedDate], [IsActive], [IsDeleted], [ModifiedBy], [ModifiedDate], [RoleId], [UserId], [Userid], [roleid])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
SELECT [Id]
FROM [UserRoles]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();" (627a98df)
2024-04-26T01:11:00.8694127+01:00 80000014-0002-f900-b63f-84710c7967bb [ERR] An exception occurred in the database while saving changes for context type '"ErrandPayApp.Data.APPContext"'."
""Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The column name 'UserId' is specified more than once in the SET clause or column list of an INSERT. A column cannot be assigned more than one value in the same clause. Modify the clause to make sure that a column is updated only once. If this statement updates or inserts columns into a view, column aliasing can conceal the duplication in your code.
The column name 'RoleId' is specified more than once in the SET clause or column list of an INSERT. A column cannot be assigned more than one value in the same clause. Modify the clause to make sure that a column is updated only once. If this statement updates or inserts columns into a view, column aliasing can conceal the duplication in your code.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__195_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__277_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:92dc0f05-8071-4b95-8836-478de03a1a97
Error Number:264,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(DbContext _, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)" (170f029e)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The column name 'UserId' is specified more than once in the SET clause or column list of an INSERT. A column cannot be assigned more than one value in the same clause. Modify the clause to make sure that a column is updated only once. If this statement updates or inserts columns into a view, column aliasing can conceal the duplication in your code.
The column name 'RoleId' is specified more than once in the SET clause or column list of an INSERT. A column cannot be assigned more than one value in the same clause. Modify the clause to make sure that a column is updated only once. If this statement updates or inserts columns into a view, column aliasing can conceal the duplication in your code.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__195_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__277_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:92dc0f05-8071-4b95-8836-478de03a1a97
Error Number:264,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(DbContext _, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2024-04-26T01:11:21.8528489+01:00  [INF] Entity Framework Core "5.0.6" initialized '"APPContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MaxPoolSize=128 " (9958f5bb)
2024-04-26T01:11:35.8720242+01:00  [INF] Entity Framework Core "5.0.6" initialized '"APPContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MaxPoolSize=128 " (9958f5bb)
2024-04-26T01:11:36.2907892+01:00  [INF] Executed DbCommand ("29"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1" (0723d8ff)
2024-04-26T01:11:36.3316909+01:00  [INF] Executed DbCommand ("28"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT OBJECT_ID(N'[__EFMigrationsHistory]');" (0723d8ff)
2024-04-26T01:11:36.3360312+01:00  [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1" (0723d8ff)
2024-04-26T01:11:36.3367123+01:00  [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT OBJECT_ID(N'[__EFMigrationsHistory]');" (0723d8ff)
2024-04-26T01:11:36.3591005+01:00  [INF] Executed DbCommand ("7"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];" (0723d8ff)
2024-04-26T01:11:36.3800269+01:00  [INF] Applying migration '"20240426001122_ne mirato"'. (0e2ac64d)
2024-04-26T01:11:36.4761009+01:00  [INF] Executed DbCommand ("14"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""ALTER TABLE [UserRoles] DROP CONSTRAINT [FK_UserRoles_AppUsers_UserId];" (0723d8ff)
2024-04-26T01:11:36.4792403+01:00  [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""ALTER TABLE [UserRoles] DROP CONSTRAINT [FK_UserRoles_Roles_RoleId];" (0723d8ff)
2024-04-26T01:11:36.4867980+01:00  [INF] Executed DbCommand ("7"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""DROP INDEX [IX_UserRoles_RoleId_UserId] ON [UserRoles];" (0723d8ff)
2024-04-26T01:11:36.4893658+01:00  [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""DROP INDEX [IX_UserRoles_UserId] ON [UserRoles];" (0723d8ff)
2024-04-26T01:11:36.8536747+01:00  [INF] Executed DbCommand ("364"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""EXEC sp_rename N'[UserRoles].[UserId]', N'Userid', N'COLUMN';" (0723d8ff)
2024-04-26T01:11:36.8559075+01:00  [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""EXEC sp_rename N'[UserRoles].[RoleId]', N'roleid', N'COLUMN';" (0723d8ff)
2024-04-26T01:11:36.8808999+01:00  [INF] Executed DbCommand ("25"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""DECLARE @var0 sysname;
SELECT @var0 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[UserRoles]') AND [c].[name] = N'Userid');
IF @var0 IS NOT NULL EXEC(N'ALTER TABLE [UserRoles] DROP CONSTRAINT [' + @var0 + '];');
ALTER TABLE [UserRoles] ALTER COLUMN [Userid] nvarchar(max) NULL;" (0723d8ff)
2024-04-26T01:11:36.9018290+01:00  [INF] Executed DbCommand ("21"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""DECLARE @var1 sysname;
SELECT @var1 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[UserRoles]') AND [c].[name] = N'roleid');
IF @var1 IS NOT NULL EXEC(N'ALTER TABLE [UserRoles] DROP CONSTRAINT [' + @var1 + '];');
ALTER TABLE [UserRoles] ALTER COLUMN [roleid] int NOT NULL;" (0723d8ff)
2024-04-26T01:11:36.9243068+01:00  [ERR] Failed executing DbCommand ("9"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""ALTER TABLE [UserRoles] ADD [RoleId] bigint NOT NULL DEFAULT CAST(0 AS bigint);" (627a98df)
2024-04-26T01:13:51.4589015+01:00  [INF] Entity Framework Core "5.0.6" initialized '"APPContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MaxPoolSize=128 " (9958f5bb)
2024-04-26T01:14:02.2879525+01:00  [INF] Entity Framework Core "5.0.6" initialized '"APPContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MaxPoolSize=128 " (9958f5bb)
2024-04-26T01:14:02.7127932+01:00  [INF] Executed DbCommand ("28"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1" (0723d8ff)
2024-04-26T01:14:02.7570199+01:00  [INF] Executed DbCommand ("30"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT OBJECT_ID(N'[__EFMigrationsHistory]');" (0723d8ff)
2024-04-26T01:14:02.7605501+01:00  [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1" (0723d8ff)
2024-04-26T01:14:02.7611336+01:00  [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT OBJECT_ID(N'[__EFMigrationsHistory]');" (0723d8ff)
2024-04-26T01:14:02.7835908+01:00  [INF] Executed DbCommand ("9"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];" (0723d8ff)
2024-04-26T01:14:02.8074691+01:00  [INF] Applying migration '"20240426001122_ne mirato"'. (0e2ac64d)
2024-04-26T01:14:02.8838478+01:00  [INF] Executed DbCommand ("13"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""ALTER TABLE [UserRoles] DROP CONSTRAINT [FK_UserRoles_AppUsers_UserId];" (0723d8ff)
2024-04-26T01:14:02.8876682+01:00  [INF] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""ALTER TABLE [UserRoles] DROP CONSTRAINT [FK_UserRoles_Roles_RoleId];" (0723d8ff)
2024-04-26T01:14:02.8932259+01:00  [INF] Executed DbCommand ("5"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""DROP INDEX [IX_UserRoles_RoleId_UserId] ON [UserRoles];" (0723d8ff)
2024-04-26T01:14:02.8950860+01:00  [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""DROP INDEX [IX_UserRoles_UserId] ON [UserRoles];" (0723d8ff)
2024-04-26T01:14:03.2604923+01:00  [INF] Executed DbCommand ("365"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""EXEC sp_rename N'[UserRoles].[UserId]', N'Userid', N'COLUMN';" (0723d8ff)
2024-04-26T01:14:03.2621045+01:00  [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""EXEC sp_rename N'[UserRoles].[RoleId]', N'roleid', N'COLUMN';" (0723d8ff)
2024-04-26T01:14:03.2870369+01:00  [INF] Executed DbCommand ("25"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""DECLARE @var0 sysname;
SELECT @var0 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[UserRoles]') AND [c].[name] = N'Userid');
IF @var0 IS NOT NULL EXEC(N'ALTER TABLE [UserRoles] DROP CONSTRAINT [' + @var0 + '];');
ALTER TABLE [UserRoles] ALTER COLUMN [Userid] nvarchar(max) NULL;" (0723d8ff)
2024-04-26T01:14:03.3080094+01:00  [INF] Executed DbCommand ("21"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""DECLARE @var1 sysname;
SELECT @var1 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[UserRoles]') AND [c].[name] = N'roleid');
IF @var1 IS NOT NULL EXEC(N'ALTER TABLE [UserRoles] DROP CONSTRAINT [' + @var1 + '];');
ALTER TABLE [UserRoles] ALTER COLUMN [roleid] int NOT NULL;" (0723d8ff)
2024-04-26T01:14:03.3258500+01:00  [ERR] Failed executing DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""ALTER TABLE [UserRoles] ADD [RoleId] bigint NOT NULL DEFAULT CAST(0 AS bigint);" (627a98df)
2024-04-26T01:15:22.6000924+01:00  [INF] Entity Framework Core "5.0.6" initialized '"APPContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MaxPoolSize=128 " (9958f5bb)
2024-04-26T01:15:23.0708369+01:00  [INF] Executed DbCommand ("30"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1" (0723d8ff)
2024-04-26T01:15:23.1242080+01:00  [INF] Executed DbCommand ("40"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT OBJECT_ID(N'[__EFMigrationsHistory]');" (0723d8ff)
2024-04-26T01:15:23.1301259+01:00  [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1" (0723d8ff)
2024-04-26T01:15:23.1313323+01:00  [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT OBJECT_ID(N'[__EFMigrationsHistory]');" (0723d8ff)
2024-04-26T01:15:23.1697252+01:00  [INF] Executed DbCommand ("14"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];" (0723d8ff)
2024-04-26T01:15:23.2078245+01:00  [INF] Applying migration '"20240426001122_ne mirato"'. (0e2ac64d)
2024-04-26T01:15:23.3073888+01:00  [INF] Executed DbCommand ("12"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""ALTER TABLE [UserRoles] DROP CONSTRAINT [FK_UserRoles_AppUsers_UserId];" (0723d8ff)
2024-04-26T01:15:23.3103327+01:00  [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""ALTER TABLE [UserRoles] DROP CONSTRAINT [FK_UserRoles_Roles_RoleId];" (0723d8ff)
2024-04-26T01:15:23.3156959+01:00  [INF] Executed DbCommand ("5"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""DROP INDEX [IX_UserRoles_RoleId_UserId] ON [UserRoles];" (0723d8ff)
2024-04-26T01:15:23.3169659+01:00  [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""DROP INDEX [IX_UserRoles_UserId] ON [UserRoles];" (0723d8ff)
2024-04-26T01:15:23.6766831+01:00  [INF] Executed DbCommand ("360"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""EXEC sp_rename N'[UserRoles].[UserId]', N'Userid', N'COLUMN';" (0723d8ff)
2024-04-26T01:15:23.6781570+01:00  [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""EXEC sp_rename N'[UserRoles].[RoleId]', N'roleid', N'COLUMN';" (0723d8ff)
2024-04-26T01:15:23.7036582+01:00  [INF] Executed DbCommand ("25"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""DECLARE @var0 sysname;
SELECT @var0 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[UserRoles]') AND [c].[name] = N'Userid');
IF @var0 IS NOT NULL EXEC(N'ALTER TABLE [UserRoles] DROP CONSTRAINT [' + @var0 + '];');
ALTER TABLE [UserRoles] ALTER COLUMN [Userid] nvarchar(max) NULL;" (0723d8ff)
2024-04-26T01:15:23.7250994+01:00  [INF] Executed DbCommand ("21"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""DECLARE @var1 sysname;
SELECT @var1 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[UserRoles]') AND [c].[name] = N'roleid');
IF @var1 IS NOT NULL EXEC(N'ALTER TABLE [UserRoles] DROP CONSTRAINT [' + @var1 + '];');
ALTER TABLE [UserRoles] ALTER COLUMN [roleid] int NOT NULL;" (0723d8ff)
2024-04-26T01:15:23.7395347+01:00  [ERR] Failed executing DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""ALTER TABLE [UserRoles] ADD [RoleId] bigint NOT NULL DEFAULT CAST(0 AS bigint);" (627a98df)
2024-04-26T01:15:33.2920183+01:00  [INF] Entity Framework Core "5.0.6" initialized '"APPContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MaxPoolSize=128 " (9958f5bb)
2024-04-26T01:15:42.8689631+01:00  [INF] Entity Framework Core "5.0.6" initialized '"APPContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MaxPoolSize=128 " (9958f5bb)
2024-04-26T01:15:43.3100052+01:00  [INF] Executed DbCommand ("26"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1" (0723d8ff)
2024-04-26T01:15:43.3453486+01:00  [INF] Executed DbCommand ("22"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT OBJECT_ID(N'[__EFMigrationsHistory]');" (0723d8ff)
2024-04-26T01:15:43.3492162+01:00  [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1" (0723d8ff)
2024-04-26T01:15:43.3497962+01:00  [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT OBJECT_ID(N'[__EFMigrationsHistory]');" (0723d8ff)
2024-04-26T01:15:43.3741114+01:00  [INF] Executed DbCommand ("9"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];" (0723d8ff)
2024-04-26T01:15:43.3989215+01:00  [INF] Applying migration '"20240426001122_ne mirato"'. (0e2ac64d)
2024-04-26T01:15:43.4988903+01:00  [INF] Executed DbCommand ("20"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""ALTER TABLE [UserRoles] DROP CONSTRAINT [FK_UserRoles_AppUsers_UserId];" (0723d8ff)
2024-04-26T01:15:43.5014692+01:00  [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""ALTER TABLE [UserRoles] DROP CONSTRAINT [FK_UserRoles_Roles_RoleId];" (0723d8ff)
2024-04-26T01:15:43.5119338+01:00  [INF] Executed DbCommand ("10"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""DROP INDEX [IX_UserRoles_RoleId_UserId] ON [UserRoles];" (0723d8ff)
2024-04-26T01:15:43.5143700+01:00  [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""DROP INDEX [IX_UserRoles_UserId] ON [UserRoles];" (0723d8ff)
2024-04-26T01:15:43.9368682+01:00  [INF] Executed DbCommand ("422"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""EXEC sp_rename N'[UserRoles].[UserId]', N'Userid', N'COLUMN';" (0723d8ff)
2024-04-26T01:15:43.9406646+01:00  [INF] Executed DbCommand ("4"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""EXEC sp_rename N'[UserRoles].[RoleId]', N'roleid', N'COLUMN';" (0723d8ff)
2024-04-26T01:15:43.9901715+01:00  [INF] Executed DbCommand ("49"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""DECLARE @var0 sysname;
SELECT @var0 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[UserRoles]') AND [c].[name] = N'Userid');
IF @var0 IS NOT NULL EXEC(N'ALTER TABLE [UserRoles] DROP CONSTRAINT [' + @var0 + '];');
ALTER TABLE [UserRoles] ALTER COLUMN [Userid] nvarchar(max) NULL;" (0723d8ff)
2024-04-26T01:15:44.0305204+01:00  [INF] Executed DbCommand ("40"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""DECLARE @var1 sysname;
SELECT @var1 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[UserRoles]') AND [c].[name] = N'roleid');
IF @var1 IS NOT NULL EXEC(N'ALTER TABLE [UserRoles] DROP CONSTRAINT [' + @var1 + '];');
ALTER TABLE [UserRoles] ALTER COLUMN [roleid] int NOT NULL;" (0723d8ff)
2024-04-26T01:15:44.0522878+01:00  [ERR] Failed executing DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""ALTER TABLE [UserRoles] ADD [RoleId] bigint NOT NULL DEFAULT CAST(0 AS bigint);" (627a98df)
2024-04-26T07:50:43.0075327+01:00  [INF] Entity Framework Core "5.0.6" initialized '"APPContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MaxPoolSize=128 " (9958f5bb)
2024-04-26T07:50:43.4829942+01:00  [INF] Executed DbCommand ("24"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1" (0723d8ff)
2024-04-26T07:50:43.5336215+01:00  [INF] Executed DbCommand ("37"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT OBJECT_ID(N'[__EFMigrationsHistory]');" (0723d8ff)
2024-04-26T07:50:43.5375263+01:00  [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1" (0723d8ff)
2024-04-26T07:50:43.5382283+01:00  [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT OBJECT_ID(N'[__EFMigrationsHistory]');" (0723d8ff)
2024-04-26T07:50:43.5716665+01:00  [INF] Executed DbCommand ("18"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];" (0723d8ff)
2024-04-26T07:50:43.5921353+01:00  [INF] Applying migration '"20240426001122_ne mirato"'. (0e2ac64d)
2024-04-26T07:50:43.6571474+01:00  [INF] Executed DbCommand ("11"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""ALTER TABLE [UserRoles] DROP CONSTRAINT [FK_UserRoles_AppUsers_UserId];" (0723d8ff)
2024-04-26T07:50:43.6591905+01:00  [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""ALTER TABLE [UserRoles] DROP CONSTRAINT [FK_UserRoles_Roles_RoleId];" (0723d8ff)
2024-04-26T07:50:43.6678109+01:00  [INF] Executed DbCommand ("8"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""DROP INDEX [IX_UserRoles_RoleId_UserId] ON [UserRoles];" (0723d8ff)
2024-04-26T07:50:43.6729421+01:00  [INF] Executed DbCommand ("5"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""DROP INDEX [IX_UserRoles_UserId] ON [UserRoles];" (0723d8ff)
2024-04-26T07:50:43.9932742+01:00  [INF] Executed DbCommand ("320"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""EXEC sp_rename N'[UserRoles].[UserId]', N'Userid', N'COLUMN';" (0723d8ff)
2024-04-26T07:50:43.9948175+01:00  [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""EXEC sp_rename N'[UserRoles].[RoleId]', N'roleid', N'COLUMN';" (0723d8ff)
2024-04-26T07:50:44.0186307+01:00  [INF] Executed DbCommand ("24"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""DECLARE @var0 sysname;
SELECT @var0 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[UserRoles]') AND [c].[name] = N'Userid');
IF @var0 IS NOT NULL EXEC(N'ALTER TABLE [UserRoles] DROP CONSTRAINT [' + @var0 + '];');
ALTER TABLE [UserRoles] ALTER COLUMN [Userid] nvarchar(max) NULL;" (0723d8ff)
2024-04-26T07:50:44.0353879+01:00  [INF] Executed DbCommand ("17"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""DECLARE @var1 sysname;
SELECT @var1 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[UserRoles]') AND [c].[name] = N'roleid');
IF @var1 IS NOT NULL EXEC(N'ALTER TABLE [UserRoles] DROP CONSTRAINT [' + @var1 + '];');
ALTER TABLE [UserRoles] ALTER COLUMN [roleid] int NOT NULL;" (0723d8ff)
2024-04-26T07:50:44.0568724+01:00  [ERR] Failed executing DbCommand ("6"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""ALTER TABLE [UserRoles] ADD [RoleId] bigint NOT NULL DEFAULT CAST(0 AS bigint);" (627a98df)
2024-04-26T07:51:41.6329681+01:00  [INF] Entity Framework Core "5.0.6" initialized '"APPContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MaxPoolSize=128 " (9958f5bb)
2024-04-26T07:51:55.8256084+01:00  [INF] Entity Framework Core "5.0.6" initialized '"APPContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MaxPoolSize=128 " (9958f5bb)
2024-04-26T07:52:05.9341416+01:00  [INF] Entity Framework Core "5.0.6" initialized '"APPContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MaxPoolSize=128 " (9958f5bb)
2024-04-26T07:52:06.3025473+01:00  [INF] Executed DbCommand ("24"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1" (0723d8ff)
2024-04-26T07:52:06.3414961+01:00  [INF] Executed DbCommand ("27"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT OBJECT_ID(N'[__EFMigrationsHistory]');" (0723d8ff)
2024-04-26T07:52:06.3458246+01:00  [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1" (0723d8ff)
2024-04-26T07:52:06.3470805+01:00  [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT OBJECT_ID(N'[__EFMigrationsHistory]');" (0723d8ff)
2024-04-26T07:52:06.3693469+01:00  [INF] Executed DbCommand ("11"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];" (0723d8ff)
2024-04-26T07:52:06.3928750+01:00  [INF] Applying migration '"20240426001122_ne mirato"'. (0e2ac64d)
2024-04-26T07:52:06.4601324+01:00  [INF] Executed DbCommand ("9"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""ALTER TABLE [UserRoles] DROP CONSTRAINT [FK_UserRoles_AppUsers_UserId];" (0723d8ff)
2024-04-26T07:52:06.4620989+01:00  [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""ALTER TABLE [UserRoles] DROP CONSTRAINT [FK_UserRoles_Roles_RoleId];" (0723d8ff)
2024-04-26T07:52:06.4680082+01:00  [INF] Executed DbCommand ("6"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""DROP INDEX [IX_UserRoles_RoleId_UserId] ON [UserRoles];" (0723d8ff)
2024-04-26T07:52:06.4693310+01:00  [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""DROP INDEX [IX_UserRoles_UserId] ON [UserRoles];" (0723d8ff)
2024-04-26T07:52:06.7757487+01:00  [INF] Executed DbCommand ("306"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""EXEC sp_rename N'[UserRoles].[UserId]', N'Userid', N'COLUMN';" (0723d8ff)
2024-04-26T07:52:06.7771164+01:00  [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""EXEC sp_rename N'[UserRoles].[RoleId]', N'roleid', N'COLUMN';" (0723d8ff)
2024-04-26T07:52:06.7997356+01:00  [INF] Executed DbCommand ("22"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""DECLARE @var0 sysname;
SELECT @var0 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[UserRoles]') AND [c].[name] = N'Userid');
IF @var0 IS NOT NULL EXEC(N'ALTER TABLE [UserRoles] DROP CONSTRAINT [' + @var0 + '];');
ALTER TABLE [UserRoles] ALTER COLUMN [Userid] nvarchar(max) NULL;" (0723d8ff)
2024-04-26T07:52:06.8235853+01:00  [INF] Executed DbCommand ("24"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""DECLARE @var1 sysname;
SELECT @var1 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[UserRoles]') AND [c].[name] = N'roleid');
IF @var1 IS NOT NULL EXEC(N'ALTER TABLE [UserRoles] DROP CONSTRAINT [' + @var1 + '];');
ALTER TABLE [UserRoles] ALTER COLUMN [roleid] int NOT NULL;" (0723d8ff)
2024-04-26T07:52:06.8382026+01:00  [ERR] Failed executing DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""ALTER TABLE [UserRoles] ADD [RoleId] bigint NOT NULL DEFAULT CAST(0 AS bigint);" (627a98df)
2024-04-26T07:55:12.0637353+01:00  [INF] Entity Framework Core "5.0.6" initialized '"APPContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MaxPoolSize=128 " (9958f5bb)
2024-04-26T07:55:23.3051282+01:00  [INF] Entity Framework Core "5.0.6" initialized '"APPContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MaxPoolSize=128 " (9958f5bb)
2024-04-26T07:55:23.6900408+01:00  [INF] Executed DbCommand ("26"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1" (0723d8ff)
2024-04-26T07:55:23.7400377+01:00  [INF] Executed DbCommand ("33"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT OBJECT_ID(N'[__EFMigrationsHistory]');" (0723d8ff)
2024-04-26T07:55:23.7436760+01:00  [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1" (0723d8ff)
2024-04-26T07:55:23.7443263+01:00  [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT OBJECT_ID(N'[__EFMigrationsHistory]');" (0723d8ff)
2024-04-26T07:55:23.7800001+01:00  [INF] Executed DbCommand ("17"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];" (0723d8ff)
2024-04-26T07:55:23.8186532+01:00  [INF] Applying migration '"20240426001122_ne mirato"'. (0e2ac64d)
2024-04-26T07:55:23.8882311+01:00  [INF] Executed DbCommand ("13"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""ALTER TABLE [UserRoles] DROP CONSTRAINT [FK_UserRoles_AppUsers_UserId];" (0723d8ff)
2024-04-26T07:55:23.8910970+01:00  [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""ALTER TABLE [UserRoles] DROP CONSTRAINT [FK_UserRoles_Roles_RoleId];" (0723d8ff)
2024-04-26T07:55:23.8970070+01:00  [INF] Executed DbCommand ("6"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""DROP INDEX [IX_UserRoles_RoleId_UserId] ON [UserRoles];" (0723d8ff)
2024-04-26T07:55:23.8983243+01:00  [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""DROP INDEX [IX_UserRoles_UserId] ON [UserRoles];" (0723d8ff)
2024-04-26T07:55:24.2541170+01:00  [INF] Executed DbCommand ("356"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""EXEC sp_rename N'[UserRoles].[UserId]', N'Userid', N'COLUMN';" (0723d8ff)
2024-04-26T07:55:24.2555586+01:00  [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""EXEC sp_rename N'[UserRoles].[RoleId]', N'roleid', N'COLUMN';" (0723d8ff)
2024-04-26T07:55:24.2955015+01:00  [INF] Executed DbCommand ("40"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""DECLARE @var0 sysname;
SELECT @var0 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[UserRoles]') AND [c].[name] = N'Userid');
IF @var0 IS NOT NULL EXEC(N'ALTER TABLE [UserRoles] DROP CONSTRAINT [' + @var0 + '];');
ALTER TABLE [UserRoles] ALTER COLUMN [Userid] nvarchar(max) NULL;" (0723d8ff)
2024-04-26T07:55:24.3242868+01:00  [INF] Executed DbCommand ("29"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""DECLARE @var1 sysname;
SELECT @var1 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[UserRoles]') AND [c].[name] = N'roleid');
IF @var1 IS NOT NULL EXEC(N'ALTER TABLE [UserRoles] DROP CONSTRAINT [' + @var1 + '];');
ALTER TABLE [UserRoles] ALTER COLUMN [roleid] int NOT NULL;" (0723d8ff)
2024-04-26T07:55:24.3396192+01:00  [ERR] Failed executing DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""ALTER TABLE [UserRoles] ADD [RoleId] bigint NOT NULL DEFAULT CAST(0 AS bigint);" (627a98df)
2024-04-26T07:58:19.4123570+01:00  [INF] Entity Framework Core "5.0.6" initialized '"APPContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MaxPoolSize=128 " (9958f5bb)
2024-04-26T07:58:19.7741396+01:00  [INF] Executed DbCommand ("26"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1" (0723d8ff)
2024-04-26T07:58:19.8210708+01:00  [INF] Executed DbCommand ("31"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT OBJECT_ID(N'[__EFMigrationsHistory]');" (0723d8ff)
2024-04-26T07:58:19.8261334+01:00  [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1" (0723d8ff)
2024-04-26T07:58:19.8269522+01:00  [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT OBJECT_ID(N'[__EFMigrationsHistory]');" (0723d8ff)
2024-04-26T07:58:19.8560802+01:00  [INF] Executed DbCommand ("14"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];" (0723d8ff)
2024-04-26T07:58:19.8766413+01:00  [INF] Applying migration '"20240426001122_ne mirato"'. (0e2ac64d)
2024-04-26T07:58:19.9525415+01:00  [INF] Executed DbCommand ("9"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""ALTER TABLE [UserRoles] DROP CONSTRAINT [FK_UserRoles_AppUsers_UserId];" (0723d8ff)
2024-04-26T07:58:19.9561922+01:00  [INF] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""ALTER TABLE [UserRoles] DROP CONSTRAINT [FK_UserRoles_Roles_RoleId];" (0723d8ff)
2024-04-26T07:58:19.9618284+01:00  [INF] Executed DbCommand ("6"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""DROP INDEX [IX_UserRoles_RoleId_UserId] ON [UserRoles];" (0723d8ff)
2024-04-26T07:58:19.9629600+01:00  [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""DROP INDEX [IX_UserRoles_UserId] ON [UserRoles];" (0723d8ff)
2024-04-26T07:58:20.3135460+01:00  [INF] Executed DbCommand ("350"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""EXEC sp_rename N'[UserRoles].[UserId]', N'Userid', N'COLUMN';" (0723d8ff)
2024-04-26T07:58:20.3152730+01:00  [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""EXEC sp_rename N'[UserRoles].[RoleId]', N'roleid', N'COLUMN';" (0723d8ff)
2024-04-26T07:58:20.3362796+01:00  [INF] Executed DbCommand ("21"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""DECLARE @var0 sysname;
SELECT @var0 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[UserRoles]') AND [c].[name] = N'Userid');
IF @var0 IS NOT NULL EXEC(N'ALTER TABLE [UserRoles] DROP CONSTRAINT [' + @var0 + '];');
ALTER TABLE [UserRoles] ALTER COLUMN [Userid] nvarchar(max) NULL;" (0723d8ff)
2024-04-26T07:58:20.3572077+01:00  [INF] Executed DbCommand ("21"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""DECLARE @var1 sysname;
SELECT @var1 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[UserRoles]') AND [c].[name] = N'roleid');
IF @var1 IS NOT NULL EXEC(N'ALTER TABLE [UserRoles] DROP CONSTRAINT [' + @var1 + '];');
ALTER TABLE [UserRoles] ALTER COLUMN [roleid] int NOT NULL;" (0723d8ff)
2024-04-26T07:58:20.3733969+01:00  [ERR] Failed executing DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""ALTER TABLE [UserRoles] ADD [RoleId] bigint NOT NULL DEFAULT CAST(0 AS bigint);" (627a98df)
2024-04-26T07:58:32.6222746+01:00  [INF] Entity Framework Core "5.0.6" initialized '"APPContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MaxPoolSize=128 " (9958f5bb)
2024-04-26T07:58:42.6953033+01:00  [INF] Entity Framework Core "5.0.6" initialized '"APPContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MaxPoolSize=128 " (9958f5bb)
2024-04-26T07:58:43.0626762+01:00  [INF] Executed DbCommand ("24"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1" (0723d8ff)
2024-04-26T07:58:43.0995077+01:00  [INF] Executed DbCommand ("20"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT OBJECT_ID(N'[__EFMigrationsHistory]');" (0723d8ff)
2024-04-26T07:58:43.1030604+01:00  [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1" (0723d8ff)
2024-04-26T07:58:43.1036351+01:00  [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT OBJECT_ID(N'[__EFMigrationsHistory]');" (0723d8ff)
2024-04-26T07:58:43.1179590+01:00  [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];" (0723d8ff)
2024-04-26T07:58:43.1389230+01:00  [INF] Applying migration '"20240426001122_ne mirato"'. (0e2ac64d)
2024-04-26T07:58:43.2035358+01:00  [INF] Executed DbCommand ("4"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""ALTER TABLE [UserRoles] DROP CONSTRAINT [FK_UserRoles_AppUsers_UserId];" (0723d8ff)
2024-04-26T07:58:43.2053466+01:00  [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""ALTER TABLE [UserRoles] DROP CONSTRAINT [FK_UserRoles_Roles_RoleId];" (0723d8ff)
2024-04-26T07:58:43.2065806+01:00  [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""DROP INDEX [IX_UserRoles_RoleId_UserId] ON [UserRoles];" (0723d8ff)
2024-04-26T07:58:43.2076055+01:00  [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""DROP INDEX [IX_UserRoles_UserId] ON [UserRoles];" (0723d8ff)
2024-04-26T07:58:43.2111330+01:00  [INF] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""EXEC sp_rename N'[UserRoles].[UserId]', N'Userid', N'COLUMN';" (0723d8ff)
2024-04-26T07:58:43.2141352+01:00  [INF] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""EXEC sp_rename N'[UserRoles].[RoleId]', N'roleid', N'COLUMN';" (0723d8ff)
2024-04-26T07:58:43.2234052+01:00  [INF] Executed DbCommand ("9"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""DECLARE @var0 sysname;
SELECT @var0 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[UserRoles]') AND [c].[name] = N'Userid');
IF @var0 IS NOT NULL EXEC(N'ALTER TABLE [UserRoles] DROP CONSTRAINT [' + @var0 + '];');
ALTER TABLE [UserRoles] ALTER COLUMN [Userid] nvarchar(max) NULL;" (0723d8ff)
2024-04-26T07:58:43.2276790+01:00  [INF] Executed DbCommand ("4"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""DECLARE @var1 sysname;
SELECT @var1 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[UserRoles]') AND [c].[name] = N'roleid');
IF @var1 IS NOT NULL EXEC(N'ALTER TABLE [UserRoles] DROP CONSTRAINT [' + @var1 + '];');
ALTER TABLE [UserRoles] ALTER COLUMN [roleid] int NOT NULL;" (0723d8ff)
2024-04-26T07:58:43.2419410+01:00  [ERR] Failed executing DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""ALTER TABLE [UserRoles] ADD [RoleId] bigint NOT NULL DEFAULT CAST(0 AS bigint);" (627a98df)
2024-04-26T08:57:27.8511457+01:00  [INF] Entity Framework Core "5.0.6" initialized '"APPContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MaxPoolSize=128 " (9958f5bb)
2024-04-26T08:57:28.6433011+01:00  [INF] Executed DbCommand ("28"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1" (0723d8ff)
2024-04-26T08:57:28.6894611+01:00  [INF] Executed DbCommand ("29"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT OBJECT_ID(N'[__EFMigrationsHistory]');" (0723d8ff)
2024-04-26T08:57:28.6930353+01:00  [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1" (0723d8ff)
2024-04-26T08:57:28.6935739+01:00  [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT OBJECT_ID(N'[__EFMigrationsHistory]');" (0723d8ff)
2024-04-26T08:57:28.7330494+01:00  [INF] Executed DbCommand ("21"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];" (0723d8ff)
2024-04-26T08:57:28.7605630+01:00  [INF] Applying migration '"20240426001122_ne mirato"'. (0e2ac64d)
2024-04-26T08:57:28.8755997+01:00  [INF] Executed DbCommand ("22"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""ALTER TABLE [UserRoles] DROP CONSTRAINT [FK_UserRoles_AppUsers_UserId];" (0723d8ff)
2024-04-26T08:57:28.8801792+01:00  [INF] Executed DbCommand ("4"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""ALTER TABLE [UserRoles] DROP CONSTRAINT [FK_UserRoles_Roles_RoleId];" (0723d8ff)
2024-04-26T08:57:28.8874809+01:00  [INF] Executed DbCommand ("7"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""DROP INDEX [IX_UserRoles_RoleId_UserId] ON [UserRoles];" (0723d8ff)
2024-04-26T08:57:28.8886973+01:00  [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""DROP INDEX [IX_UserRoles_UserId] ON [UserRoles];" (0723d8ff)
2024-04-26T08:57:29.6660336+01:00  [INF] Executed DbCommand ("777"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""EXEC sp_rename N'[UserRoles].[UserId]', N'Userid', N'COLUMN';" (0723d8ff)
2024-04-26T08:57:29.7006596+01:00  [INF] Executed DbCommand ("34"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""EXEC sp_rename N'[UserRoles].[RoleId]', N'roleid', N'COLUMN';" (0723d8ff)
2024-04-26T08:57:29.8185602+01:00  [INF] Executed DbCommand ("118"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""DECLARE @var0 sysname;
SELECT @var0 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[UserRoles]') AND [c].[name] = N'Userid');
IF @var0 IS NOT NULL EXEC(N'ALTER TABLE [UserRoles] DROP CONSTRAINT [' + @var0 + '];');
ALTER TABLE [UserRoles] ALTER COLUMN [Userid] nvarchar(max) NULL;" (0723d8ff)
2024-04-26T08:57:29.8550650+01:00  [INF] Executed DbCommand ("36"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""DECLARE @var1 sysname;
SELECT @var1 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[UserRoles]') AND [c].[name] = N'roleid');
IF @var1 IS NOT NULL EXEC(N'ALTER TABLE [UserRoles] DROP CONSTRAINT [' + @var1 + '];');
ALTER TABLE [UserRoles] ALTER COLUMN [roleid] int NOT NULL;" (0723d8ff)
2024-04-26T08:57:29.9106570+01:00  [ERR] Failed executing DbCommand ("8"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""ALTER TABLE [UserRoles] ADD [RoleId] bigint NOT NULL DEFAULT CAST(0 AS bigint);" (627a98df)
2024-04-26T08:57:30.0649723+01:00  [INF] User profile is available. Using '"C:\Users\HP\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest. (7ac5e29c)
2024-04-26T08:57:30.2227003+01:00  [ERR] Message => Column names in each table must be unique. Column name 'RoleId' in table 'UserRoles' is specified more than once.|Stacktrace =>    at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteNonQueryTds(String methodName, Boolean isAsync, Int32 timeout, Boolean asyncWrite)
   at Microsoft.Data.SqlClient.SqlCommand.InternalExecuteNonQuery(TaskCompletionSource`1 completion, Boolean sendToPipe, Int32 timeout, Boolean& usedCache, Boolean asyncWrite, Boolean inRetry, String methodName)
   at Microsoft.Data.SqlClient.SqlCommand.ExecuteNonQuery()
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQuery(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Migrations.MigrationCommand.ExecuteNonQuery(IRelationalConnection connection, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Migrations.Internal.MigrationCommandExecutor.ExecuteNonQuery(IEnumerable`1 migrationCommands, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Migrations.Internal.Migrator.Migrate(String targetMigration)
   at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.Migrate(DatabaseFacade databaseFacade)
   at ErrandPayApp.Infrastructure.Configuration.DatabaseConfiguration.DbMigration(IHost host) in C:\Users\HP\source\repos\ErrandPayApp.API\ErrandPayApp.Infrastructure\Configuration\DatabaseConfiguration.cs:line 36|InnerException =>  (ac2a4310)
Microsoft.Data.SqlClient.SqlException (0x80131904): Column names in each table must be unique. Column name 'RoleId' in table 'UserRoles' is specified more than once.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteNonQueryTds(String methodName, Boolean isAsync, Int32 timeout, Boolean asyncWrite)
   at Microsoft.Data.SqlClient.SqlCommand.InternalExecuteNonQuery(TaskCompletionSource`1 completion, Boolean sendToPipe, Int32 timeout, Boolean& usedCache, Boolean asyncWrite, Boolean inRetry, String methodName)
   at Microsoft.Data.SqlClient.SqlCommand.ExecuteNonQuery()
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQuery(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Migrations.MigrationCommand.ExecuteNonQuery(IRelationalConnection connection, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Migrations.Internal.MigrationCommandExecutor.ExecuteNonQuery(IEnumerable`1 migrationCommands, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Migrations.Internal.Migrator.Migrate(String targetMigration)
   at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.Migrate(DatabaseFacade databaseFacade)
   at ErrandPayApp.Infrastructure.Configuration.DatabaseConfiguration.DbMigration(IHost host) in C:\Users\HP\source\repos\ErrandPayApp.API\ErrandPayApp.Infrastructure\Configuration\DatabaseConfiguration.cs:line 36
ClientConnectionId:8d6b5d4e-5d18-4a94-ab96-f92ead3ab27c
Error Number:2705,State:4,Class:16
2024-04-26T08:57:31.0350293+01:00  [INF] Application started. Press Ctrl+C to shut down. (dcaefe54)
2024-04-26T08:57:31.0384271+01:00  [INF] Hosting environment: "Development" (c3307c92)
2024-04-26T08:57:31.0418241+01:00  [INF] Content root path: "C:\Users\HP\source\repos\ErrandPayApp.API\ErrandPayApp.API" (b5d60022)
2024-04-26T08:57:31.1332854+01:00 8000002b-0001-fe00-b63f-84710c7967bb [INF] Request starting HTTP/2 GET https://localhost:44331/swagger/index.html - - (ca22a1cb)
2024-04-26T08:57:32.3766789+01:00 8000002b-0001-fe00-b63f-84710c7967bb [INF] Request finished HTTP/2 GET https://localhost:44331/swagger/index.html - - - 404 - - 1247.6481ms (791a596a)
2024-04-26T08:58:05.4913172+01:00 80000004-0006-f800-b63f-84710c7967bb [INF] Request starting HTTP/2 GET https://localhost:44331/index.html - - (ca22a1cb)
2024-04-26T08:58:05.6311345+01:00 80000004-0006-f800-b63f-84710c7967bb [INF] Request finished HTTP/2 GET https://localhost:44331/index.html - - - 200 - text/html;charset=utf-8 139.8707ms (791a596a)
2024-04-26T08:58:05.8433424+01:00 8000002d-0001-fe00-b63f-84710c7967bb [INF] Request starting HTTP/2 GET https://localhost:44331/_framework/aspnetcore-browser-refresh.js - - (ca22a1cb)
2024-04-26T08:58:05.8565785+01:00 8000002d-0001-fe00-b63f-84710c7967bb [INF] Request finished HTTP/2 GET https://localhost:44331/_framework/aspnetcore-browser-refresh.js - - - 200 12366 application/javascript;+charset=utf-8 12.8846ms (791a596a)
2024-04-26T08:58:05.8730747+01:00 80000051-0000-ff00-b63f-84710c7967bb [INF] Request starting HTTP/2 GET https://localhost:44331/_vs/browserLink - - (ca22a1cb)
2024-04-26T08:58:05.9602871+01:00 80000051-0000-ff00-b63f-84710c7967bb [INF] Request finished HTTP/2 GET https://localhost:44331/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 87.1620ms (791a596a)
2024-04-26T08:58:06.0514615+01:00 80000085-0004-f900-b63f-84710c7967bb [INF] Request starting HTTP/2 GET https://localhost:44331/swagger/v1/swagger.json - - (ca22a1cb)
2024-04-26T08:58:06.1971873+01:00 80000085-0004-f900-b63f-84710c7967bb [INF] Request finished HTTP/2 GET https://localhost:44331/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 145.6881ms (791a596a)
2024-04-26T08:58:40.1034075+01:00  [INF] Entity Framework Core "5.0.6" initialized '"APPContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MaxPoolSize=128 " (9958f5bb)
2024-04-26T08:58:53.7261844+01:00  [INF] Entity Framework Core "5.0.6" initialized '"APPContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MaxPoolSize=128 " (9958f5bb)
2024-04-26T08:58:54.3545441+01:00  [INF] Executed DbCommand ("238"ms) [Parameters=[""], CommandType='Text', CommandTimeout='60']"
""CREATE DATABASE [E-TicketingDb];" (0723d8ff)
2024-04-26T08:58:54.4260857+01:00  [INF] Executed DbCommand ("70"ms) [Parameters=[""], CommandType='Text', CommandTimeout='60']"
""IF SERVERPROPERTY('EngineEdition') <> 5
BEGIN
    ALTER DATABASE [E-TicketingDb] SET READ_COMMITTED_SNAPSHOT ON;
END;" (0723d8ff)
2024-04-26T08:58:54.4490454+01:00  [INF] Executed DbCommand ("10"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1" (0723d8ff)
2024-04-26T08:58:54.5787903+01:00  [INF] Executed DbCommand ("7"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE TABLE [__EFMigrationsHistory] (
    [MigrationId] nvarchar(150) NOT NULL,
    [ProductVersion] nvarchar(32) NOT NULL,
    CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
);" (0723d8ff)
2024-04-26T08:58:54.5814612+01:00  [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1" (0723d8ff)
2024-04-26T08:58:54.6058146+01:00  [INF] Executed DbCommand ("20"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT OBJECT_ID(N'[__EFMigrationsHistory]');" (0723d8ff)
2024-04-26T08:58:54.6196412+01:00  [INF] Executed DbCommand ("11"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];" (0723d8ff)
2024-04-26T08:58:54.6390010+01:00  [INF] Applying migration '"20240426075840_initialmigration"'. (0e2ac64d)
2024-04-26T08:58:54.7095912+01:00  [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE TABLE [AppUsers] (
    [Id] nvarchar(450) NOT NULL,
    [Title] nvarchar(max) NULL,
    [FirstName] nvarchar(max) NULL,
    [SurName] nvarchar(max) NULL,
    [No] nvarchar(max) NULL,
    [Road] nvarchar(max) NULL,
    [City] nvarchar(max) NULL,
    [State] nvarchar(max) NULL,
    [Country] nvarchar(max) NULL,
    [Telephone] nvarchar(max) NULL,
    [Email] nvarchar(450) NULL,
    [Password] nvarchar(max) NULL,
    [PhoneNumber] nvarchar(max) NULL,
    [IsEmailConfirmed] bit NOT NULL,
    [EmailConfirmationDate] datetimeoffset NULL,
    [IsSuperAdmin] bit NOT NULL,
    [LockoutCounter] int NOT NULL,
    [IsLockedOut] bit NOT NULL,
    [DateAccountLocked] datetime2 NOT NULL,
    [MustChangePassword] bit NOT NULL,
    [LastLogin] datetime2 NULL,
    [IsActive] bit NOT NULL,
    [CreatedDate] datetimeoffset NOT NULL,
    [CreatedBy] nvarchar(max) NULL,
    [ModifiedDate] datetimeoffset NULL,
    [ModifiedBy] nvarchar(max) NULL,
    [IsDeleted] bit NOT NULL,
    CONSTRAINT [PK_AppUsers] PRIMARY KEY ([Id])
);" (0723d8ff)
2024-04-26T08:58:54.7122293+01:00  [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE TABLE [LoginAttemptLogs] (
    [Id] bigint NOT NULL IDENTITY,
    [Email] nvarchar(max) NULL,
    [IsActive] bit NOT NULL,
    [CreatedDate] datetimeoffset NOT NULL,
    [CreatedBy] nvarchar(max) NULL,
    [ModifiedDate] datetimeoffset NULL,
    [ModifiedBy] nvarchar(max) NULL,
    [IsDeleted] bit NOT NULL,
    CONSTRAINT [PK_LoginAttemptLogs] PRIMARY KEY ([Id])
);" (0723d8ff)
2024-04-26T08:58:54.7159398+01:00  [INF] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE TABLE [PasswordHistories] (
    [Id] bigint NOT NULL IDENTITY,
    [UserId] nvarchar(max) NULL,
    [Password] nvarchar(max) NULL,
    [Email] nvarchar(max) NULL,
    [IsCurrentPassword] bit NOT NULL,
    [IsActive] bit NOT NULL,
    [CreatedDate] datetimeoffset NOT NULL,
    [CreatedBy] nvarchar(max) NULL,
    [ModifiedDate] datetimeoffset NULL,
    [ModifiedBy] nvarchar(max) NULL,
    [IsDeleted] bit NOT NULL,
    CONSTRAINT [PK_PasswordHistories] PRIMARY KEY ([Id])
);" (0723d8ff)
2024-04-26T08:58:54.7181203+01:00  [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE TABLE [Permissions] (
    [Id] bigint NOT NULL IDENTITY,
    [PermissionName] nvarchar(450) NULL,
    [PermissionDisplayName] nvarchar(max) NULL,
    [PermissionDescription] nvarchar(max) NULL,
    [IsActive] bit NOT NULL,
    [CreatedDate] datetimeoffset NOT NULL,
    [CreatedBy] nvarchar(max) NULL,
    [ModifiedDate] datetimeoffset NULL,
    [ModifiedBy] nvarchar(max) NULL,
    [IsDeleted] bit NOT NULL,
    CONSTRAINT [PK_Permissions] PRIMARY KEY ([Id])
);" (0723d8ff)
2024-04-26T08:58:54.7197412+01:00  [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE TABLE [Roles] (
    [Id] bigint NOT NULL IDENTITY,
    [RoleNameHash] nvarchar(450) NULL,
    [RoleName] nvarchar(450) NULL,
    [RoleDescription] nvarchar(max) NULL,
    [IsActive] bit NOT NULL,
    [CreatedDate] datetimeoffset NOT NULL,
    [CreatedBy] nvarchar(max) NULL,
    [ModifiedDate] datetimeoffset NULL,
    [ModifiedBy] nvarchar(max) NULL,
    [IsDeleted] bit NOT NULL,
    CONSTRAINT [PK_Roles] PRIMARY KEY ([Id])
);" (0723d8ff)
2024-04-26T08:58:54.7241847+01:00  [INF] Executed DbCommand ("4"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE TABLE [RolePermissions] (
    [Id] bigint NOT NULL IDENTITY,
    [RoleId] bigint NOT NULL,
    [PermissionId] bigint NOT NULL,
    [CanAdd] bit NOT NULL,
    [CanEdit] bit NOT NULL,
    [CanDelete] bit NOT NULL,
    [CanRead] bit NOT NULL,
    [CanApprove] bit NOT NULL,
    [CanTerminate] bit NOT NULL,
    [IsActive] bit NOT NULL,
    [CreatedDate] datetimeoffset NOT NULL,
    [CreatedBy] nvarchar(max) NULL,
    [ModifiedDate] datetimeoffset NULL,
    [ModifiedBy] nvarchar(max) NULL,
    [IsDeleted] bit NOT NULL,
    CONSTRAINT [PK_RolePermissions] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_RolePermissions_Permissions_PermissionId] FOREIGN KEY ([PermissionId]) REFERENCES [Permissions] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_RolePermissions_Roles_RoleId] FOREIGN KEY ([RoleId]) REFERENCES [Roles] ([Id]) ON DELETE CASCADE
);" (0723d8ff)
2024-04-26T08:58:54.7275850+01:00  [INF] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE TABLE [UserRoles] (
    [Id] bigint NOT NULL IDENTITY,
    [UserId] nvarchar(450) NULL,
    [RoleId] bigint NOT NULL,
    [IsActive] bit NOT NULL,
    [CreatedDate] datetimeoffset NOT NULL,
    [CreatedBy] nvarchar(max) NULL,
    [ModifiedDate] datetimeoffset NULL,
    [ModifiedBy] nvarchar(max) NULL,
    [IsDeleted] bit NOT NULL,
    CONSTRAINT [PK_UserRoles] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_UserRoles_AppUsers_UserId] FOREIGN KEY ([UserId]) REFERENCES [AppUsers] ([Id]) ON DELETE NO ACTION,
    CONSTRAINT [FK_UserRoles_Roles_RoleId] FOREIGN KEY ([RoleId]) REFERENCES [Roles] ([Id]) ON DELETE CASCADE
);" (0723d8ff)
2024-04-26T08:58:54.7307389+01:00  [INF] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE UNIQUE INDEX [IX_AppUsers_Email] ON [AppUsers] ([Email]) WHERE [Email] IS NOT NULL;" (0723d8ff)
2024-04-26T08:58:54.7322308+01:00  [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE UNIQUE INDEX [IX_Permissions_PermissionName] ON [Permissions] ([PermissionName]) WHERE [PermissionName] IS NOT NULL;" (0723d8ff)
2024-04-26T08:58:54.7331297+01:00  [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE INDEX [IX_RolePermissions_PermissionId] ON [RolePermissions] ([PermissionId]);" (0723d8ff)
2024-04-26T08:58:54.7343362+01:00  [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE UNIQUE INDEX [IX_RolePermissions_RoleId_PermissionId] ON [RolePermissions] ([RoleId], [PermissionId]);" (0723d8ff)
2024-04-26T08:58:54.7361060+01:00  [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE UNIQUE INDEX [IX_Roles_RoleName] ON [Roles] ([RoleName]) WHERE [RoleName] IS NOT NULL;" (0723d8ff)
2024-04-26T08:58:54.7382654+01:00  [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE UNIQUE INDEX [IX_Roles_RoleNameHash] ON [Roles] ([RoleNameHash]) WHERE [RoleNameHash] IS NOT NULL;" (0723d8ff)
2024-04-26T08:58:54.7399492+01:00  [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE INDEX [IX_UserRoles_RoleId] ON [UserRoles] ([RoleId]);" (0723d8ff)
2024-04-26T08:58:54.7411299+01:00  [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE INDEX [IX_UserRoles_UserId] ON [UserRoles] ([UserId]);" (0723d8ff)
2024-04-26T08:58:54.7462996+01:00  [INF] Executed DbCommand ("5"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20240426075840_initialmigration', N'5.0.6');" (0723d8ff)
2024-04-26T09:00:48.7997094+01:00  [INF] Entity Framework Core "5.0.6" initialized '"APPContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MaxPoolSize=128 " (9958f5bb)
2024-04-26T09:00:49.4141875+01:00  [INF] Executed DbCommand ("29"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1" (0723d8ff)
2024-04-26T09:00:49.4627023+01:00  [INF] Executed DbCommand ("28"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT OBJECT_ID(N'[__EFMigrationsHistory]');" (0723d8ff)
2024-04-26T09:00:49.4665098+01:00  [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1" (0723d8ff)
2024-04-26T09:00:49.4670686+01:00  [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT OBJECT_ID(N'[__EFMigrationsHistory]');" (0723d8ff)
2024-04-26T09:00:49.4954438+01:00  [INF] Executed DbCommand ("9"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];" (0723d8ff)
2024-04-26T09:00:49.5321570+01:00  [INF] No migrations were applied. The database is already up to date. (503cba9d)
2024-04-26T09:00:49.8259523+01:00  [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [p].[PermissionName]
FROM [Permissions] AS [p]" (0723d8ff)
2024-04-26T09:00:50.1186048+01:00  [INF] Executed DbCommand ("80"ms) [Parameters=["@p0='?' (Size = 4000), @p1='?' (DbType = DateTimeOffset), @p2='?' (DbType = Boolean), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (DbType = DateTimeOffset), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (Size = 450), @p9='?' (Size = 4000), @p10='?' (DbType = DateTimeOffset), @p11='?' (DbType = Boolean), @p12='?' (DbType = Boolean), @p13='?' (Size = 4000), @p14='?' (DbType = DateTimeOffset), @p15='?' (Size = 4000), @p16='?' (Size = 4000), @p17='?' (Size = 450), @p18='?' (Size = 4000), @p19='?' (DbType = DateTimeOffset), @p20='?' (DbType = Boolean), @p21='?' (DbType = Boolean), @p22='?' (Size = 4000), @p23='?' (DbType = DateTimeOffset), @p24='?' (Size = 4000), @p25='?' (Size = 4000), @p26='?' (Size = 450), @p27='?' (Size = 4000), @p28='?' (DbType = DateTimeOffset), @p29='?' (DbType = Boolean), @p30='?' (DbType = Boolean), @p31='?' (Size = 4000), @p32='?' (DbType = DateTimeOffset), @p33='?' (Size = 4000), @p34='?' (Size = 4000), @p35='?' (Size = 450), @p36='?' (Size = 4000), @p37='?' (DbType = DateTimeOffset), @p38='?' (DbType = Boolean), @p39='?' (DbType = Boolean), @p40='?' (Size = 4000), @p41='?' (DbType = DateTimeOffset), @p42='?' (Size = 4000), @p43='?' (Size = 4000), @p44='?' (Size = 450), @p45='?' (Size = 4000), @p46='?' (DbType = DateTimeOffset), @p47='?' (DbType = Boolean), @p48='?' (DbType = Boolean), @p49='?' (Size = 4000), @p50='?' (DbType = DateTimeOffset), @p51='?' (Size = 4000), @p52='?' (Size = 4000), @p53='?' (Size = 450), @p54='?' (Size = 4000), @p55='?' (DbType = DateTimeOffset), @p56='?' (DbType = Boolean), @p57='?' (DbType = Boolean), @p58='?' (Size = 4000), @p59='?' (DbType = DateTimeOffset), @p60='?' (Size = 4000), @p61='?' (Size = 4000), @p62='?' (Size = 450), @p63='?' (Size = 4000), @p64='?' (DbType = DateTimeOffset), @p65='?' (DbType = Boolean), @p66='?' (DbType = Boolean), @p67='?' (Size = 4000), @p68='?' (DbType = DateTimeOffset), @p69='?' (Size = 4000), @p70='?' (Size = 4000), @p71='?' (Size = 450), @p72='?' (Size = 4000), @p73='?' (DbType = DateTimeOffset), @p74='?' (DbType = Boolean), @p75='?' (DbType = Boolean), @p76='?' (Size = 4000), @p77='?' (DbType = DateTimeOffset), @p78='?' (Size = 4000), @p79='?' (Size = 4000), @p80='?' (Size = 450), @p81='?' (Size = 4000), @p82='?' (DbType = DateTimeOffset), @p83='?' (DbType = Boolean), @p84='?' (DbType = Boolean), @p85='?' (Size = 4000), @p86='?' (DbType = DateTimeOffset), @p87='?' (Size = 4000), @p88='?' (Size = 4000), @p89='?' (Size = 450), @p90='?' (Size = 4000), @p91='?' (DbType = DateTimeOffset), @p92='?' (DbType = Boolean), @p93='?' (DbType = Boolean), @p94='?' (Size = 4000), @p95='?' (DbType = DateTimeOffset), @p96='?' (Size = 4000), @p97='?' (Size = 4000), @p98='?' (Size = 450), @p99='?' (Size = 4000), @p100='?' (DbType = DateTimeOffset), @p101='?' (DbType = Boolean), @p102='?' (DbType = Boolean), @p103='?' (Size = 4000), @p104='?' (DbType = DateTimeOffset), @p105='?' (Size = 4000), @p106='?' (Size = 4000), @p107='?' (Size = 450), @p108='?' (Size = 4000), @p109='?' (DbType = DateTimeOffset), @p110='?' (DbType = Boolean), @p111='?' (DbType = Boolean), @p112='?' (Size = 4000), @p113='?' (DbType = DateTimeOffset), @p114='?' (Size = 4000), @p115='?' (Size = 4000), @p116='?' (Size = 450), @p117='?' (Size = 4000), @p118='?' (DbType = DateTimeOffset), @p119='?' (DbType = Boolean), @p120='?' (DbType = Boolean), @p121='?' (Size = 4000), @p122='?' (DbType = DateTimeOffset), @p123='?' (Size = 4000), @p124='?' (Size = 4000), @p125='?' (Size = 450), @p126='?' (Size = 4000), @p127='?' (DbType = DateTimeOffset), @p128='?' (DbType = Boolean), @p129='?' (DbType = Boolean), @p130='?' (Size = 4000), @p131='?' (DbType = DateTimeOffset), @p132='?' (Size = 4000), @p133='?' (Size = 4000), @p134='?' (Size = 450), @p135='?' (Size = 4000), @p136='?' (DbType = DateTimeOffset), @p137='?' (DbType = Boolean), @p138='?' (DbType = Boolean), @p139='?' (Size = 4000), @p140='?' (DbType = DateTimeOffset), @p141='?' (Size = 4000), @p142='?' (Size = 4000), @p143='?' (Size = 450), @p144='?' (Size = 4000), @p145='?' (DbType = DateTimeOffset), @p146='?' (DbType = Boolean), @p147='?' (DbType = Boolean), @p148='?' (Size = 4000), @p149='?' (DbType = DateTimeOffset), @p150='?' (Size = 4000), @p151='?' (Size = 4000), @p152='?' (Size = 450), @p153='?' (Size = 4000), @p154='?' (DbType = DateTimeOffset), @p155='?' (DbType = Boolean), @p156='?' (DbType = Boolean), @p157='?' (Size = 4000), @p158='?' (DbType = DateTimeOffset), @p159='?' (Size = 4000), @p160='?' (Size = 4000), @p161='?' (Size = 450), @p162='?' (Size = 4000), @p163='?' (DbType = DateTimeOffset), @p164='?' (DbType = Boolean), @p165='?' (DbType = Boolean), @p166='?' (Size = 4000), @p167='?' (DbType = DateTimeOffset), @p168='?' (Size = 4000), @p169='?' (Size = 4000), @p170='?' (Size = 450), @p171='?' (Size = 4000), @p172='?' (DbType = DateTimeOffset), @p173='?' (DbType = Boolean), @p174='?' (DbType = Boolean), @p175='?' (Size = 4000), @p176='?' (DbType = DateTimeOffset), @p177='?' (Size = 4000), @p178='?' (Size = 4000), @p179='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
DECLARE @inserted0 TABLE ([Id] bigint, [_Position] [int]);
MERGE [Permissions] USING (
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, 0),
(@p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, 1),
(@p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, 2),
(@p27, @p28, @p29, @p30, @p31, @p32, @p33, @p34, @p35, 3),
(@p36, @p37, @p38, @p39, @p40, @p41, @p42, @p43, @p44, 4),
(@p45, @p46, @p47, @p48, @p49, @p50, @p51, @p52, @p53, 5),
(@p54, @p55, @p56, @p57, @p58, @p59, @p60, @p61, @p62, 6),
(@p63, @p64, @p65, @p66, @p67, @p68, @p69, @p70, @p71, 7),
(@p72, @p73, @p74, @p75, @p76, @p77, @p78, @p79, @p80, 8),
(@p81, @p82, @p83, @p84, @p85, @p86, @p87, @p88, @p89, 9),
(@p90, @p91, @p92, @p93, @p94, @p95, @p96, @p97, @p98, 10),
(@p99, @p100, @p101, @p102, @p103, @p104, @p105, @p106, @p107, 11),
(@p108, @p109, @p110, @p111, @p112, @p113, @p114, @p115, @p116, 12),
(@p117, @p118, @p119, @p120, @p121, @p122, @p123, @p124, @p125, 13),
(@p126, @p127, @p128, @p129, @p130, @p131, @p132, @p133, @p134, 14),
(@p135, @p136, @p137, @p138, @p139, @p140, @p141, @p142, @p143, 15),
(@p144, @p145, @p146, @p147, @p148, @p149, @p150, @p151, @p152, 16),
(@p153, @p154, @p155, @p156, @p157, @p158, @p159, @p160, @p161, 17),
(@p162, @p163, @p164, @p165, @p166, @p167, @p168, @p169, @p170, 18),
(@p171, @p172, @p173, @p174, @p175, @p176, @p177, @p178, @p179, 19)) AS i ([CreatedBy], [CreatedDate], [IsActive], [IsDeleted], [ModifiedBy], [ModifiedDate], [PermissionDescription], [PermissionDisplayName], [PermissionName], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([CreatedBy], [CreatedDate], [IsActive], [IsDeleted], [ModifiedBy], [ModifiedDate], [PermissionDescription], [PermissionDisplayName], [PermissionName])
VALUES (i.[CreatedBy], i.[CreatedDate], i.[IsActive], i.[IsDeleted], i.[ModifiedBy], i.[ModifiedDate], i.[PermissionDescription], i.[PermissionDisplayName], i.[PermissionName])
OUTPUT INSERTED.[Id], i._Position
INTO @inserted0;

SELECT [t].[Id] FROM [Permissions] t
INNER JOIN @inserted0 i ON ([t].[Id] = [i].[Id])
ORDER BY [i].[_Position];" (0723d8ff)
2024-04-26T09:00:50.2357725+01:00  [INF] Executed DbCommand ("19"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[Id], [a].[City], [a].[Country], [a].[CreatedBy], [a].[CreatedDate], [a].[DateAccountLocked], [a].[Email], [a].[EmailConfirmationDate], [a].[FirstName], [a].[IsActive], [a].[IsDeleted], [a].[IsEmailConfirmed], [a].[IsLockedOut], [a].[IsSuperAdmin], [a].[LastLogin], [a].[LockoutCounter], [a].[ModifiedBy], [a].[ModifiedDate], [a].[MustChangePassword], [a].[No], [a].[Password], [a].[PhoneNumber], [a].[Road], [a].[State], [a].[SurName], [a].[Telephone], [a].[Title]
FROM [AppUsers] AS [a]
WHERE [a].[IsSuperAdmin] = CAST(1 AS bit)" (0723d8ff)
2024-04-26T09:00:50.4465430+01:00  [INF] User profile is available. Using '"C:\Users\HP\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest. (7ac5e29c)
2024-04-26T09:00:50.4991031+01:00  [ERR] Message => One or more errors occurred. (Unable to track an entity of type 'AppUser' because its primary key property 'Id' is null.)|Stacktrace =>    at System.Threading.Tasks.Task`1.GetResultCore(Boolean waitCompletionNotification)
   at System.Threading.Tasks.Task`1.get_Result()
   at ErrandPayApp.Infrastructure.Configuration.DatabaseConfiguration.InitializeSupperUser(IServiceScope scope) in C:\Users\HP\source\repos\ErrandPayApp.API\ErrandPayApp.Infrastructure\Configuration\DatabaseConfiguration.cs:line 87|InnerException => System.InvalidOperationException: Unable to track an entity of type 'AppUser' because its primary key property 'Id' is null.
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.NullableKeyIdentityMap`1.Add(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.StartTracking(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState oldState, EntityState newState, Boolean acceptChanges, Boolean modifyProperties)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState entityState, Boolean acceptChanges, Boolean modifyProperties, Nullable`1 forceStateWhenUnknownKey)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.PaintAction(EntityEntryGraphNode`1 node)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityEntryGraphIterator.TraverseGraph[TState](EntityEntryGraphNode`1 node, Func`2 handleNode)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.AttachGraph(InternalEntityEntry rootEntry, EntityState targetState, EntityState storeGeneratedWithKeySetTargetState, Boolean forceStateWhenUnknownKey)
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.SetEntityState(InternalEntityEntry entry, EntityState entityState)
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.Add(TEntity entity)
   at ErrandPayApp.Data.Repositories.UserRepository.CreateDefaultUser() in C:\Users\HP\source\repos\ErrandPayApp.API\ErrandPayApp.Data\Repositories\UserRepository.cs:line 309 (c772a506)
System.AggregateException: One or more errors occurred. (Unable to track an entity of type 'AppUser' because its primary key property 'Id' is null.)
 ---> System.InvalidOperationException: Unable to track an entity of type 'AppUser' because its primary key property 'Id' is null.
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.NullableKeyIdentityMap`1.Add(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.StartTracking(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState oldState, EntityState newState, Boolean acceptChanges, Boolean modifyProperties)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState entityState, Boolean acceptChanges, Boolean modifyProperties, Nullable`1 forceStateWhenUnknownKey)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.PaintAction(EntityEntryGraphNode`1 node)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityEntryGraphIterator.TraverseGraph[TState](EntityEntryGraphNode`1 node, Func`2 handleNode)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.AttachGraph(InternalEntityEntry rootEntry, EntityState targetState, EntityState storeGeneratedWithKeySetTargetState, Boolean forceStateWhenUnknownKey)
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.SetEntityState(InternalEntityEntry entry, EntityState entityState)
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.Add(TEntity entity)
   at ErrandPayApp.Data.Repositories.UserRepository.CreateDefaultUser() in C:\Users\HP\source\repos\ErrandPayApp.API\ErrandPayApp.Data\Repositories\UserRepository.cs:line 309
   --- End of inner exception stack trace ---
   at System.Threading.Tasks.Task`1.GetResultCore(Boolean waitCompletionNotification)
   at System.Threading.Tasks.Task`1.get_Result()
   at ErrandPayApp.Infrastructure.Configuration.DatabaseConfiguration.InitializeSupperUser(IServiceScope scope) in C:\Users\HP\source\repos\ErrandPayApp.API\ErrandPayApp.Infrastructure\Configuration\DatabaseConfiguration.cs:line 87
2024-04-26T09:00:50.7755301+01:00  [INF] Application started. Press Ctrl+C to shut down. (dcaefe54)
2024-04-26T09:00:50.7903197+01:00  [INF] Hosting environment: "Development" (c3307c92)
2024-04-26T09:00:50.8004262+01:00  [INF] Content root path: "C:\Users\HP\source\repos\ErrandPayApp.API\ErrandPayApp.API" (b5d60022)
2024-04-26T09:00:50.8609224+01:00 80000028-0004-fe00-b63f-84710c7967bb [INF] Request starting HTTP/2 GET https://localhost:44331/swagger/index.html - - (ca22a1cb)
2024-04-26T09:00:51.2560479+01:00 80000028-0004-fe00-b63f-84710c7967bb [INF] Request finished HTTP/2 GET https://localhost:44331/swagger/index.html - - - 404 - - 397.7135ms (791a596a)
2024-04-26T09:03:42.9998134+01:00 80000030-0001-fe00-b63f-84710c7967bb [INF] Request starting HTTP/2 GET https://localhost:44331/index.html - - (ca22a1cb)
2024-04-26T09:03:43.1242967+01:00 80000030-0001-fe00-b63f-84710c7967bb [INF] Request finished HTTP/2 GET https://localhost:44331/index.html - - - 200 - text/html;charset=utf-8 124.5020ms (791a596a)
2024-04-26T09:03:43.2649011+01:00 8000000c-0000-fb00-b63f-84710c7967bb [INF] Request starting HTTP/2 GET https://localhost:44331/_framework/aspnetcore-browser-refresh.js - - (ca22a1cb)
2024-04-26T09:03:43.2694876+01:00 8000000c-0000-fb00-b63f-84710c7967bb [INF] Request finished HTTP/2 GET https://localhost:44331/_framework/aspnetcore-browser-refresh.js - - - 200 12366 application/javascript;+charset=utf-8 4.2121ms (791a596a)
2024-04-26T09:03:43.2858626+01:00 80000018-0007-ff00-b63f-84710c7967bb [INF] Request starting HTTP/2 GET https://localhost:44331/_vs/browserLink - - (ca22a1cb)
2024-04-26T09:03:43.3376870+01:00 80000018-0007-ff00-b63f-84710c7967bb [INF] Request finished HTTP/2 GET https://localhost:44331/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 51.7817ms (791a596a)
2024-04-26T09:03:43.4178796+01:00 800000a2-0005-fe00-b63f-84710c7967bb [INF] Request starting HTTP/2 GET https://localhost:44331/swagger/v1/swagger.json - - (ca22a1cb)
2024-04-26T09:03:43.5147321+01:00 800000a2-0005-fe00-b63f-84710c7967bb [INF] Request finished HTTP/2 GET https://localhost:44331/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 96.7704ms (791a596a)
2024-04-26T09:04:00.7408761+01:00 80000006-0006-f800-b63f-84710c7967bb [INF] Request starting HTTP/2 POST https://localhost:44331/api/Roles application/json 52 (ca22a1cb)
2024-04-26T09:04:00.7450419+01:00 80000006-0006-f800-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2024-04-26T09:04:00.7562277+01:00 80000006-0006-f800-b63f-84710c7967bb [INF] Executing endpoint '"ErrandPayApp.API.Controllers.RolesController.CreateRole (ErrandPayApp.API)"' (500cc934)
2024-04-26T09:04:00.7950605+01:00 80000006-0006-f800-b63f-84710c7967bb [INF] Route matched with "{action = \"CreateRole\", controller = \"Roles\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateRole(ErrandPayApp.API.RequestVms.RoleVm)" on controller "ErrandPayApp.API.Controllers.RolesController" ("ErrandPayApp.API"). (122b2fdf)
2024-04-26T09:04:00.9020806+01:00 80000006-0006-f800-b63f-84710c7967bb [INF] Executed DbCommand ("13"ms) [Parameters=["@__roleName_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [r].[Id], [r].[CreatedBy], [r].[CreatedDate], [r].[IsActive], [r].[IsDeleted], [r].[ModifiedBy], [r].[ModifiedDate], [r].[RoleDescription], [r].[RoleName], [r].[RoleNameHash]
FROM [Roles] AS [r]
WHERE [r].[RoleName] = @__roleName_0" (0723d8ff)
2024-04-26T09:04:04.4931852+01:00 80000006-0006-f800-b63f-84710c7967bb [INF] Executed DbCommand ("4"ms) [Parameters=["@p0='?' (Size = 4000), @p1='?' (DbType = DateTimeOffset), @p2='?' (DbType = Boolean), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (DbType = DateTimeOffset), @p6='?' (Size = 4000), @p7='?' (Size = 450), @p8='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [Roles] ([CreatedBy], [CreatedDate], [IsActive], [IsDeleted], [ModifiedBy], [ModifiedDate], [RoleDescription], [RoleName], [RoleNameHash])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
SELECT [Id]
FROM [Roles]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();" (0723d8ff)
2024-04-26T09:04:04.5244711+01:00 80000006-0006-f800-b63f-84710c7967bb [INF] Executing "OkObjectResult", writing value of type '"ErrandPayApp.Core.Models.ResponseModel`1[[ErrandPayApp.Core.Dtos.RoleDto, ErrandPayApp.Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (605b4265)
2024-04-26T09:04:04.5682671+01:00 80000006-0006-f800-b63f-84710c7967bb [INF] Executed action "ErrandPayApp.API.Controllers.RolesController.CreateRole (ErrandPayApp.API)" in 3764.523ms (afa2e885)
2024-04-26T09:04:04.5688803+01:00 80000006-0006-f800-b63f-84710c7967bb [INF] Executed endpoint '"ErrandPayApp.API.Controllers.RolesController.CreateRole (ErrandPayApp.API)"' (99874f2b)
2024-04-26T09:04:04.5766800+01:00 80000006-0006-f800-b63f-84710c7967bb [INF] Request finished HTTP/2 POST https://localhost:44331/api/Roles application/json 52 - 200 - application/json;+charset=utf-8 3835.9654ms (791a596a)
2024-04-26T09:10:38.1266856+01:00  [INF] Entity Framework Core "5.0.6" initialized '"APPContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MaxPoolSize=128 " (9958f5bb)
2024-04-26T09:10:39.1744146+01:00  [INF] Executed DbCommand ("90"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1" (0723d8ff)
2024-04-26T09:10:39.2925359+01:00  [INF] Executed DbCommand ("87"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT OBJECT_ID(N'[__EFMigrationsHistory]');" (0723d8ff)
2024-04-26T09:10:39.2985278+01:00  [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1" (0723d8ff)
2024-04-26T09:10:39.2997441+01:00  [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT OBJECT_ID(N'[__EFMigrationsHistory]');" (0723d8ff)
2024-04-26T09:10:39.3548317+01:00  [INF] Executed DbCommand ("29"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];" (0723d8ff)
2024-04-26T09:10:39.3772557+01:00  [INF] No migrations were applied. The database is already up to date. (503cba9d)
2024-04-26T09:10:39.7706978+01:00  [INF] Executed DbCommand ("9"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [p].[PermissionName]
FROM [Permissions] AS [p]" (0723d8ff)
2024-04-26T09:10:39.9324325+01:00  [INF] Executed DbCommand ("39"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[Id], [a].[City], [a].[Country], [a].[CreatedBy], [a].[CreatedDate], [a].[DateAccountLocked], [a].[Email], [a].[EmailConfirmationDate], [a].[FirstName], [a].[IsActive], [a].[IsDeleted], [a].[IsEmailConfirmed], [a].[IsLockedOut], [a].[IsSuperAdmin], [a].[LastLogin], [a].[LockoutCounter], [a].[ModifiedBy], [a].[ModifiedDate], [a].[MustChangePassword], [a].[No], [a].[Password], [a].[PhoneNumber], [a].[Road], [a].[State], [a].[SurName], [a].[Telephone], [a].[Title]
FROM [AppUsers] AS [a]
WHERE [a].[IsSuperAdmin] = CAST(1 AS bit)" (0723d8ff)
2024-04-26T09:10:40.2158985+01:00  [INF] User profile is available. Using '"C:\Users\HP\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest. (7ac5e29c)
2024-04-26T09:10:40.2820586+01:00  [ERR] Message => One or more errors occurred. (Unable to track an entity of type 'AppUser' because its primary key property 'Id' is null.)|Stacktrace =>    at System.Threading.Tasks.Task`1.GetResultCore(Boolean waitCompletionNotification)
   at System.Threading.Tasks.Task`1.get_Result()
   at ErrandPayApp.Infrastructure.Configuration.DatabaseConfiguration.InitializeSupperUser(IServiceScope scope) in C:\Users\HP\source\repos\ErrandPayApp.API\ErrandPayApp.Infrastructure\Configuration\DatabaseConfiguration.cs:line 87|InnerException => System.InvalidOperationException: Unable to track an entity of type 'AppUser' because its primary key property 'Id' is null.
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.NullableKeyIdentityMap`1.Add(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.StartTracking(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState oldState, EntityState newState, Boolean acceptChanges, Boolean modifyProperties)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState entityState, Boolean acceptChanges, Boolean modifyProperties, Nullable`1 forceStateWhenUnknownKey)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.PaintAction(EntityEntryGraphNode`1 node)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityEntryGraphIterator.TraverseGraph[TState](EntityEntryGraphNode`1 node, Func`2 handleNode)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.AttachGraph(InternalEntityEntry rootEntry, EntityState targetState, EntityState storeGeneratedWithKeySetTargetState, Boolean forceStateWhenUnknownKey)
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.SetEntityState(InternalEntityEntry entry, EntityState entityState)
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.Add(TEntity entity)
   at ErrandPayApp.Data.Repositories.UserRepository.CreateDefaultUser() in C:\Users\HP\source\repos\ErrandPayApp.API\ErrandPayApp.Data\Repositories\UserRepository.cs:line 309 (c772a506)
System.AggregateException: One or more errors occurred. (Unable to track an entity of type 'AppUser' because its primary key property 'Id' is null.)
 ---> System.InvalidOperationException: Unable to track an entity of type 'AppUser' because its primary key property 'Id' is null.
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.NullableKeyIdentityMap`1.Add(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.StartTracking(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState oldState, EntityState newState, Boolean acceptChanges, Boolean modifyProperties)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState entityState, Boolean acceptChanges, Boolean modifyProperties, Nullable`1 forceStateWhenUnknownKey)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.PaintAction(EntityEntryGraphNode`1 node)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityEntryGraphIterator.TraverseGraph[TState](EntityEntryGraphNode`1 node, Func`2 handleNode)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.AttachGraph(InternalEntityEntry rootEntry, EntityState targetState, EntityState storeGeneratedWithKeySetTargetState, Boolean forceStateWhenUnknownKey)
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.SetEntityState(InternalEntityEntry entry, EntityState entityState)
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.Add(TEntity entity)
   at ErrandPayApp.Data.Repositories.UserRepository.CreateDefaultUser() in C:\Users\HP\source\repos\ErrandPayApp.API\ErrandPayApp.Data\Repositories\UserRepository.cs:line 309
   --- End of inner exception stack trace ---
   at System.Threading.Tasks.Task`1.GetResultCore(Boolean waitCompletionNotification)
   at System.Threading.Tasks.Task`1.get_Result()
   at ErrandPayApp.Infrastructure.Configuration.DatabaseConfiguration.InitializeSupperUser(IServiceScope scope) in C:\Users\HP\source\repos\ErrandPayApp.API\ErrandPayApp.Infrastructure\Configuration\DatabaseConfiguration.cs:line 87
2024-04-26T09:10:40.5556094+01:00  [INF] Application started. Press Ctrl+C to shut down. (dcaefe54)
2024-04-26T09:10:40.5588166+01:00  [INF] Hosting environment: "Development" (c3307c92)
2024-04-26T09:10:40.5617601+01:00  [INF] Content root path: "C:\Users\HP\source\repos\ErrandPayApp.API\ErrandPayApp.API" (b5d60022)
2024-04-26T09:10:40.6210140+01:00 80000066-0006-fd00-b63f-84710c7967bb [INF] Request starting HTTP/2 GET https://localhost:44331/swagger/index.html - - (ca22a1cb)
2024-04-26T09:10:41.0571489+01:00 80000066-0006-fd00-b63f-84710c7967bb [INF] Request finished HTTP/2 GET https://localhost:44331/swagger/index.html - - - 404 - - 439.3570ms (791a596a)
2024-04-26T09:10:44.5542536+01:00 80000068-0006-fd00-b63f-84710c7967bb [INF] Request starting HTTP/2 GET https://localhost:44331/index.html - - (ca22a1cb)
2024-04-26T09:10:44.7195181+01:00 80000068-0006-fd00-b63f-84710c7967bb [INF] Request finished HTTP/2 GET https://localhost:44331/index.html - - - 200 - text/html;charset=utf-8 165.3851ms (791a596a)
2024-04-26T09:10:45.0706029+01:00 8000002c-0004-fe00-b63f-84710c7967bb [INF] Request starting HTTP/2 GET https://localhost:44331/_framework/aspnetcore-browser-refresh.js - - (ca22a1cb)
2024-04-26T09:10:45.1079695+01:00 8000002c-0004-fe00-b63f-84710c7967bb [INF] Request finished HTTP/2 GET https://localhost:44331/_framework/aspnetcore-browser-refresh.js - - - 200 12366 application/javascript;+charset=utf-8 34.8733ms (791a596a)
2024-04-26T09:10:45.1257962+01:00 8000002e-0004-fe00-b63f-84710c7967bb [INF] Request starting HTTP/2 GET https://localhost:44331/_vs/browserLink - - (ca22a1cb)
2024-04-26T09:10:45.2581652+01:00 8000002e-0004-fe00-b63f-84710c7967bb [INF] Request finished HTTP/2 GET https://localhost:44331/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 152.6403ms (791a596a)
2024-04-26T09:10:45.3410050+01:00 80000030-0004-fe00-b63f-84710c7967bb [INF] Request starting HTTP/2 GET https://localhost:44331/swagger/v1/swagger.json - - (ca22a1cb)
2024-04-26T09:10:45.5930204+01:00 80000030-0004-fe00-b63f-84710c7967bb [INF] Request finished HTTP/2 GET https://localhost:44331/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 251.7822ms (791a596a)
2024-04-26T09:14:43.7613721+01:00  [INF] Entity Framework Core "5.0.6" initialized '"APPContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MaxPoolSize=128 " (9958f5bb)
2024-04-26T09:14:44.6545313+01:00  [INF] Executed DbCommand ("37"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1" (0723d8ff)
2024-04-26T09:14:44.7011011+01:00  [INF] Executed DbCommand ("29"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT OBJECT_ID(N'[__EFMigrationsHistory]');" (0723d8ff)
2024-04-26T09:14:44.7053118+01:00  [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1" (0723d8ff)
2024-04-26T09:14:44.7059439+01:00  [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT OBJECT_ID(N'[__EFMigrationsHistory]');" (0723d8ff)
2024-04-26T09:14:44.7382177+01:00  [INF] Executed DbCommand ("4"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];" (0723d8ff)
2024-04-26T09:14:44.7749627+01:00  [INF] No migrations were applied. The database is already up to date. (503cba9d)
2024-04-26T09:14:45.2230963+01:00  [INF] Executed DbCommand ("9"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [p].[PermissionName]
FROM [Permissions] AS [p]" (0723d8ff)
2024-04-26T09:14:45.3633116+01:00  [INF] Executed DbCommand ("35"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[Id], [a].[City], [a].[Country], [a].[CreatedBy], [a].[CreatedDate], [a].[DateAccountLocked], [a].[Email], [a].[EmailConfirmationDate], [a].[FirstName], [a].[IsActive], [a].[IsDeleted], [a].[IsEmailConfirmed], [a].[IsLockedOut], [a].[IsSuperAdmin], [a].[LastLogin], [a].[LockoutCounter], [a].[ModifiedBy], [a].[ModifiedDate], [a].[MustChangePassword], [a].[No], [a].[Password], [a].[PhoneNumber], [a].[Road], [a].[State], [a].[SurName], [a].[Telephone], [a].[Title]
FROM [AppUsers] AS [a]
WHERE [a].[IsSuperAdmin] = CAST(1 AS bit)" (0723d8ff)
2024-04-26T09:14:45.6934434+01:00  [INF] User profile is available. Using '"C:\Users\HP\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest. (7ac5e29c)
2024-04-26T09:14:45.7397953+01:00  [ERR] Message => One or more errors occurred. (Unable to track an entity of type 'AppUser' because its primary key property 'Id' is null.)|Stacktrace =>    at System.Threading.Tasks.Task`1.GetResultCore(Boolean waitCompletionNotification)
   at System.Threading.Tasks.Task`1.get_Result()
   at ErrandPayApp.Infrastructure.Configuration.DatabaseConfiguration.InitializeSupperUser(IServiceScope scope) in C:\Users\HP\source\repos\ErrandPayApp.API\ErrandPayApp.Infrastructure\Configuration\DatabaseConfiguration.cs:line 87|InnerException => System.InvalidOperationException: Unable to track an entity of type 'AppUser' because its primary key property 'Id' is null.
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.NullableKeyIdentityMap`1.Add(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.StartTracking(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState oldState, EntityState newState, Boolean acceptChanges, Boolean modifyProperties)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState entityState, Boolean acceptChanges, Boolean modifyProperties, Nullable`1 forceStateWhenUnknownKey)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.PaintAction(EntityEntryGraphNode`1 node)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityEntryGraphIterator.TraverseGraph[TState](EntityEntryGraphNode`1 node, Func`2 handleNode)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.AttachGraph(InternalEntityEntry rootEntry, EntityState targetState, EntityState storeGeneratedWithKeySetTargetState, Boolean forceStateWhenUnknownKey)
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.SetEntityState(InternalEntityEntry entry, EntityState entityState)
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.Add(TEntity entity)
   at ErrandPayApp.Data.Repositories.UserRepository.CreateDefaultUser() in C:\Users\HP\source\repos\ErrandPayApp.API\ErrandPayApp.Data\Repositories\UserRepository.cs:line 309 (c772a506)
System.AggregateException: One or more errors occurred. (Unable to track an entity of type 'AppUser' because its primary key property 'Id' is null.)
 ---> System.InvalidOperationException: Unable to track an entity of type 'AppUser' because its primary key property 'Id' is null.
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.NullableKeyIdentityMap`1.Add(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.StartTracking(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState oldState, EntityState newState, Boolean acceptChanges, Boolean modifyProperties)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState entityState, Boolean acceptChanges, Boolean modifyProperties, Nullable`1 forceStateWhenUnknownKey)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.PaintAction(EntityEntryGraphNode`1 node)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityEntryGraphIterator.TraverseGraph[TState](EntityEntryGraphNode`1 node, Func`2 handleNode)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.AttachGraph(InternalEntityEntry rootEntry, EntityState targetState, EntityState storeGeneratedWithKeySetTargetState, Boolean forceStateWhenUnknownKey)
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.SetEntityState(InternalEntityEntry entry, EntityState entityState)
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.Add(TEntity entity)
   at ErrandPayApp.Data.Repositories.UserRepository.CreateDefaultUser() in C:\Users\HP\source\repos\ErrandPayApp.API\ErrandPayApp.Data\Repositories\UserRepository.cs:line 309
   --- End of inner exception stack trace ---
   at System.Threading.Tasks.Task`1.GetResultCore(Boolean waitCompletionNotification)
   at System.Threading.Tasks.Task`1.get_Result()
   at ErrandPayApp.Infrastructure.Configuration.DatabaseConfiguration.InitializeSupperUser(IServiceScope scope) in C:\Users\HP\source\repos\ErrandPayApp.API\ErrandPayApp.Infrastructure\Configuration\DatabaseConfiguration.cs:line 87
2024-04-26T09:14:46.1002463+01:00  [INF] Application started. Press Ctrl+C to shut down. (dcaefe54)
2024-04-26T09:14:46.1041391+01:00  [INF] Hosting environment: "Development" (c3307c92)
2024-04-26T09:14:46.1069680+01:00  [INF] Content root path: "C:\Users\HP\source\repos\ErrandPayApp.API\ErrandPayApp.API" (b5d60022)
2024-04-26T09:14:46.1868976+01:00 8000006a-0006-fd00-b63f-84710c7967bb [INF] Request starting HTTP/2 GET https://localhost:44331/swagger/index.html - - (ca22a1cb)
2024-04-26T09:14:46.7769726+01:00 8000006a-0006-fd00-b63f-84710c7967bb [INF] Request finished HTTP/2 GET https://localhost:44331/swagger/index.html - - - 404 - - 598.8802ms (791a596a)
2024-04-26T09:14:51.9734324+01:00 80000011-0000-fb00-b63f-84710c7967bb [INF] Request starting HTTP/2 GET https://localhost:44331/index.html - - (ca22a1cb)
2024-04-26T09:14:52.1402863+01:00 80000011-0000-fb00-b63f-84710c7967bb [INF] Request finished HTTP/2 GET https://localhost:44331/index.html - - - 200 - text/html;charset=utf-8 166.8696ms (791a596a)
2024-04-26T09:14:52.3616566+01:00 8000000d-0003-ff00-b63f-84710c7967bb [INF] Request starting HTTP/2 GET https://localhost:44331/_framework/aspnetcore-browser-refresh.js - - (ca22a1cb)
2024-04-26T09:14:52.3692662+01:00 8000000d-0003-ff00-b63f-84710c7967bb [INF] Request finished HTTP/2 GET https://localhost:44331/_framework/aspnetcore-browser-refresh.js - - - 200 12366 application/javascript;+charset=utf-8 6.8446ms (791a596a)
2024-04-26T09:14:52.3759202+01:00 80000032-0004-fe00-b63f-84710c7967bb [INF] Request starting HTTP/2 GET https://localhost:44331/_vs/browserLink - - (ca22a1cb)
2024-04-26T09:14:52.4376827+01:00 80000032-0004-fe00-b63f-84710c7967bb [INF] Request finished HTTP/2 GET https://localhost:44331/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 61.7369ms (791a596a)
2024-04-26T09:14:52.5495379+01:00 8000003b-0001-ff00-b63f-84710c7967bb [INF] Request starting HTTP/2 GET https://localhost:44331/swagger/v1/swagger.json - - (ca22a1cb)
2024-04-26T09:14:52.7321944+01:00 8000003b-0001-ff00-b63f-84710c7967bb [INF] Request finished HTTP/2 GET https://localhost:44331/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 182.6337ms (791a596a)
2024-04-26T09:22:05.8369213+01:00 8000000f-0003-ff00-b63f-84710c7967bb [INF] Request starting HTTP/2 POST https://localhost:44331/api/User application/json 334 (ca22a1cb)
2024-04-26T09:22:05.8392105+01:00 8000000f-0003-ff00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2024-04-26T09:22:05.8479441+01:00 8000000f-0003-ff00-b63f-84710c7967bb [INF] Executing endpoint '"ErrandPayApp.API.Controllers.UserController.CreateUser (ErrandPayApp.API)"' (500cc934)
2024-04-26T09:22:05.8895624+01:00 8000000f-0003-ff00-b63f-84710c7967bb [INF] Route matched with "{action = \"CreateUser\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateUser(ErrandPayApp.API.RequestVms.UserVm)" on controller "ErrandPayApp.API.Controllers.UserController" ("ErrandPayApp.API"). (122b2fdf)
2024-04-26T09:22:09.1880641+01:00 8000000f-0003-ff00-b63f-84710c7967bb [INF] Executed DbCommand ("53"ms) [Parameters=["@__email_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[Email], [a].[PhoneNumber], [a].[SurName], [a].[FirstName], [a].[IsSuperAdmin], [a].[Id], [a].[MustChangePassword], [a].[LockoutCounter], [a].[IsLockedOut], [a].[LastLogin], [a].[DateAccountLocked], [a].[Title], [a].[No], [a].[Road], [a].[City], [a].[State], [a].[Country]
FROM [AppUsers] AS [a]
WHERE [a].[Email] = @__email_0" (0723d8ff)
2024-04-26T09:22:14.9213951+01:00 8000000f-0003-ff00-b63f-84710c7967bb [INF] Executed DbCommand ("11"ms) [Parameters=["@p0='?' (Size = 450), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (DbType = DateTimeOffset), @p5='?' (DbType = DateTime2), @p6='?' (Size = 450), @p7='?' (DbType = DateTimeOffset), @p8='?' (Size = 4000), @p9='?' (DbType = Boolean), @p10='?' (DbType = Boolean), @p11='?' (DbType = Boolean), @p12='?' (DbType = Boolean), @p13='?' (DbType = Boolean), @p14='?' (DbType = DateTime2), @p15='?' (DbType = Int32), @p16='?' (Size = 4000), @p17='?' (DbType = DateTimeOffset), @p18='?' (DbType = Boolean), @p19='?' (Size = 4000), @p20='?' (Size = 4000), @p21='?' (Size = 4000), @p22='?' (Size = 4000), @p23='?' (Size = 4000), @p24='?' (Size = 4000), @p25='?' (Size = 4000), @p26='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [AppUsers] ([Id], [City], [Country], [CreatedBy], [CreatedDate], [DateAccountLocked], [Email], [EmailConfirmationDate], [FirstName], [IsActive], [IsDeleted], [IsEmailConfirmed], [IsLockedOut], [IsSuperAdmin], [LastLogin], [LockoutCounter], [ModifiedBy], [ModifiedDate], [MustChangePassword], [No], [Password], [PhoneNumber], [Road], [State], [SurName], [Telephone], [Title])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26);" (0723d8ff)
2024-04-26T09:22:17.5052364+01:00 8000000f-0003-ff00-b63f-84710c7967bb [INF] Executed DbCommand ("36"ms) [Parameters=["@p0='?' (Size = 4000), @p1='?' (DbType = DateTimeOffset), @p2='?' (DbType = Boolean), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (DbType = DateTimeOffset), @p6='?' (DbType = Int64), @p7='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [UserRoles] ([CreatedBy], [CreatedDate], [IsActive], [IsDeleted], [ModifiedBy], [ModifiedDate], [RoleId], [UserId])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
SELECT [Id]
FROM [UserRoles]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();" (0723d8ff)
2024-04-26T09:22:25.5443045+01:00 8000000f-0003-ff00-b63f-84710c7967bb [INF] Executing "OkObjectResult", writing value of type '"ErrandPayApp.Core.Models.ResponseModel`1[[ErrandPayApp.Core.Dtos.AppUserDto, ErrandPayApp.Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (605b4265)
2024-04-26T09:22:25.5697676+01:00 8000000f-0003-ff00-b63f-84710c7967bb [INF] Executed action "ErrandPayApp.API.Controllers.UserController.CreateUser (ErrandPayApp.API)" in 19675.4034ms (afa2e885)
2024-04-26T09:22:25.5710516+01:00 8000000f-0003-ff00-b63f-84710c7967bb [INF] Executed endpoint '"ErrandPayApp.API.Controllers.UserController.CreateUser (ErrandPayApp.API)"' (99874f2b)
2024-04-26T09:22:25.5999951+01:00 8000000f-0003-ff00-b63f-84710c7967bb [ERR] An unhandled exception has occurred while executing the request. (48a46595)
System.InvalidOperationException: The JSON property name for 'ErrandPayApp.Core.Dtos.AppUserDto.SurName' collides with another property.
   at System.Text.Json.ThrowHelper.ThrowInvalidOperationException_SerializerPropertyNameConflict(Type type, JsonPropertyInfo jsonPropertyInfo)
   at System.Text.Json.JsonClassInfo.CacheMember(Type declaringType, Type memberType, MemberInfo memberInfo, Nullable`1 typeNumberHandling, Dictionary`2 cache, Dictionary`2& ignoredMembers)
   at System.Text.Json.JsonClassInfo..ctor(Type type, JsonSerializerOptions options)
   at System.Text.Json.JsonSerializerOptions.GetOrAddClass(Type type)
   at System.Text.Json.JsonPropertyInfo.get_RuntimeClassInfo()
   at System.Text.Json.WriteStack.Push()
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.WriteCore(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.WriteCoreAsObject(Utf8JsonWriter writer, Object value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonSerializer.WriteCore[TValue](JsonConverter jsonConverter, Utf8JsonWriter writer, TValue& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonSerializer.WriteAsyncCore[TValue](Stream utf8Json, TValue value, Type inputType, JsonSerializerOptions options, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResultFilterAsync>g__Awaited|29_0[TFilter,TFilterAsync](ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddleware.<Invoke>g__Awaited|6_0(ExceptionHandlerMiddleware middleware, HttpContext context, Task task)
2024-04-26T09:22:25.6531393+01:00 8000000f-0003-ff00-b63f-84710c7967bb [ERR] Message => The JSON property name for 'ErrandPayApp.Core.Dtos.AppUserDto.SurName' collides with another property.|Stacktrace =>    at System.Text.Json.ThrowHelper.ThrowInvalidOperationException_SerializerPropertyNameConflict(Type type, JsonPropertyInfo jsonPropertyInfo)
   at System.Text.Json.JsonClassInfo.CacheMember(Type declaringType, Type memberType, MemberInfo memberInfo, Nullable`1 typeNumberHandling, Dictionary`2 cache, Dictionary`2& ignoredMembers)
   at System.Text.Json.JsonClassInfo..ctor(Type type, JsonSerializerOptions options)
   at System.Text.Json.JsonSerializerOptions.GetOrAddClass(Type type)
   at System.Text.Json.JsonPropertyInfo.get_RuntimeClassInfo()
   at System.Text.Json.WriteStack.Push()
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.WriteCore(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.WriteCoreAsObject(Utf8JsonWriter writer, Object value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonSerializer.WriteCore[TValue](JsonConverter jsonConverter, Utf8JsonWriter writer, TValue& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonSerializer.WriteAsyncCore[TValue](Stream utf8Json, TValue value, Type inputType, JsonSerializerOptions options, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResultFilterAsync>g__Awaited|29_0[TFilter,TFilterAsync](ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddleware.<Invoke>g__Awaited|6_0(ExceptionHandlerMiddleware middleware, HttpContext context, Task task)|InnerException =>  (691385d5)
System.InvalidOperationException: The JSON property name for 'ErrandPayApp.Core.Dtos.AppUserDto.SurName' collides with another property.
   at System.Text.Json.ThrowHelper.ThrowInvalidOperationException_SerializerPropertyNameConflict(Type type, JsonPropertyInfo jsonPropertyInfo)
   at System.Text.Json.JsonClassInfo.CacheMember(Type declaringType, Type memberType, MemberInfo memberInfo, Nullable`1 typeNumberHandling, Dictionary`2 cache, Dictionary`2& ignoredMembers)
   at System.Text.Json.JsonClassInfo..ctor(Type type, JsonSerializerOptions options)
   at System.Text.Json.JsonSerializerOptions.GetOrAddClass(Type type)
   at System.Text.Json.JsonPropertyInfo.get_RuntimeClassInfo()
   at System.Text.Json.WriteStack.Push()
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.WriteCore(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.WriteCoreAsObject(Utf8JsonWriter writer, Object value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonSerializer.WriteCore[TValue](JsonConverter jsonConverter, Utf8JsonWriter writer, TValue& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonSerializer.WriteAsyncCore[TValue](Stream utf8Json, TValue value, Type inputType, JsonSerializerOptions options, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResultFilterAsync>g__Awaited|29_0[TFilter,TFilterAsync](ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddleware.<Invoke>g__Awaited|6_0(ExceptionHandlerMiddleware middleware, HttpContext context, Task task)
2024-04-26T09:22:25.7631907+01:00 8000000f-0003-ff00-b63f-84710c7967bb [INF] Request finished HTTP/2 POST https://localhost:44331/api/User application/json 334 - 500 - application/json 19926.3761ms (791a596a)
2024-04-26T09:28:54.6394539+01:00  [INF] Entity Framework Core "5.0.6" initialized '"APPContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MaxPoolSize=128 " (9958f5bb)
2024-04-26T09:28:56.3538647+01:00  [INF] Executed DbCommand ("50"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1" (0723d8ff)
2024-04-26T09:28:56.4273799+01:00  [INF] Executed DbCommand ("54"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT OBJECT_ID(N'[__EFMigrationsHistory]');" (0723d8ff)
2024-04-26T09:28:56.4345330+01:00  [INF] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1" (0723d8ff)
2024-04-26T09:28:56.4361930+01:00  [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT OBJECT_ID(N'[__EFMigrationsHistory]');" (0723d8ff)
2024-04-26T09:28:56.5024939+01:00  [INF] Executed DbCommand ("21"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];" (0723d8ff)
2024-04-26T09:28:56.5418502+01:00  [INF] No migrations were applied. The database is already up to date. (503cba9d)
2024-04-26T09:28:57.0181389+01:00  [INF] Executed DbCommand ("8"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [p].[PermissionName]
FROM [Permissions] AS [p]" (0723d8ff)
2024-04-26T09:28:57.1625264+01:00  [INF] Executed DbCommand ("35"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[Id], [a].[City], [a].[Country], [a].[CreatedBy], [a].[CreatedDate], [a].[DateAccountLocked], [a].[Email], [a].[EmailConfirmationDate], [a].[FirstName], [a].[IsActive], [a].[IsDeleted], [a].[IsEmailConfirmed], [a].[IsLockedOut], [a].[IsSuperAdmin], [a].[LastLogin], [a].[LockoutCounter], [a].[ModifiedBy], [a].[ModifiedDate], [a].[MustChangePassword], [a].[No], [a].[Password], [a].[PhoneNumber], [a].[Road], [a].[State], [a].[SurName], [a].[Telephone], [a].[Title]
FROM [AppUsers] AS [a]
WHERE [a].[IsSuperAdmin] = CAST(1 AS bit)" (0723d8ff)
2024-04-26T09:28:57.4276578+01:00  [INF] User profile is available. Using '"C:\Users\HP\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest. (7ac5e29c)
2024-04-26T09:28:57.4932476+01:00  [ERR] Message => One or more errors occurred. (Unable to track an entity of type 'AppUser' because its primary key property 'Id' is null.)|Stacktrace =>    at System.Threading.Tasks.Task`1.GetResultCore(Boolean waitCompletionNotification)
   at System.Threading.Tasks.Task`1.get_Result()
   at ErrandPayApp.Infrastructure.Configuration.DatabaseConfiguration.InitializeSupperUser(IServiceScope scope) in C:\Users\HP\source\repos\ErrandPayApp.API\ErrandPayApp.Infrastructure\Configuration\DatabaseConfiguration.cs:line 87|InnerException => System.InvalidOperationException: Unable to track an entity of type 'AppUser' because its primary key property 'Id' is null.
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.NullableKeyIdentityMap`1.Add(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.StartTracking(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState oldState, EntityState newState, Boolean acceptChanges, Boolean modifyProperties)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState entityState, Boolean acceptChanges, Boolean modifyProperties, Nullable`1 forceStateWhenUnknownKey)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.PaintAction(EntityEntryGraphNode`1 node)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityEntryGraphIterator.TraverseGraph[TState](EntityEntryGraphNode`1 node, Func`2 handleNode)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.AttachGraph(InternalEntityEntry rootEntry, EntityState targetState, EntityState storeGeneratedWithKeySetTargetState, Boolean forceStateWhenUnknownKey)
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.SetEntityState(InternalEntityEntry entry, EntityState entityState)
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.Add(TEntity entity)
   at ErrandPayApp.Data.Repositories.UserRepository.CreateDefaultUser() in C:\Users\HP\source\repos\ErrandPayApp.API\ErrandPayApp.Data\Repositories\UserRepository.cs:line 309 (c772a506)
System.AggregateException: One or more errors occurred. (Unable to track an entity of type 'AppUser' because its primary key property 'Id' is null.)
 ---> System.InvalidOperationException: Unable to track an entity of type 'AppUser' because its primary key property 'Id' is null.
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.NullableKeyIdentityMap`1.Add(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.StartTracking(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState oldState, EntityState newState, Boolean acceptChanges, Boolean modifyProperties)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState entityState, Boolean acceptChanges, Boolean modifyProperties, Nullable`1 forceStateWhenUnknownKey)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.PaintAction(EntityEntryGraphNode`1 node)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityEntryGraphIterator.TraverseGraph[TState](EntityEntryGraphNode`1 node, Func`2 handleNode)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.AttachGraph(InternalEntityEntry rootEntry, EntityState targetState, EntityState storeGeneratedWithKeySetTargetState, Boolean forceStateWhenUnknownKey)
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.SetEntityState(InternalEntityEntry entry, EntityState entityState)
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.Add(TEntity entity)
   at ErrandPayApp.Data.Repositories.UserRepository.CreateDefaultUser() in C:\Users\HP\source\repos\ErrandPayApp.API\ErrandPayApp.Data\Repositories\UserRepository.cs:line 309
   --- End of inner exception stack trace ---
   at System.Threading.Tasks.Task`1.GetResultCore(Boolean waitCompletionNotification)
   at System.Threading.Tasks.Task`1.get_Result()
   at ErrandPayApp.Infrastructure.Configuration.DatabaseConfiguration.InitializeSupperUser(IServiceScope scope) in C:\Users\HP\source\repos\ErrandPayApp.API\ErrandPayApp.Infrastructure\Configuration\DatabaseConfiguration.cs:line 87
2024-04-26T09:28:57.8025078+01:00  [INF] Application started. Press Ctrl+C to shut down. (dcaefe54)
2024-04-26T09:28:57.8087303+01:00  [INF] Hosting environment: "Development" (c3307c92)
2024-04-26T09:28:57.8170651+01:00  [INF] Content root path: "C:\Users\HP\source\repos\ErrandPayApp.API\ErrandPayApp.API" (b5d60022)
2024-04-26T09:28:57.8959986+01:00 80000023-0005-fc00-b63f-84710c7967bb [INF] Request starting HTTP/2 GET https://localhost:44331/swagger/index.html - - (ca22a1cb)
2024-04-26T09:29:07.9916087+01:00 80000023-0005-fc00-b63f-84710c7967bb [ERR] Connection ID ""18158513720643289122"", Request ID ""80000023-0005-fc00-b63f-84710c7967bb"": An unhandled exception was thrown by the application. (bf316047)
System.IO.FileNotFoundException: Could not find file 'C:\Users\HP\source\repos\ErrandPayApp.API\ErrandPayApp.API\bin\Debug\net5.0\ErrandPayApp.API.xml'.
File name: 'C:\Users\HP\source\repos\ErrandPayApp.API\ErrandPayApp.API\bin\Debug\net5.0\ErrandPayApp.API.xml'
   at System.IO.FileStream.ValidateFileHandle(SafeFileHandle fileHandle)
   at System.IO.FileStream.CreateFileOpenHandle(FileMode mode, FileShare share, FileOptions options)
   at System.IO.FileStream..ctor(String path, FileMode mode, FileAccess access, FileShare share, Int32 bufferSize, FileOptions options)
   at System.IO.FileStream..ctor(String path, FileMode mode, FileAccess access, FileShare share, Int32 bufferSize)
   at System.Xml.XmlDownloadManager.GetStream(Uri uri, ICredentials credentials, IWebProxy proxy)
   at System.Xml.XmlUrlResolver.GetEntity(Uri absoluteUri, String role, Type ofObjectToReturn)
   at System.Xml.XmlTextReaderImpl.OpenUrl()
   at System.Xml.XmlTextReaderImpl.Read()
   at System.Xml.XPath.XPathDocument.LoadFromReader(XmlReader reader, XmlSpace space)
   at System.Xml.XPath.XPathDocument..ctor(String uri, XmlSpace space)
   at System.Xml.XPath.XPathDocument..ctor(String uri)
   at Microsoft.Extensions.DependencyInjection.SwaggerGenOptionsExtensions.<>c__DisplayClass29_0.<IncludeXmlComments>b__0()
   at Microsoft.Extensions.DependencyInjection.SwaggerGenOptionsExtensions.IncludeXmlComments(SwaggerGenOptions swaggerGenOptions, Func`1 xmlDocFactory, Boolean includeControllerXmlComments)
   at Microsoft.Extensions.DependencyInjection.SwaggerGenOptionsExtensions.IncludeXmlComments(SwaggerGenOptions swaggerGenOptions, String filePath, Boolean includeControllerXmlComments)
   at ErrandPayApp.API.Configurations.CustomConfiguration.<>c.<AddDocumentationConfiguration>b__1_0(SwaggerGenOptions c) in C:\Users\HP\source\repos\ErrandPayApp.API\ErrandPayApp.API\Configurations\CustomConfiguration.cs:line 136
   at Microsoft.Extensions.Options.ConfigureNamedOptions`1.Configure(String name, TOptions options)
   at Microsoft.Extensions.Options.OptionsFactory`1.Create(String name)
   at Microsoft.Extensions.Options.OptionsManager`1.<>c__DisplayClass5_0.<Get>b__0()
   at System.Lazy`1.ViaFactory(LazyThreadSafetyMode mode)
   at System.Lazy`1.ExecutionAndPublication(LazyHelper executionAndPublication, Boolean useDefaultConstructor)
   at System.Lazy`1.CreateValue()
   at System.Lazy`1.get_Value()
   at Microsoft.Extensions.Options.OptionsCache`1.GetOrAdd(String name, Func`1 createOptions)
   at Microsoft.Extensions.Options.OptionsManager`1.Get(String name)
   at Microsoft.Extensions.Options.OptionsManager`1.get_Value()
   at Swashbuckle.AspNetCore.SwaggerGen.ConfigureSwaggerGeneratorOptions..ctor(IOptions`1 swaggerGenOptionsAccessor, IServiceProvider serviceProvider, IWebHostEnvironment hostingEnvironment)
   at System.RuntimeMethodHandle.InvokeMethod(Object target, Object[] arguments, Signature sig, Boolean constructor, Boolean wrapExceptions)
   at System.Reflection.RuntimeConstructorInfo.Invoke(BindingFlags invokeAttr, Binder binder, Object[] parameters, CultureInfo culture)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitDisposeCache(ServiceCallSite transientCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitIEnumerable(IEnumerableCallSite enumerableCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitNoCache(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitDisposeCache(ServiceCallSite transientCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite singletonCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.DynamicServiceProviderEngine.<>c__DisplayClass1_0.<RealizeService>b__0(ServiceProviderEngineScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngine.GetService(Type serviceType, ServiceProviderEngineScope serviceProviderEngineScope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.GetService(Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService(IServiceProvider provider, Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService[T](IServiceProvider provider)
   at Microsoft.Extensions.DependencyInjection.SwaggerGenServiceCollectionExtensions.<>c.<AddSwaggerGen>b__0_1(IServiceProvider s)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitFactory(FactoryCallSite factoryCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitDisposeCache(ServiceCallSite transientCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitDisposeCache(ServiceCallSite transientCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.DynamicServiceProviderEngine.<>c__DisplayClass1_0.<RealizeService>b__0(ServiceProviderEngineScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngine.GetService(Type serviceType, ServiceProviderEngineScope serviceProviderEngineScope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.GetService(Type serviceType)
   at Microsoft.AspNetCore.Builder.UseMiddlewareExtensions.GetService(IServiceProvider sp, Type type, Type middleware)
   at lambda_method27(Closure , Object , HttpContext , IServiceProvider )
   at Microsoft.AspNetCore.Builder.UseMiddlewareExtensions.<>c__DisplayClass5_1.<UseMiddleware>b__2(HttpContext context)
   at Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware.TryServeStaticFile(HttpContext context, String contentType, PathString subPath)
   at Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware.Invoke(HttpContext context, ICorsPolicyProvider corsPolicyProvider)
   at Microsoft.AspNetCore.Builder.UseMiddlewareExtensions.<>c__DisplayClass5_1.<UseMiddleware>b__2(HttpContext context)
   at Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware.Invoke(HttpContext context)
   at Microsoft.WebTools.BrowserLink.Net.BrowserLinkMiddleware.InvokeAsync(HttpContext context)
   at Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware.InvokeAsync(HttpContext context)
   at Microsoft.AspNetCore.Builder.Extensions.MapWhenMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContextOfT`1.ProcessRequestAsync()
2024-04-26T09:29:08.0275802+01:00 80000023-0005-fc00-b63f-84710c7967bb [INF] Request finished HTTP/2 GET https://localhost:44331/swagger/index.html - - - 500 - - 10134.3826ms (791a596a)
2024-04-26T09:29:11.9687114+01:00 8000001b-0007-ff00-b63f-84710c7967bb [INF] Request starting HTTP/2 GET https://localhost:44331/index.html - - (ca22a1cb)
2024-04-26T09:29:12.0037337+01:00 8000001b-0007-ff00-b63f-84710c7967bb [ERR] Connection ID ""18374686511347007514"", Request ID ""8000001b-0007-ff00-b63f-84710c7967bb"": An unhandled exception was thrown by the application. (bf316047)
System.IO.FileNotFoundException: Could not find file 'C:\Users\HP\source\repos\ErrandPayApp.API\ErrandPayApp.API\bin\Debug\net5.0\ErrandPayApp.API.xml'.
File name: 'C:\Users\HP\source\repos\ErrandPayApp.API\ErrandPayApp.API\bin\Debug\net5.0\ErrandPayApp.API.xml'
   at System.IO.FileStream.ValidateFileHandle(SafeFileHandle fileHandle)
   at System.IO.FileStream.CreateFileOpenHandle(FileMode mode, FileShare share, FileOptions options)
   at System.IO.FileStream..ctor(String path, FileMode mode, FileAccess access, FileShare share, Int32 bufferSize, FileOptions options)
   at System.IO.FileStream..ctor(String path, FileMode mode, FileAccess access, FileShare share, Int32 bufferSize)
   at System.Xml.XmlDownloadManager.GetStream(Uri uri, ICredentials credentials, IWebProxy proxy)
   at System.Xml.XmlUrlResolver.GetEntity(Uri absoluteUri, String role, Type ofObjectToReturn)
   at System.Xml.XmlTextReaderImpl.OpenUrl()
   at System.Xml.XmlTextReaderImpl.Read()
   at System.Xml.XPath.XPathDocument.LoadFromReader(XmlReader reader, XmlSpace space)
   at System.Xml.XPath.XPathDocument..ctor(String uri, XmlSpace space)
   at System.Xml.XPath.XPathDocument..ctor(String uri)
   at Microsoft.Extensions.DependencyInjection.SwaggerGenOptionsExtensions.<>c__DisplayClass29_0.<IncludeXmlComments>b__0()
   at Microsoft.Extensions.DependencyInjection.SwaggerGenOptionsExtensions.IncludeXmlComments(SwaggerGenOptions swaggerGenOptions, Func`1 xmlDocFactory, Boolean includeControllerXmlComments)
   at Microsoft.Extensions.DependencyInjection.SwaggerGenOptionsExtensions.IncludeXmlComments(SwaggerGenOptions swaggerGenOptions, String filePath, Boolean includeControllerXmlComments)
   at ErrandPayApp.API.Configurations.CustomConfiguration.<>c.<AddDocumentationConfiguration>b__1_0(SwaggerGenOptions c) in C:\Users\HP\source\repos\ErrandPayApp.API\ErrandPayApp.API\Configurations\CustomConfiguration.cs:line 136
   at Microsoft.Extensions.Options.ConfigureNamedOptions`1.Configure(String name, TOptions options)
   at Microsoft.Extensions.Options.OptionsFactory`1.Create(String name)
   at Microsoft.Extensions.Options.OptionsManager`1.<>c__DisplayClass5_0.<Get>b__0()
   at System.Lazy`1.ViaFactory(LazyThreadSafetyMode mode)
--- End of stack trace from previous location ---
   at System.Lazy`1.CreateValue()
   at System.Lazy`1.get_Value()
   at Microsoft.Extensions.Options.OptionsCache`1.GetOrAdd(String name, Func`1 createOptions)
   at Microsoft.Extensions.Options.OptionsManager`1.Get(String name)
   at Microsoft.Extensions.Options.OptionsManager`1.get_Value()
   at Swashbuckle.AspNetCore.SwaggerGen.ConfigureSwaggerGeneratorOptions..ctor(IOptions`1 swaggerGenOptionsAccessor, IServiceProvider serviceProvider, IWebHostEnvironment hostingEnvironment)
   at System.RuntimeMethodHandle.InvokeMethod(Object target, Object[] arguments, Signature sig, Boolean constructor, Boolean wrapExceptions)
   at System.Reflection.RuntimeConstructorInfo.Invoke(BindingFlags invokeAttr, Binder binder, Object[] parameters, CultureInfo culture)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitDisposeCache(ServiceCallSite transientCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitIEnumerable(IEnumerableCallSite enumerableCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitNoCache(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitDisposeCache(ServiceCallSite transientCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite singletonCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.DynamicServiceProviderEngine.<>c__DisplayClass1_0.<RealizeService>b__0(ServiceProviderEngineScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngine.GetService(Type serviceType, ServiceProviderEngineScope serviceProviderEngineScope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.GetService(Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService(IServiceProvider provider, Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService[T](IServiceProvider provider)
   at Microsoft.Extensions.DependencyInjection.SwaggerGenServiceCollectionExtensions.<>c.<AddSwaggerGen>b__0_1(IServiceProvider s)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitFactory(FactoryCallSite factoryCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitDisposeCache(ServiceCallSite transientCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitDisposeCache(ServiceCallSite transientCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.DynamicServiceProviderEngine.<>c__DisplayClass1_0.<RealizeService>b__0(ServiceProviderEngineScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngine.GetService(Type serviceType, ServiceProviderEngineScope serviceProviderEngineScope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.GetService(Type serviceType)
   at Microsoft.AspNetCore.Builder.UseMiddlewareExtensions.GetService(IServiceProvider sp, Type type, Type middleware)
   at lambda_method27(Closure , Object , HttpContext , IServiceProvider )
   at Microsoft.AspNetCore.Builder.UseMiddlewareExtensions.<>c__DisplayClass5_1.<UseMiddleware>b__2(HttpContext context)
   at Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware.TryServeStaticFile(HttpContext context, String contentType, PathString subPath)
   at Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware.Invoke(HttpContext context, ICorsPolicyProvider corsPolicyProvider)
   at Microsoft.AspNetCore.Builder.UseMiddlewareExtensions.<>c__DisplayClass5_1.<UseMiddleware>b__2(HttpContext context)
   at Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware.Invoke(HttpContext context)
   at Microsoft.WebTools.BrowserLink.Net.BrowserLinkMiddleware.InvokeAsync(HttpContext context)
   at Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware.InvokeAsync(HttpContext context)
   at Microsoft.AspNetCore.Builder.Extensions.MapWhenMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContextOfT`1.ProcessRequestAsync()
2024-04-26T09:29:12.0060374+01:00 8000001b-0007-ff00-b63f-84710c7967bb [INF] Request finished HTTP/2 GET https://localhost:44331/index.html - - - 500 - - 36.9189ms (791a596a)
2024-04-26T09:29:12.8205817+01:00 80000058-0000-ff00-b63f-84710c7967bb [INF] Request starting HTTP/2 GET https://localhost:44331/index.html - - (ca22a1cb)
2024-04-26T09:29:12.8407040+01:00 80000058-0000-ff00-b63f-84710c7967bb [ERR] Connection ID ""18374686481282236503"", Request ID ""80000058-0000-ff00-b63f-84710c7967bb"": An unhandled exception was thrown by the application. (bf316047)
System.IO.FileNotFoundException: Could not find file 'C:\Users\HP\source\repos\ErrandPayApp.API\ErrandPayApp.API\bin\Debug\net5.0\ErrandPayApp.API.xml'.
File name: 'C:\Users\HP\source\repos\ErrandPayApp.API\ErrandPayApp.API\bin\Debug\net5.0\ErrandPayApp.API.xml'
   at System.IO.FileStream.ValidateFileHandle(SafeFileHandle fileHandle)
   at System.IO.FileStream.CreateFileOpenHandle(FileMode mode, FileShare share, FileOptions options)
   at System.IO.FileStream..ctor(String path, FileMode mode, FileAccess access, FileShare share, Int32 bufferSize, FileOptions options)
   at System.IO.FileStream..ctor(String path, FileMode mode, FileAccess access, FileShare share, Int32 bufferSize)
   at System.Xml.XmlDownloadManager.GetStream(Uri uri, ICredentials credentials, IWebProxy proxy)
   at System.Xml.XmlUrlResolver.GetEntity(Uri absoluteUri, String role, Type ofObjectToReturn)
   at System.Xml.XmlTextReaderImpl.OpenUrl()
   at System.Xml.XmlTextReaderImpl.Read()
   at System.Xml.XPath.XPathDocument.LoadFromReader(XmlReader reader, XmlSpace space)
   at System.Xml.XPath.XPathDocument..ctor(String uri, XmlSpace space)
   at System.Xml.XPath.XPathDocument..ctor(String uri)
   at Microsoft.Extensions.DependencyInjection.SwaggerGenOptionsExtensions.<>c__DisplayClass29_0.<IncludeXmlComments>b__0()
   at Microsoft.Extensions.DependencyInjection.SwaggerGenOptionsExtensions.IncludeXmlComments(SwaggerGenOptions swaggerGenOptions, Func`1 xmlDocFactory, Boolean includeControllerXmlComments)
   at Microsoft.Extensions.DependencyInjection.SwaggerGenOptionsExtensions.IncludeXmlComments(SwaggerGenOptions swaggerGenOptions, String filePath, Boolean includeControllerXmlComments)
   at ErrandPayApp.API.Configurations.CustomConfiguration.<>c.<AddDocumentationConfiguration>b__1_0(SwaggerGenOptions c) in C:\Users\HP\source\repos\ErrandPayApp.API\ErrandPayApp.API\Configurations\CustomConfiguration.cs:line 136
   at Microsoft.Extensions.Options.ConfigureNamedOptions`1.Configure(String name, TOptions options)
   at Microsoft.Extensions.Options.OptionsFactory`1.Create(String name)
   at Microsoft.Extensions.Options.OptionsManager`1.<>c__DisplayClass5_0.<Get>b__0()
   at System.Lazy`1.ViaFactory(LazyThreadSafetyMode mode)
--- End of stack trace from previous location ---
   at System.Lazy`1.CreateValue()
   at System.Lazy`1.get_Value()
   at Microsoft.Extensions.Options.OptionsCache`1.GetOrAdd(String name, Func`1 createOptions)
   at Microsoft.Extensions.Options.OptionsManager`1.Get(String name)
   at Microsoft.Extensions.Options.OptionsManager`1.get_Value()
   at Swashbuckle.AspNetCore.SwaggerGen.ConfigureSwaggerGeneratorOptions..ctor(IOptions`1 swaggerGenOptionsAccessor, IServiceProvider serviceProvider, IWebHostEnvironment hostingEnvironment)
   at System.RuntimeMethodHandle.InvokeMethod(Object target, Object[] arguments, Signature sig, Boolean constructor, Boolean wrapExceptions)
   at System.Reflection.RuntimeConstructorInfo.Invoke(BindingFlags invokeAttr, Binder binder, Object[] parameters, CultureInfo culture)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitDisposeCache(ServiceCallSite transientCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitIEnumerable(IEnumerableCallSite enumerableCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitNoCache(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitDisposeCache(ServiceCallSite transientCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite singletonCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.DynamicServiceProviderEngine.<>c__DisplayClass1_0.<RealizeService>b__0(ServiceProviderEngineScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngine.GetService(Type serviceType, ServiceProviderEngineScope serviceProviderEngineScope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.GetService(Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService(IServiceProvider provider, Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService[T](IServiceProvider provider)
   at Microsoft.Extensions.DependencyInjection.SwaggerGenServiceCollectionExtensions.<>c.<AddSwaggerGen>b__0_1(IServiceProvider s)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitFactory(FactoryCallSite factoryCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitDisposeCache(ServiceCallSite transientCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitDisposeCache(ServiceCallSite transientCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.DynamicServiceProviderEngine.<>c__DisplayClass1_0.<RealizeService>b__0(ServiceProviderEngineScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngine.GetService(Type serviceType, ServiceProviderEngineScope serviceProviderEngineScope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.GetService(Type serviceType)
   at Microsoft.AspNetCore.Builder.UseMiddlewareExtensions.GetService(IServiceProvider sp, Type type, Type middleware)
   at lambda_method27(Closure , Object , HttpContext , IServiceProvider )
   at Microsoft.AspNetCore.Builder.UseMiddlewareExtensions.<>c__DisplayClass5_1.<UseMiddleware>b__2(HttpContext context)
   at Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware.TryServeStaticFile(HttpContext context, String contentType, PathString subPath)
   at Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware.Invoke(HttpContext context, ICorsPolicyProvider corsPolicyProvider)
   at Microsoft.AspNetCore.Builder.UseMiddlewareExtensions.<>c__DisplayClass5_1.<UseMiddleware>b__2(HttpContext context)
   at Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware.Invoke(HttpContext context)
   at Microsoft.WebTools.BrowserLink.Net.BrowserLinkMiddleware.InvokeAsync(HttpContext context)
   at Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware.InvokeAsync(HttpContext context)
   at Microsoft.AspNetCore.Builder.Extensions.MapWhenMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContextOfT`1.ProcessRequestAsync()
2024-04-26T09:29:12.8417714+01:00 80000058-0000-ff00-b63f-84710c7967bb [INF] Request finished HTTP/2 GET https://localhost:44331/index.html - - - 500 - - 21.1386ms (791a596a)
2024-04-26T09:29:15.3513417+01:00 8000005a-0000-ff00-b63f-84710c7967bb [INF] Request starting HTTP/2 GET https://localhost:44331/index.html - - (ca22a1cb)
2024-04-26T09:29:15.3727707+01:00 8000005a-0000-ff00-b63f-84710c7967bb [ERR] Connection ID ""18374686481282236505"", Request ID ""8000005a-0000-ff00-b63f-84710c7967bb"": An unhandled exception was thrown by the application. (bf316047)
System.IO.FileNotFoundException: Could not find file 'C:\Users\HP\source\repos\ErrandPayApp.API\ErrandPayApp.API\bin\Debug\net5.0\ErrandPayApp.API.xml'.
File name: 'C:\Users\HP\source\repos\ErrandPayApp.API\ErrandPayApp.API\bin\Debug\net5.0\ErrandPayApp.API.xml'
   at System.IO.FileStream.ValidateFileHandle(SafeFileHandle fileHandle)
   at System.IO.FileStream.CreateFileOpenHandle(FileMode mode, FileShare share, FileOptions options)
   at System.IO.FileStream..ctor(String path, FileMode mode, FileAccess access, FileShare share, Int32 bufferSize, FileOptions options)
   at System.IO.FileStream..ctor(String path, FileMode mode, FileAccess access, FileShare share, Int32 bufferSize)
   at System.Xml.XmlDownloadManager.GetStream(Uri uri, ICredentials credentials, IWebProxy proxy)
   at System.Xml.XmlUrlResolver.GetEntity(Uri absoluteUri, String role, Type ofObjectToReturn)
   at System.Xml.XmlTextReaderImpl.OpenUrl()
   at System.Xml.XmlTextReaderImpl.Read()
   at System.Xml.XPath.XPathDocument.LoadFromReader(XmlReader reader, XmlSpace space)
   at System.Xml.XPath.XPathDocument..ctor(String uri, XmlSpace space)
   at System.Xml.XPath.XPathDocument..ctor(String uri)
   at Microsoft.Extensions.DependencyInjection.SwaggerGenOptionsExtensions.<>c__DisplayClass29_0.<IncludeXmlComments>b__0()
   at Microsoft.Extensions.DependencyInjection.SwaggerGenOptionsExtensions.IncludeXmlComments(SwaggerGenOptions swaggerGenOptions, Func`1 xmlDocFactory, Boolean includeControllerXmlComments)
   at Microsoft.Extensions.DependencyInjection.SwaggerGenOptionsExtensions.IncludeXmlComments(SwaggerGenOptions swaggerGenOptions, String filePath, Boolean includeControllerXmlComments)
   at ErrandPayApp.API.Configurations.CustomConfiguration.<>c.<AddDocumentationConfiguration>b__1_0(SwaggerGenOptions c) in C:\Users\HP\source\repos\ErrandPayApp.API\ErrandPayApp.API\Configurations\CustomConfiguration.cs:line 136
   at Microsoft.Extensions.Options.ConfigureNamedOptions`1.Configure(String name, TOptions options)
   at Microsoft.Extensions.Options.OptionsFactory`1.Create(String name)
   at Microsoft.Extensions.Options.OptionsManager`1.<>c__DisplayClass5_0.<Get>b__0()
   at System.Lazy`1.ViaFactory(LazyThreadSafetyMode mode)
--- End of stack trace from previous location ---
   at System.Lazy`1.CreateValue()
   at System.Lazy`1.get_Value()
   at Microsoft.Extensions.Options.OptionsCache`1.GetOrAdd(String name, Func`1 createOptions)
   at Microsoft.Extensions.Options.OptionsManager`1.Get(String name)
   at Microsoft.Extensions.Options.OptionsManager`1.get_Value()
   at Swashbuckle.AspNetCore.SwaggerGen.ConfigureSwaggerGeneratorOptions..ctor(IOptions`1 swaggerGenOptionsAccessor, IServiceProvider serviceProvider, IWebHostEnvironment hostingEnvironment)
   at System.RuntimeMethodHandle.InvokeMethod(Object target, Object[] arguments, Signature sig, Boolean constructor, Boolean wrapExceptions)
   at System.Reflection.RuntimeConstructorInfo.Invoke(BindingFlags invokeAttr, Binder binder, Object[] parameters, CultureInfo culture)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitDisposeCache(ServiceCallSite transientCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitIEnumerable(IEnumerableCallSite enumerableCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitNoCache(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitDisposeCache(ServiceCallSite transientCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite singletonCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.DynamicServiceProviderEngine.<>c__DisplayClass1_0.<RealizeService>b__0(ServiceProviderEngineScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngine.GetService(Type serviceType, ServiceProviderEngineScope serviceProviderEngineScope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.GetService(Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService(IServiceProvider provider, Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService[T](IServiceProvider provider)
   at Microsoft.Extensions.DependencyInjection.SwaggerGenServiceCollectionExtensions.<>c.<AddSwaggerGen>b__0_1(IServiceProvider s)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitFactory(FactoryCallSite factoryCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitDisposeCache(ServiceCallSite transientCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitDisposeCache(ServiceCallSite transientCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.DynamicServiceProviderEngine.<>c__DisplayClass1_0.<RealizeService>b__0(ServiceProviderEngineScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngine.GetService(Type serviceType, ServiceProviderEngineScope serviceProviderEngineScope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.GetService(Type serviceType)
   at Microsoft.AspNetCore.Builder.UseMiddlewareExtensions.GetService(IServiceProvider sp, Type type, Type middleware)
   at lambda_method27(Closure , Object , HttpContext , IServiceProvider )
   at Microsoft.AspNetCore.Builder.UseMiddlewareExtensions.<>c__DisplayClass5_1.<UseMiddleware>b__2(HttpContext context)
   at Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware.TryServeStaticFile(HttpContext context, String contentType, PathString subPath)
   at Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware.Invoke(HttpContext context, ICorsPolicyProvider corsPolicyProvider)
   at Microsoft.AspNetCore.Builder.UseMiddlewareExtensions.<>c__DisplayClass5_1.<UseMiddleware>b__2(HttpContext context)
   at Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware.Invoke(HttpContext context)
   at Microsoft.WebTools.BrowserLink.Net.BrowserLinkMiddleware.InvokeAsync(HttpContext context)
   at Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware.InvokeAsync(HttpContext context)
   at Microsoft.AspNetCore.Builder.Extensions.MapWhenMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContextOfT`1.ProcessRequestAsync()
2024-04-26T09:29:15.3749030+01:00 8000005a-0000-ff00-b63f-84710c7967bb [INF] Request finished HTTP/2 GET https://localhost:44331/index.html - - - 500 - - 23.0187ms (791a596a)
2024-04-26T09:29:30.7431816+01:00  [INF] Entity Framework Core "5.0.6" initialized '"APPContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MaxPoolSize=128 " (9958f5bb)
2024-04-26T09:29:31.3433290+01:00  [INF] Executed DbCommand ("34"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1" (0723d8ff)
2024-04-26T09:29:31.3786976+01:00  [INF] Executed DbCommand ("20"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT OBJECT_ID(N'[__EFMigrationsHistory]');" (0723d8ff)
2024-04-26T09:29:31.3843238+01:00  [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1" (0723d8ff)
2024-04-26T09:29:31.3853472+01:00  [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT OBJECT_ID(N'[__EFMigrationsHistory]');" (0723d8ff)
2024-04-26T09:29:31.4023783+01:00  [INF] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];" (0723d8ff)
2024-04-26T09:29:31.4247673+01:00  [INF] No migrations were applied. The database is already up to date. (503cba9d)
2024-04-26T09:29:31.7848014+01:00  [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [p].[PermissionName]
FROM [Permissions] AS [p]" (0723d8ff)
2024-04-26T09:29:31.9244590+01:00  [INF] Executed DbCommand ("27"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[Id], [a].[City], [a].[Country], [a].[CreatedBy], [a].[CreatedDate], [a].[DateAccountLocked], [a].[Email], [a].[EmailConfirmationDate], [a].[FirstName], [a].[IsActive], [a].[IsDeleted], [a].[IsEmailConfirmed], [a].[IsLockedOut], [a].[IsSuperAdmin], [a].[LastLogin], [a].[LockoutCounter], [a].[ModifiedBy], [a].[ModifiedDate], [a].[MustChangePassword], [a].[No], [a].[Password], [a].[PhoneNumber], [a].[Road], [a].[State], [a].[SurName], [a].[Telephone], [a].[Title]
FROM [AppUsers] AS [a]
WHERE [a].[IsSuperAdmin] = CAST(1 AS bit)" (0723d8ff)
2024-04-26T09:29:32.2610910+01:00  [INF] User profile is available. Using '"C:\Users\HP\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest. (7ac5e29c)
2024-04-26T09:29:32.3185641+01:00  [ERR] Message => One or more errors occurred. (Unable to track an entity of type 'AppUser' because its primary key property 'Id' is null.)|Stacktrace =>    at System.Threading.Tasks.Task`1.GetResultCore(Boolean waitCompletionNotification)
   at System.Threading.Tasks.Task`1.get_Result()
   at ErrandPayApp.Infrastructure.Configuration.DatabaseConfiguration.InitializeSupperUser(IServiceScope scope) in C:\Users\HP\source\repos\ErrandPayApp.API\ErrandPayApp.Infrastructure\Configuration\DatabaseConfiguration.cs:line 87|InnerException => System.InvalidOperationException: Unable to track an entity of type 'AppUser' because its primary key property 'Id' is null.
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.NullableKeyIdentityMap`1.Add(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.StartTracking(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState oldState, EntityState newState, Boolean acceptChanges, Boolean modifyProperties)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState entityState, Boolean acceptChanges, Boolean modifyProperties, Nullable`1 forceStateWhenUnknownKey)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.PaintAction(EntityEntryGraphNode`1 node)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityEntryGraphIterator.TraverseGraph[TState](EntityEntryGraphNode`1 node, Func`2 handleNode)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.AttachGraph(InternalEntityEntry rootEntry, EntityState targetState, EntityState storeGeneratedWithKeySetTargetState, Boolean forceStateWhenUnknownKey)
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.SetEntityState(InternalEntityEntry entry, EntityState entityState)
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.Add(TEntity entity)
   at ErrandPayApp.Data.Repositories.UserRepository.CreateDefaultUser() in C:\Users\HP\source\repos\ErrandPayApp.API\ErrandPayApp.Data\Repositories\UserRepository.cs:line 309 (c772a506)
System.AggregateException: One or more errors occurred. (Unable to track an entity of type 'AppUser' because its primary key property 'Id' is null.)
 ---> System.InvalidOperationException: Unable to track an entity of type 'AppUser' because its primary key property 'Id' is null.
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.NullableKeyIdentityMap`1.Add(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.StartTracking(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState oldState, EntityState newState, Boolean acceptChanges, Boolean modifyProperties)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState entityState, Boolean acceptChanges, Boolean modifyProperties, Nullable`1 forceStateWhenUnknownKey)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.PaintAction(EntityEntryGraphNode`1 node)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityEntryGraphIterator.TraverseGraph[TState](EntityEntryGraphNode`1 node, Func`2 handleNode)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.AttachGraph(InternalEntityEntry rootEntry, EntityState targetState, EntityState storeGeneratedWithKeySetTargetState, Boolean forceStateWhenUnknownKey)
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.SetEntityState(InternalEntityEntry entry, EntityState entityState)
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.Add(TEntity entity)
   at ErrandPayApp.Data.Repositories.UserRepository.CreateDefaultUser() in C:\Users\HP\source\repos\ErrandPayApp.API\ErrandPayApp.Data\Repositories\UserRepository.cs:line 309
   --- End of inner exception stack trace ---
   at System.Threading.Tasks.Task`1.GetResultCore(Boolean waitCompletionNotification)
   at System.Threading.Tasks.Task`1.get_Result()
   at ErrandPayApp.Infrastructure.Configuration.DatabaseConfiguration.InitializeSupperUser(IServiceScope scope) in C:\Users\HP\source\repos\ErrandPayApp.API\ErrandPayApp.Infrastructure\Configuration\DatabaseConfiguration.cs:line 87
2024-04-26T09:29:32.7009732+01:00  [INF] Application started. Press Ctrl+C to shut down. (dcaefe54)
2024-04-26T09:29:32.7049345+01:00  [INF] Hosting environment: "Development" (c3307c92)
2024-04-26T09:29:32.7119544+01:00  [INF] Content root path: "C:\Users\HP\source\repos\ErrandPayApp.API\ErrandPayApp.API" (b5d60022)
2024-04-26T09:29:32.8002261+01:00 80000016-0006-f900-b63f-84710c7967bb [INF] Request starting HTTP/2 GET https://localhost:44331/swagger/index.html - - (ca22a1cb)
2024-04-26T09:29:54.9060008+01:00  [INF] Entity Framework Core "5.0.6" initialized '"APPContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MaxPoolSize=128 " (9958f5bb)
2024-04-26T09:29:55.7600381+01:00  [INF] Executed DbCommand ("62"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1" (0723d8ff)
2024-04-26T09:29:55.8516986+01:00  [INF] Executed DbCommand ("51"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT OBJECT_ID(N'[__EFMigrationsHistory]');" (0723d8ff)
2024-04-26T09:29:55.8587802+01:00  [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1" (0723d8ff)
2024-04-26T09:29:55.8595812+01:00  [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT OBJECT_ID(N'[__EFMigrationsHistory]');" (0723d8ff)
2024-04-26T09:29:55.8984039+01:00  [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];" (0723d8ff)
2024-04-26T09:29:55.9293441+01:00  [INF] No migrations were applied. The database is already up to date. (503cba9d)
2024-04-26T09:29:56.3593236+01:00  [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [p].[PermissionName]
FROM [Permissions] AS [p]" (0723d8ff)
2024-04-26T09:29:56.5388529+01:00  [INF] Executed DbCommand ("40"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[Id], [a].[City], [a].[Country], [a].[CreatedBy], [a].[CreatedDate], [a].[DateAccountLocked], [a].[Email], [a].[EmailConfirmationDate], [a].[FirstName], [a].[IsActive], [a].[IsDeleted], [a].[IsEmailConfirmed], [a].[IsLockedOut], [a].[IsSuperAdmin], [a].[LastLogin], [a].[LockoutCounter], [a].[ModifiedBy], [a].[ModifiedDate], [a].[MustChangePassword], [a].[No], [a].[Password], [a].[PhoneNumber], [a].[Road], [a].[State], [a].[SurName], [a].[Telephone], [a].[Title]
FROM [AppUsers] AS [a]
WHERE [a].[IsSuperAdmin] = CAST(1 AS bit)" (0723d8ff)
2024-04-26T09:29:56.9670861+01:00  [INF] User profile is available. Using '"C:\Users\HP\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest. (7ac5e29c)
2024-04-26T09:29:57.0174941+01:00  [ERR] Message => One or more errors occurred. (Unable to track an entity of type 'AppUser' because its primary key property 'Id' is null.)|Stacktrace =>    at System.Threading.Tasks.Task`1.GetResultCore(Boolean waitCompletionNotification)
   at System.Threading.Tasks.Task`1.get_Result()
   at ErrandPayApp.Infrastructure.Configuration.DatabaseConfiguration.InitializeSupperUser(IServiceScope scope) in C:\Users\HP\source\repos\ErrandPayApp.API\ErrandPayApp.Infrastructure\Configuration\DatabaseConfiguration.cs:line 87|InnerException => System.InvalidOperationException: Unable to track an entity of type 'AppUser' because its primary key property 'Id' is null.
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.NullableKeyIdentityMap`1.Add(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.StartTracking(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState oldState, EntityState newState, Boolean acceptChanges, Boolean modifyProperties)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState entityState, Boolean acceptChanges, Boolean modifyProperties, Nullable`1 forceStateWhenUnknownKey)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.PaintAction(EntityEntryGraphNode`1 node)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityEntryGraphIterator.TraverseGraph[TState](EntityEntryGraphNode`1 node, Func`2 handleNode)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.AttachGraph(InternalEntityEntry rootEntry, EntityState targetState, EntityState storeGeneratedWithKeySetTargetState, Boolean forceStateWhenUnknownKey)
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.SetEntityState(InternalEntityEntry entry, EntityState entityState)
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.Add(TEntity entity)
   at ErrandPayApp.Data.Repositories.UserRepository.CreateDefaultUser() in C:\Users\HP\source\repos\ErrandPayApp.API\ErrandPayApp.Data\Repositories\UserRepository.cs:line 309 (c772a506)
System.AggregateException: One or more errors occurred. (Unable to track an entity of type 'AppUser' because its primary key property 'Id' is null.)
 ---> System.InvalidOperationException: Unable to track an entity of type 'AppUser' because its primary key property 'Id' is null.
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.NullableKeyIdentityMap`1.Add(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.StartTracking(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState oldState, EntityState newState, Boolean acceptChanges, Boolean modifyProperties)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState entityState, Boolean acceptChanges, Boolean modifyProperties, Nullable`1 forceStateWhenUnknownKey)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.PaintAction(EntityEntryGraphNode`1 node)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityEntryGraphIterator.TraverseGraph[TState](EntityEntryGraphNode`1 node, Func`2 handleNode)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.AttachGraph(InternalEntityEntry rootEntry, EntityState targetState, EntityState storeGeneratedWithKeySetTargetState, Boolean forceStateWhenUnknownKey)
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.SetEntityState(InternalEntityEntry entry, EntityState entityState)
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.Add(TEntity entity)
   at ErrandPayApp.Data.Repositories.UserRepository.CreateDefaultUser() in C:\Users\HP\source\repos\ErrandPayApp.API\ErrandPayApp.Data\Repositories\UserRepository.cs:line 309
   --- End of inner exception stack trace ---
   at System.Threading.Tasks.Task`1.GetResultCore(Boolean waitCompletionNotification)
   at System.Threading.Tasks.Task`1.get_Result()
   at ErrandPayApp.Infrastructure.Configuration.DatabaseConfiguration.InitializeSupperUser(IServiceScope scope) in C:\Users\HP\source\repos\ErrandPayApp.API\ErrandPayApp.Infrastructure\Configuration\DatabaseConfiguration.cs:line 87
2024-04-26T09:29:57.2973223+01:00  [INF] Application started. Press Ctrl+C to shut down. (dcaefe54)
2024-04-26T09:29:57.3006127+01:00  [INF] Hosting environment: "Development" (c3307c92)
2024-04-26T09:29:57.3033608+01:00  [INF] Content root path: "C:\Users\HP\source\repos\ErrandPayApp.API\ErrandPayApp.API" (b5d60022)
2024-04-26T09:29:57.3733706+01:00 80000004-0005-fa00-b63f-84710c7967bb [INF] Request starting HTTP/2 GET https://localhost:44331/swagger/index.html - - (ca22a1cb)
2024-04-26T09:33:58.3152934+01:00  [INF] Entity Framework Core "5.0.6" initialized '"APPContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MaxPoolSize=128 " (9958f5bb)
2024-04-26T09:33:59.2867134+01:00  [INF] Executed DbCommand ("61"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1" (0723d8ff)
2024-04-26T09:33:59.3450809+01:00  [INF] Executed DbCommand ("35"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT OBJECT_ID(N'[__EFMigrationsHistory]');" (0723d8ff)
2024-04-26T09:33:59.3539956+01:00  [INF] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1" (0723d8ff)
2024-04-26T09:33:59.3547136+01:00  [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT OBJECT_ID(N'[__EFMigrationsHistory]');" (0723d8ff)
2024-04-26T09:33:59.3999440+01:00  [INF] Executed DbCommand ("22"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];" (0723d8ff)
2024-04-26T09:33:59.4347999+01:00  [INF] No migrations were applied. The database is already up to date. (503cba9d)
2024-04-26T09:34:00.2550002+01:00  [INF] Executed DbCommand ("9"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [p].[PermissionName]
FROM [Permissions] AS [p]" (0723d8ff)
2024-04-26T09:34:00.4533142+01:00  [INF] Executed DbCommand ("43"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[Id], [a].[City], [a].[Country], [a].[CreatedBy], [a].[CreatedDate], [a].[DateAccountLocked], [a].[Email], [a].[EmailConfirmationDate], [a].[FirstName], [a].[IsActive], [a].[IsDeleted], [a].[IsEmailConfirmed], [a].[IsLockedOut], [a].[IsSuperAdmin], [a].[LastLogin], [a].[LockoutCounter], [a].[ModifiedBy], [a].[ModifiedDate], [a].[MustChangePassword], [a].[No], [a].[Password], [a].[PhoneNumber], [a].[Road], [a].[State], [a].[SurName], [a].[Telephone], [a].[Title]
FROM [AppUsers] AS [a]
WHERE [a].[IsSuperAdmin] = CAST(1 AS bit)" (0723d8ff)
2024-04-26T09:34:00.8789549+01:00  [INF] User profile is available. Using '"C:\Users\HP\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest. (7ac5e29c)
2024-04-26T09:34:00.9676620+01:00  [ERR] Message => One or more errors occurred. (Unable to track an entity of type 'AppUser' because its primary key property 'Id' is null.)|Stacktrace =>    at System.Threading.Tasks.Task`1.GetResultCore(Boolean waitCompletionNotification)
   at System.Threading.Tasks.Task`1.get_Result()
   at ErrandPayApp.Infrastructure.Configuration.DatabaseConfiguration.InitializeSupperUser(IServiceScope scope) in C:\Users\HP\source\repos\ErrandPayApp.API\ErrandPayApp.Infrastructure\Configuration\DatabaseConfiguration.cs:line 87|InnerException => System.InvalidOperationException: Unable to track an entity of type 'AppUser' because its primary key property 'Id' is null.
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.NullableKeyIdentityMap`1.Add(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.StartTracking(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState oldState, EntityState newState, Boolean acceptChanges, Boolean modifyProperties)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState entityState, Boolean acceptChanges, Boolean modifyProperties, Nullable`1 forceStateWhenUnknownKey)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.PaintAction(EntityEntryGraphNode`1 node)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityEntryGraphIterator.TraverseGraph[TState](EntityEntryGraphNode`1 node, Func`2 handleNode)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.AttachGraph(InternalEntityEntry rootEntry, EntityState targetState, EntityState storeGeneratedWithKeySetTargetState, Boolean forceStateWhenUnknownKey)
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.SetEntityState(InternalEntityEntry entry, EntityState entityState)
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.Add(TEntity entity)
   at ErrandPayApp.Data.Repositories.UserRepository.CreateDefaultUser() in C:\Users\HP\source\repos\ErrandPayApp.API\ErrandPayApp.Data\Repositories\UserRepository.cs:line 309 (c772a506)
System.AggregateException: One or more errors occurred. (Unable to track an entity of type 'AppUser' because its primary key property 'Id' is null.)
 ---> System.InvalidOperationException: Unable to track an entity of type 'AppUser' because its primary key property 'Id' is null.
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.NullableKeyIdentityMap`1.Add(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.StartTracking(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState oldState, EntityState newState, Boolean acceptChanges, Boolean modifyProperties)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState entityState, Boolean acceptChanges, Boolean modifyProperties, Nullable`1 forceStateWhenUnknownKey)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.PaintAction(EntityEntryGraphNode`1 node)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityEntryGraphIterator.TraverseGraph[TState](EntityEntryGraphNode`1 node, Func`2 handleNode)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.AttachGraph(InternalEntityEntry rootEntry, EntityState targetState, EntityState storeGeneratedWithKeySetTargetState, Boolean forceStateWhenUnknownKey)
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.SetEntityState(InternalEntityEntry entry, EntityState entityState)
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.Add(TEntity entity)
   at ErrandPayApp.Data.Repositories.UserRepository.CreateDefaultUser() in C:\Users\HP\source\repos\ErrandPayApp.API\ErrandPayApp.Data\Repositories\UserRepository.cs:line 309
   --- End of inner exception stack trace ---
   at System.Threading.Tasks.Task`1.GetResultCore(Boolean waitCompletionNotification)
   at System.Threading.Tasks.Task`1.get_Result()
   at ErrandPayApp.Infrastructure.Configuration.DatabaseConfiguration.InitializeSupperUser(IServiceScope scope) in C:\Users\HP\source\repos\ErrandPayApp.API\ErrandPayApp.Infrastructure\Configuration\DatabaseConfiguration.cs:line 87
2024-04-26T09:34:01.5151488+01:00  [INF] Application started. Press Ctrl+C to shut down. (dcaefe54)
2024-04-26T09:34:01.5208221+01:00  [INF] Hosting environment: "Development" (c3307c92)
2024-04-26T09:34:01.5243012+01:00  [INF] Content root path: "C:\Users\HP\source\repos\ErrandPayApp.API\ErrandPayApp.API" (b5d60022)
2024-04-26T09:34:01.6097365+01:00 8000001e-0007-ff00-b63f-84710c7967bb [INF] Request starting HTTP/2 GET https://localhost:44331/swagger/index.html - - (ca22a1cb)
2024-04-26T09:34:11.5635066+01:00 8000001e-0007-ff00-b63f-84710c7967bb [INF] Request finished HTTP/2 GET https://localhost:44331/swagger/index.html - - - 404 - - 9958.8946ms (791a596a)
2024-04-26T09:35:10.4317065+01:00  [INF] Entity Framework Core "5.0.6" initialized '"APPContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MaxPoolSize=128 " (9958f5bb)
2024-04-26T09:35:11.2349380+01:00  [INF] Executed DbCommand ("78"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1" (0723d8ff)
2024-04-26T09:35:11.2957821+01:00  [INF] Executed DbCommand ("42"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT OBJECT_ID(N'[__EFMigrationsHistory]');" (0723d8ff)
2024-04-26T09:35:11.3012705+01:00  [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1" (0723d8ff)
2024-04-26T09:35:11.3020304+01:00  [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT OBJECT_ID(N'[__EFMigrationsHistory]');" (0723d8ff)
2024-04-26T09:35:11.3281379+01:00  [INF] Executed DbCommand ("5"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];" (0723d8ff)
2024-04-26T09:35:11.3612699+01:00  [INF] No migrations were applied. The database is already up to date. (503cba9d)
2024-04-26T09:35:11.8179241+01:00  [INF] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [p].[PermissionName]
FROM [Permissions] AS [p]" (0723d8ff)
2024-04-26T09:35:11.9717836+01:00  [INF] Executed DbCommand ("22"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[Id], [a].[City], [a].[Country], [a].[CreatedBy], [a].[CreatedDate], [a].[DateAccountLocked], [a].[Email], [a].[EmailConfirmationDate], [a].[FirstName], [a].[IsActive], [a].[IsDeleted], [a].[IsEmailConfirmed], [a].[IsLockedOut], [a].[IsSuperAdmin], [a].[LastLogin], [a].[LockoutCounter], [a].[ModifiedBy], [a].[ModifiedDate], [a].[MustChangePassword], [a].[No], [a].[Password], [a].[PhoneNumber], [a].[Road], [a].[State], [a].[SurName], [a].[Telephone], [a].[Title]
FROM [AppUsers] AS [a]
WHERE [a].[IsSuperAdmin] = CAST(1 AS bit)" (0723d8ff)
2024-04-26T09:35:12.4057471+01:00  [INF] User profile is available. Using '"C:\Users\HP\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest. (7ac5e29c)
2024-04-26T09:35:12.4629683+01:00  [ERR] Message => One or more errors occurred. (Unable to track an entity of type 'AppUser' because its primary key property 'Id' is null.)|Stacktrace =>    at System.Threading.Tasks.Task`1.GetResultCore(Boolean waitCompletionNotification)
   at System.Threading.Tasks.Task`1.get_Result()
   at ErrandPayApp.Infrastructure.Configuration.DatabaseConfiguration.InitializeSupperUser(IServiceScope scope) in C:\Users\HP\source\repos\ErrandPayApp.API\ErrandPayApp.Infrastructure\Configuration\DatabaseConfiguration.cs:line 87|InnerException => System.InvalidOperationException: Unable to track an entity of type 'AppUser' because its primary key property 'Id' is null.
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.NullableKeyIdentityMap`1.Add(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.StartTracking(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState oldState, EntityState newState, Boolean acceptChanges, Boolean modifyProperties)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState entityState, Boolean acceptChanges, Boolean modifyProperties, Nullable`1 forceStateWhenUnknownKey)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.PaintAction(EntityEntryGraphNode`1 node)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityEntryGraphIterator.TraverseGraph[TState](EntityEntryGraphNode`1 node, Func`2 handleNode)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.AttachGraph(InternalEntityEntry rootEntry, EntityState targetState, EntityState storeGeneratedWithKeySetTargetState, Boolean forceStateWhenUnknownKey)
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.SetEntityState(InternalEntityEntry entry, EntityState entityState)
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.Add(TEntity entity)
   at ErrandPayApp.Data.Repositories.UserRepository.CreateDefaultUser() in C:\Users\HP\source\repos\ErrandPayApp.API\ErrandPayApp.Data\Repositories\UserRepository.cs:line 309 (c772a506)
System.AggregateException: One or more errors occurred. (Unable to track an entity of type 'AppUser' because its primary key property 'Id' is null.)
 ---> System.InvalidOperationException: Unable to track an entity of type 'AppUser' because its primary key property 'Id' is null.
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.NullableKeyIdentityMap`1.Add(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.StartTracking(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState oldState, EntityState newState, Boolean acceptChanges, Boolean modifyProperties)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState entityState, Boolean acceptChanges, Boolean modifyProperties, Nullable`1 forceStateWhenUnknownKey)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.PaintAction(EntityEntryGraphNode`1 node)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityEntryGraphIterator.TraverseGraph[TState](EntityEntryGraphNode`1 node, Func`2 handleNode)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.AttachGraph(InternalEntityEntry rootEntry, EntityState targetState, EntityState storeGeneratedWithKeySetTargetState, Boolean forceStateWhenUnknownKey)
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.SetEntityState(InternalEntityEntry entry, EntityState entityState)
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.Add(TEntity entity)
   at ErrandPayApp.Data.Repositories.UserRepository.CreateDefaultUser() in C:\Users\HP\source\repos\ErrandPayApp.API\ErrandPayApp.Data\Repositories\UserRepository.cs:line 309
   --- End of inner exception stack trace ---
   at System.Threading.Tasks.Task`1.GetResultCore(Boolean waitCompletionNotification)
   at System.Threading.Tasks.Task`1.get_Result()
   at ErrandPayApp.Infrastructure.Configuration.DatabaseConfiguration.InitializeSupperUser(IServiceScope scope) in C:\Users\HP\source\repos\ErrandPayApp.API\ErrandPayApp.Infrastructure\Configuration\DatabaseConfiguration.cs:line 87
2024-04-26T09:35:12.8379895+01:00  [INF] Application started. Press Ctrl+C to shut down. (dcaefe54)
2024-04-26T09:35:12.8426847+01:00  [INF] Hosting environment: "Development" (c3307c92)
2024-04-26T09:35:12.8515198+01:00  [INF] Content root path: "C:\Users\HP\source\repos\ErrandPayApp.API\ErrandPayApp.API" (b5d60022)
2024-04-26T09:35:12.9250644+01:00 80000035-0004-fe00-b63f-84710c7967bb [INF] Request starting HTTP/2 GET https://localhost:44331/ - - (ca22a1cb)
2024-04-26T09:35:16.5192204+01:00 8000001d-0000-fb00-b63f-84710c7967bb [INF] Request starting HTTP/2 GET https://localhost:44331/index.html - - (ca22a1cb)
2024-04-26T09:35:16.5957852+01:00 80000035-0004-fe00-b63f-84710c7967bb [INF] Request finished HTTP/2 GET https://localhost:44331/ - - - 301 - - 3675.0776ms (791a596a)
2024-04-26T09:35:16.8318645+01:00 8000001d-0000-fb00-b63f-84710c7967bb [INF] Request finished HTTP/2 GET https://localhost:44331/index.html - - - 200 - text/html;charset=utf-8 312.5660ms (791a596a)
2024-04-26T09:35:17.1545929+01:00 80000037-0004-fe00-b63f-84710c7967bb [INF] Request starting HTTP/2 GET https://localhost:44331/_framework/aspnetcore-browser-refresh.js - - (ca22a1cb)
2024-04-26T09:35:17.1669049+01:00 80000037-0004-fe00-b63f-84710c7967bb [INF] Request finished HTTP/2 GET https://localhost:44331/_framework/aspnetcore-browser-refresh.js - - - 200 12366 application/javascript;+charset=utf-8 13.8163ms (791a596a)
2024-04-26T09:35:17.1973814+01:00 80000027-0005-fc00-b63f-84710c7967bb [INF] Request starting HTTP/2 GET https://localhost:44331/_vs/browserLink - - (ca22a1cb)
2024-04-26T09:35:17.2921244+01:00 80000027-0005-fc00-b63f-84710c7967bb [INF] Request finished HTTP/2 GET https://localhost:44331/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 94.9396ms (791a596a)
2024-04-26T09:35:17.5378733+01:00 80000025-0004-fc00-b63f-84710c7967bb [INF] Request starting HTTP/2 GET https://localhost:44331/swagger/v1/swagger.json - - (ca22a1cb)
2024-04-26T09:35:18.1002135+01:00 80000025-0004-fc00-b63f-84710c7967bb [INF] Request finished HTTP/2 GET https://localhost:44331/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 562.4316ms (791a596a)
2024-04-26T09:35:29.8945283+01:00 80000027-0004-fc00-b63f-84710c7967bb [INF] Request starting HTTP/2 GET https://localhost:44331/api/Roles - - (ca22a1cb)
2024-04-26T09:35:30.0642871+01:00 80000027-0004-fc00-b63f-84710c7967bb [INF] Executing endpoint '"ErrandPayApp.API.Controllers.RolesController.GetRoles (ErrandPayApp.API)"' (500cc934)
2024-04-26T09:35:30.0951934+01:00 80000027-0004-fc00-b63f-84710c7967bb [INF] Route matched with "{action = \"GetRoles\", controller = \"Roles\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetRoles()" on controller "ErrandPayApp.API.Controllers.RolesController" ("ErrandPayApp.API"). (122b2fdf)
2024-04-26T09:35:30.1403835+01:00 80000027-0004-fc00-b63f-84710c7967bb [INF] Executed DbCommand ("13"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [r].[Id], [r].[CreatedBy], [r].[CreatedDate], [r].[IsActive], [r].[IsDeleted], [r].[ModifiedBy], [r].[ModifiedDate], [r].[RoleDescription], [r].[RoleName], [r].[RoleNameHash]
FROM [Roles] AS [r]
WHERE [r].[IsActive] = CAST(1 AS bit)" (0723d8ff)
2024-04-26T09:35:30.3657640+01:00 80000027-0004-fc00-b63f-84710c7967bb [INF] Executing "OkObjectResult", writing value of type '"ErrandPayApp.Core.Models.ResponseModel`1[[System.Object, System.Private.CoreLib, Version=5.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'. (605b4265)
2024-04-26T09:35:30.4553432+01:00 80000027-0004-fc00-b63f-84710c7967bb [INF] Executed action "ErrandPayApp.API.Controllers.RolesController.GetRoles (ErrandPayApp.API)" in 318.2972ms (afa2e885)
2024-04-26T09:35:30.4574913+01:00 80000027-0004-fc00-b63f-84710c7967bb [INF] Executed endpoint '"ErrandPayApp.API.Controllers.RolesController.GetRoles (ErrandPayApp.API)"' (99874f2b)
2024-04-26T09:35:30.4751515+01:00 80000027-0004-fc00-b63f-84710c7967bb [INF] Request finished HTTP/2 GET https://localhost:44331/api/Roles - - - 200 - application/json;+charset=utf-8 580.4709ms (791a596a)
2024-04-26T09:46:18.5368672+01:00 800000a9-0005-fe00-b63f-84710c7967bb [INF] Request starting HTTP/2 POST https://localhost:44331/api/Accounts application/json 66 (ca22a1cb)
2024-04-26T09:46:18.5397516+01:00 800000a9-0005-fe00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2024-04-26T09:46:18.5506675+01:00 800000a9-0005-fe00-b63f-84710c7967bb [INF] Executing endpoint '"ErrandPayApp.API.Controllers.AccountsController.Login (ErrandPayApp.API)"' (500cc934)
2024-04-26T09:46:18.5732023+01:00 800000a9-0005-fe00-b63f-84710c7967bb [INF] Route matched with "{action = \"Login\", controller = \"Accounts\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(ErrandPayApp.API.RequestVms.LoginVm)" on controller "ErrandPayApp.API.Controllers.AccountsController" ("ErrandPayApp.API"). (122b2fdf)
2024-04-26T09:46:18.7010804+01:00 800000a9-0005-fe00-b63f-84710c7967bb [INF] Executed DbCommand ("42"ms) [Parameters=["@__email_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[Email], [a].[PhoneNumber], [a].[SurName], [a].[FirstName], [a].[IsSuperAdmin], [a].[Id], [a].[MustChangePassword], [a].[LockoutCounter], [a].[IsLockedOut], [a].[LastLogin], [a].[DateAccountLocked], [a].[Title], [a].[No], [a].[Road], [a].[City], [a].[State], [a].[Country]
FROM [AppUsers] AS [a]
WHERE [a].[Email] = @__email_0" (0723d8ff)
2024-04-26T09:46:18.7178681+01:00 800000a9-0005-fe00-b63f-84710c7967bb [INF] Executed DbCommand ("7"ms) [Parameters=["@__email_0='?' (Size = 450), @__ToSha256_1='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[Email], [a].[PhoneNumber], [a].[SurName], [a].[FirstName], [a].[IsSuperAdmin], [a].[Id], [a].[MustChangePassword], [a].[LockoutCounter], [a].[IsLockedOut], [a].[LastLogin], [a].[DateAccountLocked], [a].[Title], [a].[No], [a].[Road], [a].[City], [a].[State], [a].[Country]
FROM [AppUsers] AS [a]
WHERE ([a].[Email] = @__email_0) AND ([a].[Password] = @__ToSha256_1)" (0723d8ff)
2024-04-26T09:46:18.7260342+01:00 800000a9-0005-fe00-b63f-84710c7967bb [INF] Executed DbCommand ("3"ms) [Parameters=["@__email_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[Id], [a].[City], [a].[Country], [a].[CreatedBy], [a].[CreatedDate], [a].[DateAccountLocked], [a].[Email], [a].[EmailConfirmationDate], [a].[FirstName], [a].[IsActive], [a].[IsDeleted], [a].[IsEmailConfirmed], [a].[IsLockedOut], [a].[IsSuperAdmin], [a].[LastLogin], [a].[LockoutCounter], [a].[ModifiedBy], [a].[ModifiedDate], [a].[MustChangePassword], [a].[No], [a].[Password], [a].[PhoneNumber], [a].[Road], [a].[State], [a].[SurName], [a].[Telephone], [a].[Title]
FROM [AppUsers] AS [a]
WHERE [a].[Email] = @__email_0" (0723d8ff)
2024-04-26T09:46:22.6175475+01:00 800000a9-0005-fe00-b63f-84710c7967bb [INF] Executed DbCommand ("9"ms) [Parameters=["@p2='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (DbType = DateTimeOffset)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [AppUsers] SET [LockoutCounter] = @p0, [ModifiedDate] = @p1
WHERE [Id] = @p2;
SELECT @@ROWCOUNT;" (0723d8ff)
2024-04-26T09:46:22.7639757+01:00 800000a9-0005-fe00-b63f-84710c7967bb [INF] Executing JsonResult, writing value of type '"ErrandPayApp.Core.Models.ResponseModel`1[[System.Object, System.Private.CoreLib, Version=5.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'. (2f513669)
2024-04-26T09:46:22.7655392+01:00 800000a9-0005-fe00-b63f-84710c7967bb [INF] Executed action "ErrandPayApp.API.Controllers.AccountsController.Login (ErrandPayApp.API)" in 4192.2695ms (afa2e885)
2024-04-26T09:46:22.7655817+01:00 800000a9-0005-fe00-b63f-84710c7967bb [INF] Executed endpoint '"ErrandPayApp.API.Controllers.AccountsController.Login (ErrandPayApp.API)"' (99874f2b)
2024-04-26T09:46:22.7668287+01:00 800000a9-0005-fe00-b63f-84710c7967bb [INF] Request finished HTTP/2 POST https://localhost:44331/api/Accounts application/json 66 - 400 - application/json 4230.0197ms (791a596a)
2024-04-26T09:47:14.8316447+01:00 8000003d-0001-fe00-b63f-84710c7967bb [INF] Request starting HTTP/2 POST https://localhost:44331/api/Accounts application/json 66 (ca22a1cb)
2024-04-26T09:47:14.8319044+01:00 8000003d-0001-fe00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2024-04-26T09:47:14.8346546+01:00 8000003d-0001-fe00-b63f-84710c7967bb [INF] Executing endpoint '"ErrandPayApp.API.Controllers.AccountsController.Login (ErrandPayApp.API)"' (500cc934)
2024-04-26T09:47:14.8348786+01:00 8000003d-0001-fe00-b63f-84710c7967bb [INF] Route matched with "{action = \"Login\", controller = \"Accounts\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(ErrandPayApp.API.RequestVms.LoginVm)" on controller "ErrandPayApp.API.Controllers.AccountsController" ("ErrandPayApp.API"). (122b2fdf)
2024-04-26T09:47:21.9054683+01:00 8000003d-0001-fe00-b63f-84710c7967bb [INF] Executed DbCommand ("27"ms) [Parameters=["@__email_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[Email], [a].[PhoneNumber], [a].[SurName], [a].[FirstName], [a].[IsSuperAdmin], [a].[Id], [a].[MustChangePassword], [a].[LockoutCounter], [a].[IsLockedOut], [a].[LastLogin], [a].[DateAccountLocked], [a].[Title], [a].[No], [a].[Road], [a].[City], [a].[State], [a].[Country]
FROM [AppUsers] AS [a]
WHERE [a].[Email] = @__email_0" (0723d8ff)
2024-04-26T09:47:38.8039723+01:00 8000003d-0001-fe00-b63f-84710c7967bb [INF] Executed DbCommand ("4"ms) [Parameters=["@__email_0='?' (Size = 450), @__ToSha256_1='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[Email], [a].[PhoneNumber], [a].[SurName], [a].[FirstName], [a].[IsSuperAdmin], [a].[Id], [a].[MustChangePassword], [a].[LockoutCounter], [a].[IsLockedOut], [a].[LastLogin], [a].[DateAccountLocked], [a].[Title], [a].[No], [a].[Road], [a].[City], [a].[State], [a].[Country]
FROM [AppUsers] AS [a]
WHERE ([a].[Email] = @__email_0) AND ([a].[Password] = @__ToSha256_1)" (0723d8ff)
2024-04-26T09:48:07.2421199+01:00 8000003d-0001-fe00-b63f-84710c7967bb [INF] Executed DbCommand ("20"ms) [Parameters=["@__email_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[Id], [a].[City], [a].[Country], [a].[CreatedBy], [a].[CreatedDate], [a].[DateAccountLocked], [a].[Email], [a].[EmailConfirmationDate], [a].[FirstName], [a].[IsActive], [a].[IsDeleted], [a].[IsEmailConfirmed], [a].[IsLockedOut], [a].[IsSuperAdmin], [a].[LastLogin], [a].[LockoutCounter], [a].[ModifiedBy], [a].[ModifiedDate], [a].[MustChangePassword], [a].[No], [a].[Password], [a].[PhoneNumber], [a].[Road], [a].[State], [a].[SurName], [a].[Telephone], [a].[Title]
FROM [AppUsers] AS [a]
WHERE [a].[Email] = @__email_0" (0723d8ff)
2024-04-26T09:48:09.5492332+01:00 8000003d-0001-fe00-b63f-84710c7967bb [INF] Executed DbCommand ("3"ms) [Parameters=["@p2='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (DbType = DateTimeOffset)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [AppUsers] SET [LockoutCounter] = @p0, [ModifiedDate] = @p1
WHERE [Id] = @p2;
SELECT @@ROWCOUNT;" (0723d8ff)
2024-04-26T09:48:09.6459349+01:00 8000003d-0001-fe00-b63f-84710c7967bb [INF] Executing JsonResult, writing value of type '"ErrandPayApp.Core.Models.ResponseModel`1[[System.Object, System.Private.CoreLib, Version=5.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'. (2f513669)
2024-04-26T09:48:09.6462526+01:00 8000003d-0001-fe00-b63f-84710c7967bb [INF] Executed action "ErrandPayApp.API.Controllers.AccountsController.Login (ErrandPayApp.API)" in 54811.3354ms (afa2e885)
2024-04-26T09:48:09.6462799+01:00 8000003d-0001-fe00-b63f-84710c7967bb [INF] Executed endpoint '"ErrandPayApp.API.Controllers.AccountsController.Login (ErrandPayApp.API)"' (99874f2b)
2024-04-26T09:48:09.6464444+01:00 8000003d-0001-fe00-b63f-84710c7967bb [INF] Request finished HTTP/2 POST https://localhost:44331/api/Accounts application/json 66 - 400 - application/json 54814.8054ms (791a596a)
2024-04-26T09:59:36.8343906+01:00  [INF] Entity Framework Core "5.0.6" initialized '"APPContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MaxPoolSize=128 " (9958f5bb)
2024-04-26T09:59:37.2738436+01:00  [INF] Executed DbCommand ("22"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1" (0723d8ff)
2024-04-26T09:59:37.3107254+01:00  [INF] Executed DbCommand ("27"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT OBJECT_ID(N'[__EFMigrationsHistory]');" (0723d8ff)
2024-04-26T09:59:37.3150912+01:00  [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1" (0723d8ff)
2024-04-26T09:59:37.3158309+01:00  [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT OBJECT_ID(N'[__EFMigrationsHistory]');" (0723d8ff)
2024-04-26T09:59:37.3316781+01:00  [INF] Executed DbCommand ("4"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];" (0723d8ff)
2024-04-26T09:59:37.3514584+01:00  [INF] No migrations were applied. The database is already up to date. (503cba9d)
2024-04-26T09:59:37.6251533+01:00  [INF] Executed DbCommand ("6"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [p].[PermissionName]
FROM [Permissions] AS [p]" (0723d8ff)
2024-04-26T09:59:37.7465834+01:00  [INF] Executed DbCommand ("27"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[Id], [a].[City], [a].[Country], [a].[CreatedBy], [a].[CreatedDate], [a].[DateAccountLocked], [a].[Email], [a].[EmailConfirmationDate], [a].[FirstName], [a].[IsActive], [a].[IsDeleted], [a].[IsEmailConfirmed], [a].[IsLockedOut], [a].[IsSuperAdmin], [a].[LastLogin], [a].[LockoutCounter], [a].[ModifiedBy], [a].[ModifiedDate], [a].[MustChangePassword], [a].[No], [a].[Password], [a].[PhoneNumber], [a].[Road], [a].[State], [a].[SurName], [a].[Telephone], [a].[Title]
FROM [AppUsers] AS [a]
WHERE [a].[IsSuperAdmin] = CAST(1 AS bit)" (0723d8ff)
2024-04-26T09:59:37.9933896+01:00  [INF] User profile is available. Using '"C:\Users\HP\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest. (7ac5e29c)
2024-04-26T09:59:38.0419655+01:00  [ERR] Message => One or more errors occurred. (Unable to track an entity of type 'AppUser' because its primary key property 'Id' is null.)|Stacktrace =>    at System.Threading.Tasks.Task`1.GetResultCore(Boolean waitCompletionNotification)
   at System.Threading.Tasks.Task`1.get_Result()
   at ErrandPayApp.Infrastructure.Configuration.DatabaseConfiguration.InitializeSupperUser(IServiceScope scope) in C:\Users\HP\source\repos\ErrandPayApp.API\ErrandPayApp.Infrastructure\Configuration\DatabaseConfiguration.cs:line 87|InnerException => System.InvalidOperationException: Unable to track an entity of type 'AppUser' because its primary key property 'Id' is null.
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.NullableKeyIdentityMap`1.Add(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.StartTracking(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState oldState, EntityState newState, Boolean acceptChanges, Boolean modifyProperties)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState entityState, Boolean acceptChanges, Boolean modifyProperties, Nullable`1 forceStateWhenUnknownKey)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.PaintAction(EntityEntryGraphNode`1 node)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityEntryGraphIterator.TraverseGraph[TState](EntityEntryGraphNode`1 node, Func`2 handleNode)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.AttachGraph(InternalEntityEntry rootEntry, EntityState targetState, EntityState storeGeneratedWithKeySetTargetState, Boolean forceStateWhenUnknownKey)
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.SetEntityState(InternalEntityEntry entry, EntityState entityState)
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.Add(TEntity entity)
   at ErrandPayApp.Data.Repositories.UserRepository.CreateDefaultUser() in C:\Users\HP\source\repos\ErrandPayApp.API\ErrandPayApp.Data\Repositories\UserRepository.cs:line 307 (2a14ea4d)
System.AggregateException: One or more errors occurred. (Unable to track an entity of type 'AppUser' because its primary key property 'Id' is null.)
 ---> System.InvalidOperationException: Unable to track an entity of type 'AppUser' because its primary key property 'Id' is null.
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.NullableKeyIdentityMap`1.Add(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.StartTracking(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState oldState, EntityState newState, Boolean acceptChanges, Boolean modifyProperties)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState entityState, Boolean acceptChanges, Boolean modifyProperties, Nullable`1 forceStateWhenUnknownKey)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.PaintAction(EntityEntryGraphNode`1 node)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityEntryGraphIterator.TraverseGraph[TState](EntityEntryGraphNode`1 node, Func`2 handleNode)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.AttachGraph(InternalEntityEntry rootEntry, EntityState targetState, EntityState storeGeneratedWithKeySetTargetState, Boolean forceStateWhenUnknownKey)
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.SetEntityState(InternalEntityEntry entry, EntityState entityState)
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.Add(TEntity entity)
   at ErrandPayApp.Data.Repositories.UserRepository.CreateDefaultUser() in C:\Users\HP\source\repos\ErrandPayApp.API\ErrandPayApp.Data\Repositories\UserRepository.cs:line 307
   --- End of inner exception stack trace ---
   at System.Threading.Tasks.Task`1.GetResultCore(Boolean waitCompletionNotification)
   at System.Threading.Tasks.Task`1.get_Result()
   at ErrandPayApp.Infrastructure.Configuration.DatabaseConfiguration.InitializeSupperUser(IServiceScope scope) in C:\Users\HP\source\repos\ErrandPayApp.API\ErrandPayApp.Infrastructure\Configuration\DatabaseConfiguration.cs:line 87
2024-04-26T09:59:38.2720066+01:00  [INF] Application started. Press Ctrl+C to shut down. (dcaefe54)
2024-04-26T09:59:38.2748055+01:00  [INF] Hosting environment: "Development" (c3307c92)
2024-04-26T09:59:38.2773418+01:00  [INF] Content root path: "C:\Users\HP\source\repos\ErrandPayApp.API\ErrandPayApp.API" (b5d60022)
2024-04-26T09:59:38.3294619+01:00 8000000d-0004-fb00-b63f-84710c7967bb [INF] Request starting HTTP/2 GET https://localhost:44331/index.html - - (ca22a1cb)
2024-04-26T09:59:45.9005357+01:00 8000000d-0004-fb00-b63f-84710c7967bb [INF] Request finished HTTP/2 GET https://localhost:44331/index.html - - - 200 - text/html;charset=utf-8 7574.7427ms (791a596a)
2024-04-26T09:59:46.0656124+01:00 80000019-0006-f900-b63f-84710c7967bb [INF] Request starting HTTP/2 GET https://localhost:44331/_framework/aspnetcore-browser-refresh.js - - (ca22a1cb)
2024-04-26T09:59:46.0786784+01:00 80000019-0006-f900-b63f-84710c7967bb [INF] Request finished HTTP/2 GET https://localhost:44331/_framework/aspnetcore-browser-refresh.js - - - 200 12366 application/javascript;+charset=utf-8 12.6702ms (791a596a)
2024-04-26T09:59:46.0934265+01:00 8000000f-0004-fb00-b63f-84710c7967bb [INF] Request starting HTTP/2 GET https://localhost:44331/_vs/browserLink - - (ca22a1cb)
2024-04-26T09:59:46.1748631+01:00 8000000f-0004-fb00-b63f-84710c7967bb [INF] Request finished HTTP/2 GET https://localhost:44331/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 81.3088ms (791a596a)
2024-04-26T09:59:46.3407543+01:00 800000ab-0005-fe00-b63f-84710c7967bb [INF] Request starting HTTP/2 GET https://localhost:44331/swagger/v1/swagger.json - - (ca22a1cb)
2024-04-26T09:59:46.5514596+01:00 800000ab-0005-fe00-b63f-84710c7967bb [INF] Request finished HTTP/2 GET https://localhost:44331/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 210.6944ms (791a596a)
2024-04-26T10:00:42.1463706+01:00 800000c1-0004-ff00-b63f-84710c7967bb [INF] Request starting HTTP/2 POST https://localhost:44331/api/Accounts application/json 66 (ca22a1cb)
2024-04-26T10:00:42.1486891+01:00 800000c1-0004-ff00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2024-04-26T10:00:42.2676575+01:00 800000c1-0004-ff00-b63f-84710c7967bb [INF] Executing endpoint '"ErrandPayApp.API.Controllers.AccountsController.Login (ErrandPayApp.API)"' (500cc934)
2024-04-26T10:00:42.2910210+01:00 800000c1-0004-ff00-b63f-84710c7967bb [INF] Route matched with "{action = \"Login\", controller = \"Accounts\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(ErrandPayApp.API.RequestVms.LoginVm)" on controller "ErrandPayApp.API.Controllers.AccountsController" ("ErrandPayApp.API"). (122b2fdf)
2024-04-26T10:00:47.1133706+01:00 800000c1-0004-ff00-b63f-84710c7967bb [INF] Executed DbCommand ("77"ms) [Parameters=["@__email_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[Email], [a].[PhoneNumber], [a].[SurName], [a].[FirstName], [a].[IsSuperAdmin], [a].[Id], [a].[MustChangePassword], [a].[LockoutCounter], [a].[IsLockedOut], [a].[LastLogin], [a].[DateAccountLocked], [a].[Title], [a].[No], [a].[Road], [a].[City], [a].[State], [a].[Country]
FROM [AppUsers] AS [a]
WHERE [a].[Email] = @__email_0" (0723d8ff)
2024-04-26T10:01:04.7777090+01:00 800000c1-0004-ff00-b63f-84710c7967bb [INF] Executed DbCommand ("26"ms) [Parameters=["@__email_0='?' (Size = 450), @__ToSha256_1='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[Email], [a].[PhoneNumber], [a].[SurName], [a].[FirstName], [a].[IsSuperAdmin], [a].[Id], [a].[MustChangePassword], [a].[LockoutCounter], [a].[IsLockedOut], [a].[LastLogin], [a].[DateAccountLocked], [a].[Title], [a].[No], [a].[Road], [a].[City], [a].[State], [a].[Country]
FROM [AppUsers] AS [a]
WHERE ([a].[Email] = @__email_0) AND ([a].[Password] = @__ToSha256_1)" (0723d8ff)
2024-04-26T10:01:26.8096028+01:00 800000c1-0004-ff00-b63f-84710c7967bb [INF] Executed DbCommand ("4"ms) [Parameters=["@__email_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[Id], [a].[City], [a].[Country], [a].[CreatedBy], [a].[CreatedDate], [a].[DateAccountLocked], [a].[Email], [a].[EmailConfirmationDate], [a].[FirstName], [a].[IsActive], [a].[IsDeleted], [a].[IsEmailConfirmed], [a].[IsLockedOut], [a].[IsSuperAdmin], [a].[LastLogin], [a].[LockoutCounter], [a].[ModifiedBy], [a].[ModifiedDate], [a].[MustChangePassword], [a].[No], [a].[Password], [a].[PhoneNumber], [a].[Road], [a].[State], [a].[SurName], [a].[Telephone], [a].[Title]
FROM [AppUsers] AS [a]
WHERE [a].[Email] = @__email_0" (0723d8ff)
2024-04-26T10:01:28.9588015+01:00 800000c1-0004-ff00-b63f-84710c7967bb [INF] Executed DbCommand ("12"ms) [Parameters=["@p4='?' (Size = 450), @p0='?' (DbType = DateTime2), @p1='?' (DbType = Boolean), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTimeOffset)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [AppUsers] SET [DateAccountLocked] = @p0, [IsLockedOut] = @p1, [LockoutCounter] = @p2, [ModifiedDate] = @p3
WHERE [Id] = @p4;
SELECT @@ROWCOUNT;" (0723d8ff)
2024-04-26T10:01:29.1327558+01:00 800000c1-0004-ff00-b63f-84710c7967bb [INF] Executing JsonResult, writing value of type '"ErrandPayApp.Core.Models.ResponseModel`1[[System.Object, System.Private.CoreLib, Version=5.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'. (2f513669)
2024-04-26T10:01:29.1452847+01:00 800000c1-0004-ff00-b63f-84710c7967bb [INF] Executed action "ErrandPayApp.API.Controllers.AccountsController.Login (ErrandPayApp.API)" in 46848.9761ms (afa2e885)
2024-04-26T10:01:29.1457817+01:00 800000c1-0004-ff00-b63f-84710c7967bb [INF] Executed endpoint '"ErrandPayApp.API.Controllers.AccountsController.Login (ErrandPayApp.API)"' (99874f2b)
2024-04-26T10:01:29.1529855+01:00 800000c1-0004-ff00-b63f-84710c7967bb [INF] Request finished HTTP/2 POST https://localhost:44331/api/Accounts application/json 66 - 400 - application/json 47006.6335ms (791a596a)
2024-04-26T10:01:40.2902633+01:00 8000001b-0006-f900-b63f-84710c7967bb [INF] Request starting HTTP/2 POST https://localhost:44331/api/Accounts application/json 65 (ca22a1cb)
2024-04-26T10:01:40.2904248+01:00 8000001b-0006-f900-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2024-04-26T10:01:40.3002161+01:00 8000001b-0006-f900-b63f-84710c7967bb [INF] Executing endpoint '"ErrandPayApp.API.Controllers.AccountsController.Login (ErrandPayApp.API)"' (500cc934)
2024-04-26T10:01:40.3009883+01:00 8000001b-0006-f900-b63f-84710c7967bb [INF] Route matched with "{action = \"Login\", controller = \"Accounts\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(ErrandPayApp.API.RequestVms.LoginVm)" on controller "ErrandPayApp.API.Controllers.AccountsController" ("ErrandPayApp.API"). (122b2fdf)
2024-04-26T10:01:41.9170278+01:00 8000001b-0006-f900-b63f-84710c7967bb [INF] Executed DbCommand ("5"ms) [Parameters=["@__email_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[Email], [a].[PhoneNumber], [a].[SurName], [a].[FirstName], [a].[IsSuperAdmin], [a].[Id], [a].[MustChangePassword], [a].[LockoutCounter], [a].[IsLockedOut], [a].[LastLogin], [a].[DateAccountLocked], [a].[Title], [a].[No], [a].[Road], [a].[City], [a].[State], [a].[Country]
FROM [AppUsers] AS [a]
WHERE [a].[Email] = @__email_0" (0723d8ff)
2024-04-26T10:01:44.3882024+01:00 8000001b-0006-f900-b63f-84710c7967bb [INF] Executed DbCommand ("4"ms) [Parameters=["@__email_0='?' (Size = 450), @__ToSha256_1='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[Email], [a].[PhoneNumber], [a].[SurName], [a].[FirstName], [a].[IsSuperAdmin], [a].[Id], [a].[MustChangePassword], [a].[LockoutCounter], [a].[IsLockedOut], [a].[LastLogin], [a].[DateAccountLocked], [a].[Title], [a].[No], [a].[Road], [a].[City], [a].[State], [a].[Country]
FROM [AppUsers] AS [a]
WHERE ([a].[Email] = @__email_0) AND ([a].[Password] = @__ToSha256_1)" (0723d8ff)
2024-04-26T10:01:44.3921511+01:00 8000001b-0006-f900-b63f-84710c7967bb [INF] Executed DbCommand ("3"ms) [Parameters=["@__email_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[Id], [a].[City], [a].[Country], [a].[CreatedBy], [a].[CreatedDate], [a].[DateAccountLocked], [a].[Email], [a].[EmailConfirmationDate], [a].[FirstName], [a].[IsActive], [a].[IsDeleted], [a].[IsEmailConfirmed], [a].[IsLockedOut], [a].[IsSuperAdmin], [a].[LastLogin], [a].[LockoutCounter], [a].[ModifiedBy], [a].[ModifiedDate], [a].[MustChangePassword], [a].[No], [a].[Password], [a].[PhoneNumber], [a].[Road], [a].[State], [a].[SurName], [a].[Telephone], [a].[Title]
FROM [AppUsers] AS [a]
WHERE [a].[Email] = @__email_0" (0723d8ff)
2024-04-26T10:01:46.1971250+01:00 8000001b-0006-f900-b63f-84710c7967bb [INF] Executed DbCommand ("5"ms) [Parameters=["@p2='?' (Size = 450), @p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTimeOffset)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [AppUsers] SET [DateAccountLocked] = @p0, [ModifiedDate] = @p1
WHERE [Id] = @p2;
SELECT @@ROWCOUNT;" (0723d8ff)
2024-04-26T10:01:46.3021507+01:00 8000001b-0006-f900-b63f-84710c7967bb [INF] Executing JsonResult, writing value of type '"ErrandPayApp.Core.Models.ResponseModel`1[[System.Object, System.Private.CoreLib, Version=5.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'. (2f513669)
2024-04-26T10:01:46.3026435+01:00 8000001b-0006-f900-b63f-84710c7967bb [INF] Executed action "ErrandPayApp.API.Controllers.AccountsController.Login (ErrandPayApp.API)" in 6001.5535ms (afa2e885)
2024-04-26T10:01:46.3026911+01:00 8000001b-0006-f900-b63f-84710c7967bb [INF] Executed endpoint '"ErrandPayApp.API.Controllers.AccountsController.Login (ErrandPayApp.API)"' (99874f2b)
2024-04-26T10:01:46.3046397+01:00 8000001b-0006-f900-b63f-84710c7967bb [INF] Request finished HTTP/2 POST https://localhost:44331/api/Accounts application/json 65 - 400 - application/json 6014.2627ms (791a596a)
2024-04-26T10:03:42.7954782+01:00 8000001d-0006-f900-b63f-84710c7967bb [INF] Request starting HTTP/2 POST https://localhost:44331/api/Accounts application/json 66 (ca22a1cb)
2024-04-26T10:03:42.7956162+01:00 8000001d-0006-f900-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2024-04-26T10:03:42.7973061+01:00 8000001d-0006-f900-b63f-84710c7967bb [INF] Executing endpoint '"ErrandPayApp.API.Controllers.AccountsController.Login (ErrandPayApp.API)"' (500cc934)
2024-04-26T10:03:42.7974545+01:00 8000001d-0006-f900-b63f-84710c7967bb [INF] Route matched with "{action = \"Login\", controller = \"Accounts\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(ErrandPayApp.API.RequestVms.LoginVm)" on controller "ErrandPayApp.API.Controllers.AccountsController" ("ErrandPayApp.API"). (122b2fdf)
2024-04-26T10:03:49.0301936+01:00 8000001d-0006-f900-b63f-84710c7967bb [INF] Executed DbCommand ("27"ms) [Parameters=["@__email_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[Email], [a].[PhoneNumber], [a].[SurName], [a].[FirstName], [a].[IsSuperAdmin], [a].[Id], [a].[MustChangePassword], [a].[LockoutCounter], [a].[IsLockedOut], [a].[LastLogin], [a].[DateAccountLocked], [a].[Title], [a].[No], [a].[Road], [a].[City], [a].[State], [a].[Country]
FROM [AppUsers] AS [a]
WHERE [a].[Email] = @__email_0" (0723d8ff)
2024-04-26T10:08:23.9253508+01:00 8000001d-0006-f900-b63f-84710c7967bb [INF] Executed DbCommand ("24"ms) [Parameters=["@__email_0='?' (Size = 450), @__ToSha256_1='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[Email], [a].[PhoneNumber], [a].[SurName], [a].[FirstName], [a].[IsSuperAdmin], [a].[Id], [a].[MustChangePassword], [a].[LockoutCounter], [a].[IsLockedOut], [a].[LastLogin], [a].[DateAccountLocked], [a].[Title], [a].[No], [a].[Road], [a].[City], [a].[State], [a].[Country]
FROM [AppUsers] AS [a]
WHERE ([a].[Email] = @__email_0) AND ([a].[Password] = @__ToSha256_1)" (0723d8ff)
2024-04-26T10:11:30.2061712+01:00 80000016-0002-fb00-b63f-84710c7967bb [INF] Request starting HTTP/2 POST https://localhost:44331/api/User application/json 325 (ca22a1cb)
2024-04-26T10:11:30.2077520+01:00 80000016-0002-fb00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2024-04-26T10:11:30.2083660+01:00 80000016-0002-fb00-b63f-84710c7967bb [INF] Executing endpoint '"ErrandPayApp.API.Controllers.UserController.CreateUser (ErrandPayApp.API)"' (500cc934)
2024-04-26T10:11:30.2209186+01:00 8000001d-0006-f900-b63f-84710c7967bb [INF] Executed DbCommand ("13"ms) [Parameters=["@__email_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[Id], [a].[City], [a].[Country], [a].[CreatedBy], [a].[CreatedDate], [a].[DateAccountLocked], [a].[Email], [a].[EmailConfirmationDate], [a].[FirstName], [a].[IsActive], [a].[IsDeleted], [a].[IsEmailConfirmed], [a].[IsLockedOut], [a].[IsSuperAdmin], [a].[LastLogin], [a].[LockoutCounter], [a].[ModifiedBy], [a].[ModifiedDate], [a].[MustChangePassword], [a].[No], [a].[Password], [a].[PhoneNumber], [a].[Road], [a].[State], [a].[SurName], [a].[Telephone], [a].[Title]
FROM [AppUsers] AS [a]
WHERE [a].[Email] = @__email_0" (0723d8ff)
2024-04-26T10:11:32.0166243+01:00 80000016-0002-fb00-b63f-84710c7967bb [INF] Route matched with "{action = \"CreateUser\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateUser(ErrandPayApp.API.RequestVms.UserVm)" on controller "ErrandPayApp.API.Controllers.UserController" ("ErrandPayApp.API"). (122b2fdf)
2024-04-26T10:11:32.0442722+01:00 8000001d-0006-f900-b63f-84710c7967bb [INF] Executed DbCommand ("8"ms) [Parameters=["@p2='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (DbType = DateTimeOffset)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [AppUsers] SET [LockoutCounter] = @p0, [ModifiedDate] = @p1
WHERE [Id] = @p2;
SELECT @@ROWCOUNT;" (0723d8ff)
2024-04-26T10:11:32.1611517+01:00 8000001d-0006-f900-b63f-84710c7967bb [INF] Executing JsonResult, writing value of type '"ErrandPayApp.Core.Models.ResponseModel`1[[System.Object, System.Private.CoreLib, Version=5.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'. (2f513669)
2024-04-26T10:11:32.1627955+01:00 8000001d-0006-f900-b63f-84710c7967bb [INF] Executed action "ErrandPayApp.API.Controllers.AccountsController.Login (ErrandPayApp.API)" in 469365.242ms (afa2e885)
2024-04-26T10:11:32.1628704+01:00 8000001d-0006-f900-b63f-84710c7967bb [INF] Executed endpoint '"ErrandPayApp.API.Controllers.AccountsController.Login (ErrandPayApp.API)"' (99874f2b)
2024-04-26T10:11:32.1634549+01:00 8000001d-0006-f900-b63f-84710c7967bb [INF] Request finished HTTP/2 POST https://localhost:44331/api/Accounts application/json 66 - 400 - application/json 469368.0413ms (791a596a)
2024-04-26T10:11:33.9990770+01:00 80000016-0002-fb00-b63f-84710c7967bb [INF] Entity Framework Core "5.0.6" initialized '"APPContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MaxPoolSize=128 " (9958f5bb)
2024-04-26T10:11:34.0023235+01:00 80000016-0002-fb00-b63f-84710c7967bb [INF] Executed DbCommand ("3"ms) [Parameters=["@__email_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[Email], [a].[PhoneNumber], [a].[SurName], [a].[FirstName], [a].[IsSuperAdmin], [a].[Id], [a].[MustChangePassword], [a].[LockoutCounter], [a].[IsLockedOut], [a].[LastLogin], [a].[DateAccountLocked], [a].[Title], [a].[No], [a].[Road], [a].[City], [a].[State], [a].[Country]
FROM [AppUsers] AS [a]
WHERE [a].[Email] = @__email_0" (0723d8ff)
2024-04-26T10:11:37.5336073+01:00 80000016-0002-fb00-b63f-84710c7967bb [INF] Executed DbCommand ("4"ms) [Parameters=["@p0='?' (Size = 450), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (DbType = DateTimeOffset), @p5='?' (DbType = DateTime2), @p6='?' (Size = 450), @p7='?' (DbType = DateTimeOffset), @p8='?' (Size = 4000), @p9='?' (DbType = Boolean), @p10='?' (DbType = Boolean), @p11='?' (DbType = Boolean), @p12='?' (DbType = Boolean), @p13='?' (DbType = Boolean), @p14='?' (DbType = DateTime2), @p15='?' (DbType = Int32), @p16='?' (Size = 4000), @p17='?' (DbType = DateTimeOffset), @p18='?' (DbType = Boolean), @p19='?' (Size = 4000), @p20='?' (Size = 4000), @p21='?' (Size = 4000), @p22='?' (Size = 4000), @p23='?' (Size = 4000), @p24='?' (Size = 4000), @p25='?' (Size = 4000), @p26='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [AppUsers] ([Id], [City], [Country], [CreatedBy], [CreatedDate], [DateAccountLocked], [Email], [EmailConfirmationDate], [FirstName], [IsActive], [IsDeleted], [IsEmailConfirmed], [IsLockedOut], [IsSuperAdmin], [LastLogin], [LockoutCounter], [ModifiedBy], [ModifiedDate], [MustChangePassword], [No], [Password], [PhoneNumber], [Road], [State], [SurName], [Telephone], [Title])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26);" (0723d8ff)
2024-04-26T10:11:37.5944463+01:00 80000016-0002-fb00-b63f-84710c7967bb [INF] Executed DbCommand ("6"ms) [Parameters=["@p0='?' (Size = 4000), @p1='?' (DbType = DateTimeOffset), @p2='?' (DbType = Boolean), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (DbType = DateTimeOffset), @p6='?' (DbType = Int64), @p7='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [UserRoles] ([CreatedBy], [CreatedDate], [IsActive], [IsDeleted], [ModifiedBy], [ModifiedDate], [RoleId], [UserId])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
SELECT [Id]
FROM [UserRoles]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();" (0723d8ff)
2024-04-26T10:11:37.6185242+01:00 80000016-0002-fb00-b63f-84710c7967bb [INF] Executing "OkObjectResult", writing value of type '"ErrandPayApp.Core.Models.ResponseModel`1[[ErrandPayApp.Core.Dtos.AppUserDto, ErrandPayApp.Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (605b4265)
2024-04-26T10:11:37.6298296+01:00 80000016-0002-fb00-b63f-84710c7967bb [INF] Executed action "ErrandPayApp.API.Controllers.UserController.CreateUser (ErrandPayApp.API)" in 5613.1284ms (afa2e885)
2024-04-26T10:11:37.6304874+01:00 80000016-0002-fb00-b63f-84710c7967bb [INF] Executed endpoint '"ErrandPayApp.API.Controllers.UserController.CreateUser (ErrandPayApp.API)"' (99874f2b)
2024-04-26T10:11:37.6527731+01:00 80000016-0002-fb00-b63f-84710c7967bb [ERR] An unhandled exception has occurred while executing the request. (48a46595)
System.InvalidOperationException: The JSON property name for 'ErrandPayApp.Core.Dtos.AppUserDto.SurName' collides with another property.
   at System.Text.Json.ThrowHelper.ThrowInvalidOperationException_SerializerPropertyNameConflict(Type type, JsonPropertyInfo jsonPropertyInfo)
   at System.Text.Json.JsonClassInfo.CacheMember(Type declaringType, Type memberType, MemberInfo memberInfo, Nullable`1 typeNumberHandling, Dictionary`2 cache, Dictionary`2& ignoredMembers)
   at System.Text.Json.JsonClassInfo..ctor(Type type, JsonSerializerOptions options)
   at System.Text.Json.JsonSerializerOptions.GetOrAddClass(Type type)
   at System.Text.Json.JsonPropertyInfo.get_RuntimeClassInfo()
   at System.Text.Json.WriteStack.Push()
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.WriteCore(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.WriteCoreAsObject(Utf8JsonWriter writer, Object value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonSerializer.WriteCore[TValue](JsonConverter jsonConverter, Utf8JsonWriter writer, TValue& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonSerializer.WriteAsyncCore[TValue](Stream utf8Json, TValue value, Type inputType, JsonSerializerOptions options, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResultFilterAsync>g__Awaited|29_0[TFilter,TFilterAsync](ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddleware.<Invoke>g__Awaited|6_0(ExceptionHandlerMiddleware middleware, HttpContext context, Task task)
2024-04-26T10:11:37.6872182+01:00 80000016-0002-fb00-b63f-84710c7967bb [ERR] Message => The JSON property name for 'ErrandPayApp.Core.Dtos.AppUserDto.SurName' collides with another property.|Stacktrace =>    at System.Text.Json.ThrowHelper.ThrowInvalidOperationException_SerializerPropertyNameConflict(Type type, JsonPropertyInfo jsonPropertyInfo)
   at System.Text.Json.JsonClassInfo.CacheMember(Type declaringType, Type memberType, MemberInfo memberInfo, Nullable`1 typeNumberHandling, Dictionary`2 cache, Dictionary`2& ignoredMembers)
   at System.Text.Json.JsonClassInfo..ctor(Type type, JsonSerializerOptions options)
   at System.Text.Json.JsonSerializerOptions.GetOrAddClass(Type type)
   at System.Text.Json.JsonPropertyInfo.get_RuntimeClassInfo()
   at System.Text.Json.WriteStack.Push()
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.WriteCore(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.WriteCoreAsObject(Utf8JsonWriter writer, Object value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonSerializer.WriteCore[TValue](JsonConverter jsonConverter, Utf8JsonWriter writer, TValue& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonSerializer.WriteAsyncCore[TValue](Stream utf8Json, TValue value, Type inputType, JsonSerializerOptions options, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResultFilterAsync>g__Awaited|29_0[TFilter,TFilterAsync](ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddleware.<Invoke>g__Awaited|6_0(ExceptionHandlerMiddleware middleware, HttpContext context, Task task)|InnerException =>  (691385d5)
System.InvalidOperationException: The JSON property name for 'ErrandPayApp.Core.Dtos.AppUserDto.SurName' collides with another property.
   at System.Text.Json.ThrowHelper.ThrowInvalidOperationException_SerializerPropertyNameConflict(Type type, JsonPropertyInfo jsonPropertyInfo)
   at System.Text.Json.JsonClassInfo.CacheMember(Type declaringType, Type memberType, MemberInfo memberInfo, Nullable`1 typeNumberHandling, Dictionary`2 cache, Dictionary`2& ignoredMembers)
   at System.Text.Json.JsonClassInfo..ctor(Type type, JsonSerializerOptions options)
   at System.Text.Json.JsonSerializerOptions.GetOrAddClass(Type type)
   at System.Text.Json.JsonPropertyInfo.get_RuntimeClassInfo()
   at System.Text.Json.WriteStack.Push()
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.WriteCore(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.WriteCoreAsObject(Utf8JsonWriter writer, Object value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonSerializer.WriteCore[TValue](JsonConverter jsonConverter, Utf8JsonWriter writer, TValue& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonSerializer.WriteAsyncCore[TValue](Stream utf8Json, TValue value, Type inputType, JsonSerializerOptions options, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResultFilterAsync>g__Awaited|29_0[TFilter,TFilterAsync](ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddleware.<Invoke>g__Awaited|6_0(ExceptionHandlerMiddleware middleware, HttpContext context, Task task)
2024-04-26T10:11:37.7899007+01:00 80000016-0002-fb00-b63f-84710c7967bb [INF] Request finished HTTP/2 POST https://localhost:44331/api/User application/json 325 - 500 - application/json 7583.7422ms (791a596a)
2024-04-26T10:12:12.5702664+01:00 80000015-0004-fb00-b63f-84710c7967bb [INF] Request starting HTTP/2 POST https://localhost:44331/api/Accounts application/json 62 (ca22a1cb)
2024-04-26T10:12:12.5703235+01:00 80000015-0004-fb00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2024-04-26T10:12:12.5704170+01:00 80000015-0004-fb00-b63f-84710c7967bb [INF] Executing endpoint '"ErrandPayApp.API.Controllers.AccountsController.Login (ErrandPayApp.API)"' (500cc934)
2024-04-26T10:12:12.5704956+01:00 80000015-0004-fb00-b63f-84710c7967bb [INF] Route matched with "{action = \"Login\", controller = \"Accounts\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(ErrandPayApp.API.RequestVms.LoginVm)" on controller "ErrandPayApp.API.Controllers.AccountsController" ("ErrandPayApp.API"). (122b2fdf)
2024-04-26T10:12:20.1518838+01:00 80000015-0004-fb00-b63f-84710c7967bb [INF] Executed DbCommand ("21"ms) [Parameters=["@__email_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[Email], [a].[PhoneNumber], [a].[SurName], [a].[FirstName], [a].[IsSuperAdmin], [a].[Id], [a].[MustChangePassword], [a].[LockoutCounter], [a].[IsLockedOut], [a].[LastLogin], [a].[DateAccountLocked], [a].[Title], [a].[No], [a].[Road], [a].[City], [a].[State], [a].[Country]
FROM [AppUsers] AS [a]
WHERE [a].[Email] = @__email_0" (0723d8ff)
2024-04-26T10:12:22.8452916+01:00 80000015-0004-fb00-b63f-84710c7967bb [INF] Executed DbCommand ("5"ms) [Parameters=["@__email_0='?' (Size = 450), @__ToSha256_1='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[Email], [a].[PhoneNumber], [a].[SurName], [a].[FirstName], [a].[IsSuperAdmin], [a].[Id], [a].[MustChangePassword], [a].[LockoutCounter], [a].[IsLockedOut], [a].[LastLogin], [a].[DateAccountLocked], [a].[Title], [a].[No], [a].[Road], [a].[City], [a].[State], [a].[Country]
FROM [AppUsers] AS [a]
WHERE ([a].[Email] = @__email_0) AND ([a].[Password] = @__ToSha256_1)" (0723d8ff)
2024-04-26T10:12:44.8170869+01:00 80000015-0004-fb00-b63f-84710c7967bb [INF] Executed DbCommand ("14"ms) [Parameters=["@__email_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[Id], [a].[City], [a].[Country], [a].[CreatedBy], [a].[CreatedDate], [a].[DateAccountLocked], [a].[Email], [a].[EmailConfirmationDate], [a].[FirstName], [a].[IsActive], [a].[IsDeleted], [a].[IsEmailConfirmed], [a].[IsLockedOut], [a].[IsSuperAdmin], [a].[LastLogin], [a].[LockoutCounter], [a].[ModifiedBy], [a].[ModifiedDate], [a].[MustChangePassword], [a].[No], [a].[Password], [a].[PhoneNumber], [a].[Road], [a].[State], [a].[SurName], [a].[Telephone], [a].[Title]
FROM [AppUsers] AS [a]
WHERE [a].[Email] = @__email_0" (0723d8ff)
2024-04-26T10:12:45.3571487+01:00 80000015-0004-fb00-b63f-84710c7967bb [INF] Executed DbCommand ("9"ms) [Parameters=["@p2='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (DbType = DateTimeOffset)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [AppUsers] SET [LockoutCounter] = @p0, [ModifiedDate] = @p1
WHERE [Id] = @p2;
SELECT @@ROWCOUNT;" (0723d8ff)
2024-04-26T10:12:45.4430478+01:00 80000015-0004-fb00-b63f-84710c7967bb [INF] Executing JsonResult, writing value of type '"ErrandPayApp.Core.Models.ResponseModel`1[[System.Object, System.Private.CoreLib, Version=5.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'. (2f513669)
2024-04-26T10:12:45.4433833+01:00 80000015-0004-fb00-b63f-84710c7967bb [INF] Executed action "ErrandPayApp.API.Controllers.AccountsController.Login (ErrandPayApp.API)" in 32872.8555ms (afa2e885)
2024-04-26T10:12:45.4434179+01:00 80000015-0004-fb00-b63f-84710c7967bb [INF] Executed endpoint '"ErrandPayApp.API.Controllers.AccountsController.Login (ErrandPayApp.API)"' (99874f2b)
2024-04-26T10:12:45.4436695+01:00 80000015-0004-fb00-b63f-84710c7967bb [INF] Request finished HTTP/2 POST https://localhost:44331/api/Accounts application/json 62 - 400 - application/json 32873.3807ms (791a596a)
2024-04-26T10:13:27.8627491+01:00  [INF] Entity Framework Core "5.0.6" initialized '"APPContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MaxPoolSize=128 " (9958f5bb)
2024-04-26T10:13:28.3360182+01:00  [INF] Executed DbCommand ("23"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1" (0723d8ff)
2024-04-26T10:13:28.3790186+01:00  [INF] Executed DbCommand ("31"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT OBJECT_ID(N'[__EFMigrationsHistory]');" (0723d8ff)
2024-04-26T10:13:28.3829780+01:00  [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1" (0723d8ff)
2024-04-26T10:13:28.3835786+01:00  [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT OBJECT_ID(N'[__EFMigrationsHistory]');" (0723d8ff)
2024-04-26T10:13:28.4011250+01:00  [INF] Executed DbCommand ("5"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];" (0723d8ff)
2024-04-26T10:13:28.4180562+01:00  [INF] No migrations were applied. The database is already up to date. (503cba9d)
2024-04-26T10:13:28.6736264+01:00  [INF] Executed DbCommand ("7"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [p].[PermissionName]
FROM [Permissions] AS [p]" (0723d8ff)
2024-04-26T10:13:28.7764195+01:00  [INF] Executed DbCommand ("22"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[Id], [a].[City], [a].[Country], [a].[CreatedBy], [a].[CreatedDate], [a].[DateAccountLocked], [a].[Email], [a].[EmailConfirmationDate], [a].[FirstName], [a].[IsActive], [a].[IsDeleted], [a].[IsEmailConfirmed], [a].[IsLockedOut], [a].[IsSuperAdmin], [a].[LastLogin], [a].[LockoutCounter], [a].[ModifiedBy], [a].[ModifiedDate], [a].[MustChangePassword], [a].[No], [a].[Password], [a].[PhoneNumber], [a].[Road], [a].[State], [a].[SurName], [a].[Telephone], [a].[Title]
FROM [AppUsers] AS [a]
WHERE [a].[IsSuperAdmin] = CAST(1 AS bit)" (0723d8ff)
2024-04-26T10:13:29.0068281+01:00  [INF] User profile is available. Using '"C:\Users\HP\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest. (7ac5e29c)
2024-04-26T10:13:29.0507278+01:00  [ERR] Message => One or more errors occurred. (Unable to track an entity of type 'AppUser' because its primary key property 'Id' is null.)|Stacktrace =>    at System.Threading.Tasks.Task`1.GetResultCore(Boolean waitCompletionNotification)
   at System.Threading.Tasks.Task`1.get_Result()
   at ErrandPayApp.Infrastructure.Configuration.DatabaseConfiguration.InitializeSupperUser(IServiceScope scope) in C:\Users\HP\source\repos\ErrandPayApp.API\ErrandPayApp.Infrastructure\Configuration\DatabaseConfiguration.cs:line 87|InnerException => System.InvalidOperationException: Unable to track an entity of type 'AppUser' because its primary key property 'Id' is null.
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.NullableKeyIdentityMap`1.Add(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.StartTracking(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState oldState, EntityState newState, Boolean acceptChanges, Boolean modifyProperties)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState entityState, Boolean acceptChanges, Boolean modifyProperties, Nullable`1 forceStateWhenUnknownKey)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.PaintAction(EntityEntryGraphNode`1 node)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityEntryGraphIterator.TraverseGraph[TState](EntityEntryGraphNode`1 node, Func`2 handleNode)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.AttachGraph(InternalEntityEntry rootEntry, EntityState targetState, EntityState storeGeneratedWithKeySetTargetState, Boolean forceStateWhenUnknownKey)
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.SetEntityState(InternalEntityEntry entry, EntityState entityState)
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.Add(TEntity entity)
   at ErrandPayApp.Data.Repositories.UserRepository.CreateDefaultUser() in C:\Users\HP\source\repos\ErrandPayApp.API\ErrandPayApp.Data\Repositories\UserRepository.cs:line 307 (2a14ea4d)
System.AggregateException: One or more errors occurred. (Unable to track an entity of type 'AppUser' because its primary key property 'Id' is null.)
 ---> System.InvalidOperationException: Unable to track an entity of type 'AppUser' because its primary key property 'Id' is null.
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.NullableKeyIdentityMap`1.Add(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.StartTracking(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState oldState, EntityState newState, Boolean acceptChanges, Boolean modifyProperties)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState entityState, Boolean acceptChanges, Boolean modifyProperties, Nullable`1 forceStateWhenUnknownKey)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.PaintAction(EntityEntryGraphNode`1 node)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityEntryGraphIterator.TraverseGraph[TState](EntityEntryGraphNode`1 node, Func`2 handleNode)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.AttachGraph(InternalEntityEntry rootEntry, EntityState targetState, EntityState storeGeneratedWithKeySetTargetState, Boolean forceStateWhenUnknownKey)
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.SetEntityState(InternalEntityEntry entry, EntityState entityState)
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.Add(TEntity entity)
   at ErrandPayApp.Data.Repositories.UserRepository.CreateDefaultUser() in C:\Users\HP\source\repos\ErrandPayApp.API\ErrandPayApp.Data\Repositories\UserRepository.cs:line 307
   --- End of inner exception stack trace ---
   at System.Threading.Tasks.Task`1.GetResultCore(Boolean waitCompletionNotification)
   at System.Threading.Tasks.Task`1.get_Result()
   at ErrandPayApp.Infrastructure.Configuration.DatabaseConfiguration.InitializeSupperUser(IServiceScope scope) in C:\Users\HP\source\repos\ErrandPayApp.API\ErrandPayApp.Infrastructure\Configuration\DatabaseConfiguration.cs:line 87
2024-04-26T10:13:29.2694770+01:00  [INF] Application started. Press Ctrl+C to shut down. (dcaefe54)
2024-04-26T10:13:29.2724001+01:00  [INF] Hosting environment: "Development" (c3307c92)
2024-04-26T10:13:29.2750215+01:00  [INF] Content root path: "C:\Users\HP\source\repos\ErrandPayApp.API\ErrandPayApp.API" (b5d60022)
2024-04-26T10:13:29.3272707+01:00 80000023-0007-ff00-b63f-84710c7967bb [INF] Request starting HTTP/2 GET https://localhost:44331/index.html - - (ca22a1cb)
2024-04-26T10:13:29.6822398+01:00 8000005c-0000-ff00-b63f-84710c7967bb [INF] Request starting HTTP/2 GET https://localhost:44331/_framework/aspnetcore-browser-refresh.js - - (ca22a1cb)
2024-04-26T10:13:29.6845907+01:00 80000023-0007-ff00-b63f-84710c7967bb [INF] Request finished HTTP/2 GET https://localhost:44331/index.html - - - 200 - text/html;charset=utf-8 360.0063ms (791a596a)
2024-04-26T10:13:29.6990463+01:00 8000005c-0000-ff00-b63f-84710c7967bb [INF] Request finished HTTP/2 GET https://localhost:44331/_framework/aspnetcore-browser-refresh.js - - - 200 12366 application/javascript;+charset=utf-8 16.4148ms (791a596a)
2024-04-26T10:13:29.8469227+01:00 8000005e-0000-ff00-b63f-84710c7967bb [INF] Request starting HTTP/2 GET https://localhost:44331/_vs/browserLink - - (ca22a1cb)
2024-04-26T10:13:29.9178041+01:00 8000005e-0000-ff00-b63f-84710c7967bb [INF] Request finished HTTP/2 GET https://localhost:44331/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 70.8677ms (791a596a)
2024-04-26T10:13:29.9779227+01:00 80000008-0005-fa00-b63f-84710c7967bb [INF] Request starting HTTP/2 GET https://localhost:44331/swagger/v1/swagger.json - - (ca22a1cb)
2024-04-26T10:13:30.1644029+01:00 80000008-0005-fa00-b63f-84710c7967bb [INF] Request finished HTTP/2 GET https://localhost:44331/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 186.4263ms (791a596a)
2024-04-26T10:16:03.4379493+01:00 80000025-0007-ff00-b63f-84710c7967bb [INF] Request starting HTTP/2 GET https://localhost:44331/api/Roles - - (ca22a1cb)
2024-04-26T10:16:03.5807558+01:00 80000025-0007-ff00-b63f-84710c7967bb [INF] Executing endpoint '"ErrandPayApp.API.Controllers.RolesController.GetRoles (ErrandPayApp.API)"' (500cc934)
2024-04-26T10:16:03.6002069+01:00 80000025-0007-ff00-b63f-84710c7967bb [INF] Route matched with "{action = \"GetRoles\", controller = \"Roles\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetRoles()" on controller "ErrandPayApp.API.Controllers.RolesController" ("ErrandPayApp.API"). (122b2fdf)
2024-04-26T10:16:03.6330934+01:00 80000025-0007-ff00-b63f-84710c7967bb [INF] Executed DbCommand ("19"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [r].[Id], [r].[CreatedBy], [r].[CreatedDate], [r].[IsActive], [r].[IsDeleted], [r].[ModifiedBy], [r].[ModifiedDate], [r].[RoleDescription], [r].[RoleName], [r].[RoleNameHash]
FROM [Roles] AS [r]
WHERE [r].[IsActive] = CAST(1 AS bit)" (0723d8ff)
2024-04-26T10:16:03.7143313+01:00 80000025-0007-ff00-b63f-84710c7967bb [INF] Executing "OkObjectResult", writing value of type '"ErrandPayApp.Core.Models.ResponseModel`1[[System.Object, System.Private.CoreLib, Version=5.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'. (605b4265)
2024-04-26T10:16:03.7380648+01:00 80000025-0007-ff00-b63f-84710c7967bb [INF] Executed action "ErrandPayApp.API.Controllers.RolesController.GetRoles (ErrandPayApp.API)" in 129.4101ms (afa2e885)
2024-04-26T10:16:03.7387706+01:00 80000025-0007-ff00-b63f-84710c7967bb [INF] Executed endpoint '"ErrandPayApp.API.Controllers.RolesController.GetRoles (ErrandPayApp.API)"' (99874f2b)
2024-04-26T10:16:03.7487426+01:00 80000025-0007-ff00-b63f-84710c7967bb [INF] Request finished HTTP/2 GET https://localhost:44331/api/Roles - - - 200 - application/json;+charset=utf-8 310.9799ms (791a596a)
2024-04-26T10:16:14.6187486+01:00 80000041-0001-fe00-b63f-84710c7967bb [INF] Request starting HTTP/2 GET https://localhost:44331/api/Roles/paginated?pageSize=20&pageNumber=1 - - (ca22a1cb)
2024-04-26T10:16:14.6301442+01:00 80000041-0001-fe00-b63f-84710c7967bb [INF] Executing endpoint '"ErrandPayApp.API.Controllers.RolesController.GetRole (ErrandPayApp.API)"' (500cc934)
2024-04-26T10:16:14.6502897+01:00 80000041-0001-fe00-b63f-84710c7967bb [INF] Route matched with "{action = \"GetRole\", controller = \"Roles\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetRole(Int32, Int32)" on controller "ErrandPayApp.API.Controllers.RolesController" ("ErrandPayApp.API"). (122b2fdf)
2024-04-26T10:16:14.6895572+01:00 80000041-0001-fe00-b63f-84710c7967bb [INF] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Roles] AS [r]" (0723d8ff)
2024-04-26T10:16:14.7341497+01:00 80000041-0001-fe00-b63f-84710c7967bb [INF] Executed DbCommand ("26"ms) [Parameters=["@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [r].[Id], [r].[CreatedBy], [r].[CreatedDate], [r].[IsActive], [r].[IsDeleted], [r].[ModifiedBy], [r].[ModifiedDate], [r].[RoleDescription], [r].[RoleName], [r].[RoleNameHash]
FROM [Roles] AS [r]
ORDER BY [r].[RoleName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY" (0723d8ff)
2024-04-26T10:16:14.7363379+01:00 80000041-0001-fe00-b63f-84710c7967bb [INF] Executing "OkObjectResult", writing value of type '"ErrandPayApp.Core.Models.Page`1[[ErrandPayApp.Core.Dtos.RoleDto, ErrandPayApp.Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (605b4265)
2024-04-26T10:16:14.7375384+01:00 80000041-0001-fe00-b63f-84710c7967bb [INF] Executed action "ErrandPayApp.API.Controllers.RolesController.GetRole (ErrandPayApp.API)" in 87.1906ms (afa2e885)
2024-04-26T10:16:14.7376053+01:00 80000041-0001-fe00-b63f-84710c7967bb [INF] Executed endpoint '"ErrandPayApp.API.Controllers.RolesController.GetRole (ErrandPayApp.API)"' (99874f2b)
2024-04-26T10:16:14.7385550+01:00 80000041-0001-fe00-b63f-84710c7967bb [INF] Request finished HTTP/2 GET https://localhost:44331/api/Roles/paginated?pageSize=20&pageNumber=1 - - - 200 - application/json;+charset=utf-8 119.7682ms (791a596a)
2024-04-26T10:17:46.5957326+01:00 80000062-0000-ff00-b63f-84710c7967bb [INF] Request starting HTTP/2 POST https://localhost:44331/api/Accounts application/json 62 (ca22a1cb)
2024-04-26T10:17:46.5992166+01:00 80000062-0000-ff00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2024-04-26T10:17:46.6022848+01:00 80000062-0000-ff00-b63f-84710c7967bb [INF] Executing endpoint '"ErrandPayApp.API.Controllers.AccountsController.Login (ErrandPayApp.API)"' (500cc934)
2024-04-26T10:17:46.6056825+01:00 80000062-0000-ff00-b63f-84710c7967bb [INF] Route matched with "{action = \"Login\", controller = \"Accounts\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(ErrandPayApp.API.RequestVms.LoginVm)" on controller "ErrandPayApp.API.Controllers.AccountsController" ("ErrandPayApp.API"). (122b2fdf)
2024-04-26T10:17:58.9229322+01:00 80000062-0000-ff00-b63f-84710c7967bb [INF] Executed DbCommand ("32"ms) [Parameters=["@__email_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[Email], [a].[PhoneNumber], [a].[SurName], [a].[FirstName], [a].[IsSuperAdmin], [a].[Id], [a].[MustChangePassword], [a].[LockoutCounter], [a].[IsLockedOut], [a].[LastLogin], [a].[DateAccountLocked], [a].[Title], [a].[No], [a].[Road], [a].[City], [a].[State], [a].[Country]
FROM [AppUsers] AS [a]
WHERE [a].[Email] = @__email_0" (0723d8ff)
2024-04-26T10:18:01.3503957+01:00 80000062-0000-ff00-b63f-84710c7967bb [INF] Executed DbCommand ("1"ms) [Parameters=["@__email_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[Email], [a].[PhoneNumber], [a].[SurName], [a].[FirstName], [a].[IsSuperAdmin], [a].[Id], [a].[MustChangePassword], [a].[LockoutCounter], [a].[IsLockedOut], [a].[LastLogin], [a].[DateAccountLocked], [a].[Title], [a].[No], [a].[Road], [a].[City], [a].[State], [a].[Country]
FROM [AppUsers] AS [a]
WHERE [a].[Email] = @__email_0" (0723d8ff)
2024-04-26T10:18:08.0911291+01:00 80000062-0000-ff00-b63f-84710c7967bb [INF] Executed DbCommand ("3"ms) [Parameters=["@__email_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[Id], [a].[City], [a].[Country], [a].[CreatedBy], [a].[CreatedDate], [a].[DateAccountLocked], [a].[Email], [a].[EmailConfirmationDate], [a].[FirstName], [a].[IsActive], [a].[IsDeleted], [a].[IsEmailConfirmed], [a].[IsLockedOut], [a].[IsSuperAdmin], [a].[LastLogin], [a].[LockoutCounter], [a].[ModifiedBy], [a].[ModifiedDate], [a].[MustChangePassword], [a].[No], [a].[Password], [a].[PhoneNumber], [a].[Road], [a].[State], [a].[SurName], [a].[Telephone], [a].[Title]
FROM [AppUsers] AS [a]
WHERE [a].[Email] = @__email_0" (0723d8ff)
2024-04-26T10:18:09.9265455+01:00 80000062-0000-ff00-b63f-84710c7967bb [INF] Executed DbCommand ("10"ms) [Parameters=["@p2='?' (Size = 450), @p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTimeOffset)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [AppUsers] SET [LastLogin] = @p0, [ModifiedDate] = @p1
WHERE [Id] = @p2;
SELECT @@ROWCOUNT;" (0723d8ff)
2024-04-26T10:18:09.9896728+01:00 80000062-0000-ff00-b63f-84710c7967bb [INF] Executed DbCommand ("14"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [r].[RoleName], [r].[Id]
FROM [UserRoles] AS [u]
INNER JOIN [Roles] AS [r] ON [u].[RoleId] = [r].[Id]
INNER JOIN [AppUsers] AS [a] ON [u].[UserId] = [a].[Id]
WHERE [u].[UserId] = @__userId_0" (0723d8ff)
2024-04-26T10:18:10.1034508+01:00 80000062-0000-ff00-b63f-84710c7967bb [INF] Executing JsonResult, writing value of type '"ErrandPayApp.Core.Models.ResponseModel`1[[System.Object, System.Private.CoreLib, Version=5.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'. (2f513669)
2024-04-26T10:18:10.1077983+01:00 80000062-0000-ff00-b63f-84710c7967bb [INF] Executed action "ErrandPayApp.API.Controllers.AccountsController.Login (ErrandPayApp.API)" in 23502.0695ms (afa2e885)
2024-04-26T10:18:10.1078946+01:00 80000062-0000-ff00-b63f-84710c7967bb [INF] Executed endpoint '"ErrandPayApp.API.Controllers.AccountsController.Login (ErrandPayApp.API)"' (99874f2b)
2024-04-26T10:18:10.1083240+01:00 80000062-0000-ff00-b63f-84710c7967bb [INF] Request finished HTTP/2 POST https://localhost:44331/api/Accounts application/json 62 - 500 - application/json 23512.6360ms (791a596a)
2024-04-26T10:21:23.6149418+01:00 80000027-0007-ff00-b63f-84710c7967bb [INF] Request starting HTTP/2 POST https://localhost:44331/api/Accounts application/json 62 (ca22a1cb)
2024-04-26T10:21:23.6151163+01:00 80000027-0007-ff00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2024-04-26T10:21:23.6152667+01:00 80000027-0007-ff00-b63f-84710c7967bb [INF] Executing endpoint '"ErrandPayApp.API.Controllers.AccountsController.Login (ErrandPayApp.API)"' (500cc934)
2024-04-26T10:21:23.6154317+01:00 80000027-0007-ff00-b63f-84710c7967bb [INF] Route matched with "{action = \"Login\", controller = \"Accounts\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(ErrandPayApp.API.RequestVms.LoginVm)" on controller "ErrandPayApp.API.Controllers.AccountsController" ("ErrandPayApp.API"). (122b2fdf)
2024-04-26T10:21:23.6431810+01:00 80000027-0007-ff00-b63f-84710c7967bb [INF] Executed DbCommand ("20"ms) [Parameters=["@__email_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[Email], [a].[PhoneNumber], [a].[SurName], [a].[FirstName], [a].[IsSuperAdmin], [a].[Id], [a].[MustChangePassword], [a].[LockoutCounter], [a].[IsLockedOut], [a].[LastLogin], [a].[DateAccountLocked], [a].[Title], [a].[No], [a].[Road], [a].[City], [a].[State], [a].[Country]
FROM [AppUsers] AS [a]
WHERE [a].[Email] = @__email_0" (0723d8ff)
2024-04-26T10:21:26.9699147+01:00 80000027-0007-ff00-b63f-84710c7967bb [INF] Executed DbCommand ("2"ms) [Parameters=["@__email_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[Email], [a].[PhoneNumber], [a].[SurName], [a].[FirstName], [a].[IsSuperAdmin], [a].[Id], [a].[MustChangePassword], [a].[LockoutCounter], [a].[IsLockedOut], [a].[LastLogin], [a].[DateAccountLocked], [a].[Title], [a].[No], [a].[Road], [a].[City], [a].[State], [a].[Country]
FROM [AppUsers] AS [a]
WHERE [a].[Email] = @__email_0" (0723d8ff)
2024-04-26T10:21:26.9743522+01:00 80000027-0007-ff00-b63f-84710c7967bb [INF] Executed DbCommand ("4"ms) [Parameters=["@__email_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[Id], [a].[City], [a].[Country], [a].[CreatedBy], [a].[CreatedDate], [a].[DateAccountLocked], [a].[Email], [a].[EmailConfirmationDate], [a].[FirstName], [a].[IsActive], [a].[IsDeleted], [a].[IsEmailConfirmed], [a].[IsLockedOut], [a].[IsSuperAdmin], [a].[LastLogin], [a].[LockoutCounter], [a].[ModifiedBy], [a].[ModifiedDate], [a].[MustChangePassword], [a].[No], [a].[Password], [a].[PhoneNumber], [a].[Road], [a].[State], [a].[SurName], [a].[Telephone], [a].[Title]
FROM [AppUsers] AS [a]
WHERE [a].[Email] = @__email_0" (0723d8ff)
2024-04-26T10:21:27.6803260+01:00 80000027-0007-ff00-b63f-84710c7967bb [INF] Executed DbCommand ("10"ms) [Parameters=["@p2='?' (Size = 450), @p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTimeOffset)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [AppUsers] SET [LastLogin] = @p0, [ModifiedDate] = @p1
WHERE [Id] = @p2;
SELECT @@ROWCOUNT;" (0723d8ff)
2024-04-26T10:21:27.6885499+01:00 80000027-0007-ff00-b63f-84710c7967bb [INF] Executed DbCommand ("6"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [r].[RoleName], [r].[Id]
FROM [UserRoles] AS [u]
INNER JOIN [Roles] AS [r] ON [u].[RoleId] = [r].[Id]
INNER JOIN [AppUsers] AS [a] ON [u].[UserId] = [a].[Id]
WHERE [u].[UserId] = @__userId_0" (0723d8ff)
2024-04-26T10:21:27.7844485+01:00 80000027-0007-ff00-b63f-84710c7967bb [INF] Executing JsonResult, writing value of type '"ErrandPayApp.Core.Models.ResponseModel`1[[System.Object, System.Private.CoreLib, Version=5.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'. (2f513669)
2024-04-26T10:21:27.7904555+01:00 80000027-0007-ff00-b63f-84710c7967bb [INF] Executed action "ErrandPayApp.API.Controllers.AccountsController.Login (ErrandPayApp.API)" in 4174.9767ms (afa2e885)
2024-04-26T10:21:27.7905685+01:00 80000027-0007-ff00-b63f-84710c7967bb [INF] Executed endpoint '"ErrandPayApp.API.Controllers.AccountsController.Login (ErrandPayApp.API)"' (99874f2b)
2024-04-26T10:21:27.7909144+01:00 80000027-0007-ff00-b63f-84710c7967bb [INF] Request finished HTTP/2 POST https://localhost:44331/api/Accounts application/json 62 - 500 - application/json 4175.9584ms (791a596a)
2024-04-26T10:21:31.0069454+01:00 8000000a-0005-fa00-b63f-84710c7967bb [INF] Request starting HTTP/2 POST https://localhost:44331/api/Accounts application/json 62 (ca22a1cb)
2024-04-26T10:21:31.0070263+01:00 8000000a-0005-fa00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2024-04-26T10:21:31.0071711+01:00 8000000a-0005-fa00-b63f-84710c7967bb [INF] Executing endpoint '"ErrandPayApp.API.Controllers.AccountsController.Login (ErrandPayApp.API)"' (500cc934)
2024-04-26T10:21:31.0072683+01:00 8000000a-0005-fa00-b63f-84710c7967bb [INF] Route matched with "{action = \"Login\", controller = \"Accounts\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(ErrandPayApp.API.RequestVms.LoginVm)" on controller "ErrandPayApp.API.Controllers.AccountsController" ("ErrandPayApp.API"). (122b2fdf)
2024-04-26T10:21:31.0347047+01:00 8000000a-0005-fa00-b63f-84710c7967bb [INF] Executed DbCommand ("3"ms) [Parameters=["@__email_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[Email], [a].[PhoneNumber], [a].[SurName], [a].[FirstName], [a].[IsSuperAdmin], [a].[Id], [a].[MustChangePassword], [a].[LockoutCounter], [a].[IsLockedOut], [a].[LastLogin], [a].[DateAccountLocked], [a].[Title], [a].[No], [a].[Road], [a].[City], [a].[State], [a].[Country]
FROM [AppUsers] AS [a]
WHERE [a].[Email] = @__email_0" (0723d8ff)
2024-04-26T10:21:33.5575830+01:00 8000000a-0005-fa00-b63f-84710c7967bb [INF] Executed DbCommand ("1"ms) [Parameters=["@__email_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[Email], [a].[PhoneNumber], [a].[SurName], [a].[FirstName], [a].[IsSuperAdmin], [a].[Id], [a].[MustChangePassword], [a].[LockoutCounter], [a].[IsLockedOut], [a].[LastLogin], [a].[DateAccountLocked], [a].[Title], [a].[No], [a].[Road], [a].[City], [a].[State], [a].[Country]
FROM [AppUsers] AS [a]
WHERE [a].[Email] = @__email_0" (0723d8ff)
2024-04-26T10:22:01.8658723+01:00 8000000a-0005-fa00-b63f-84710c7967bb [INF] Executed DbCommand ("35"ms) [Parameters=["@__email_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[Id], [a].[City], [a].[Country], [a].[CreatedBy], [a].[CreatedDate], [a].[DateAccountLocked], [a].[Email], [a].[EmailConfirmationDate], [a].[FirstName], [a].[IsActive], [a].[IsDeleted], [a].[IsEmailConfirmed], [a].[IsLockedOut], [a].[IsSuperAdmin], [a].[LastLogin], [a].[LockoutCounter], [a].[ModifiedBy], [a].[ModifiedDate], [a].[MustChangePassword], [a].[No], [a].[Password], [a].[PhoneNumber], [a].[Road], [a].[State], [a].[SurName], [a].[Telephone], [a].[Title]
FROM [AppUsers] AS [a]
WHERE [a].[Email] = @__email_0" (0723d8ff)
2024-04-26T10:22:09.4255146+01:00 8000000a-0005-fa00-b63f-84710c7967bb [INF] Executed DbCommand ("9"ms) [Parameters=["@p2='?' (Size = 450), @p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTimeOffset)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [AppUsers] SET [LastLogin] = @p0, [ModifiedDate] = @p1
WHERE [Id] = @p2;
SELECT @@ROWCOUNT;" (0723d8ff)
2024-04-26T10:22:09.4345174+01:00 8000000a-0005-fa00-b63f-84710c7967bb [INF] Executed DbCommand ("8"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [r].[RoleName], [r].[Id]
FROM [UserRoles] AS [u]
INNER JOIN [Roles] AS [r] ON [u].[RoleId] = [r].[Id]
INNER JOIN [AppUsers] AS [a] ON [u].[UserId] = [a].[Id]
WHERE [u].[UserId] = @__userId_0" (0723d8ff)
2024-04-26T10:22:09.5148360+01:00 8000000a-0005-fa00-b63f-84710c7967bb [INF] Executing JsonResult, writing value of type '"ErrandPayApp.Core.Models.ResponseModel`1[[System.Object, System.Private.CoreLib, Version=5.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'. (2f513669)
2024-04-26T10:22:09.5151337+01:00 8000000a-0005-fa00-b63f-84710c7967bb [INF] Executed action "ErrandPayApp.API.Controllers.AccountsController.Login (ErrandPayApp.API)" in 38507.8395ms (afa2e885)
2024-04-26T10:22:09.5151726+01:00 8000000a-0005-fa00-b63f-84710c7967bb [INF] Executed endpoint '"ErrandPayApp.API.Controllers.AccountsController.Login (ErrandPayApp.API)"' (99874f2b)
2024-04-26T10:22:09.5155155+01:00 8000000a-0005-fa00-b63f-84710c7967bb [INF] Request finished HTTP/2 POST https://localhost:44331/api/Accounts application/json 62 - 500 - application/json 38508.5610ms (791a596a)
2024-04-26T10:23:35.3829133+01:00  [INF] Entity Framework Core "5.0.6" initialized '"APPContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MaxPoolSize=128 " (9958f5bb)
2024-04-26T10:23:35.8458008+01:00  [INF] Executed DbCommand ("28"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1" (0723d8ff)
2024-04-26T10:23:35.8949487+01:00  [INF] Executed DbCommand ("36"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT OBJECT_ID(N'[__EFMigrationsHistory]');" (0723d8ff)
2024-04-26T10:23:35.8984963+01:00  [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1" (0723d8ff)
2024-04-26T10:23:35.8993479+01:00  [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT OBJECT_ID(N'[__EFMigrationsHistory]');" (0723d8ff)
2024-04-26T10:23:35.9183152+01:00  [INF] Executed DbCommand ("5"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];" (0723d8ff)
2024-04-26T10:23:35.9361950+01:00  [INF] No migrations were applied. The database is already up to date. (503cba9d)
2024-04-26T10:23:36.1822140+01:00  [INF] Executed DbCommand ("7"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [p].[PermissionName]
FROM [Permissions] AS [p]" (0723d8ff)
2024-04-26T10:23:36.2987602+01:00  [INF] Executed DbCommand ("32"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[Id], [a].[City], [a].[Country], [a].[CreatedBy], [a].[CreatedDate], [a].[DateAccountLocked], [a].[Email], [a].[EmailConfirmationDate], [a].[FirstName], [a].[IsActive], [a].[IsDeleted], [a].[IsEmailConfirmed], [a].[IsLockedOut], [a].[IsSuperAdmin], [a].[LastLogin], [a].[LockoutCounter], [a].[ModifiedBy], [a].[ModifiedDate], [a].[MustChangePassword], [a].[No], [a].[Password], [a].[PhoneNumber], [a].[Road], [a].[State], [a].[SurName], [a].[Telephone], [a].[Title]
FROM [AppUsers] AS [a]
WHERE [a].[IsSuperAdmin] = CAST(1 AS bit)" (0723d8ff)
2024-04-26T10:23:36.5187308+01:00  [INF] User profile is available. Using '"C:\Users\HP\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest. (7ac5e29c)
2024-04-26T10:23:36.5538214+01:00  [ERR] Message => One or more errors occurred. (Unable to track an entity of type 'AppUser' because its primary key property 'Id' is null.)|Stacktrace =>    at System.Threading.Tasks.Task`1.GetResultCore(Boolean waitCompletionNotification)
   at System.Threading.Tasks.Task`1.get_Result()
   at ErrandPayApp.Infrastructure.Configuration.DatabaseConfiguration.InitializeSupperUser(IServiceScope scope) in C:\Users\HP\source\repos\ErrandPayApp.API\ErrandPayApp.Infrastructure\Configuration\DatabaseConfiguration.cs:line 87|InnerException => System.InvalidOperationException: Unable to track an entity of type 'AppUser' because its primary key property 'Id' is null.
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.NullableKeyIdentityMap`1.Add(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.StartTracking(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState oldState, EntityState newState, Boolean acceptChanges, Boolean modifyProperties)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState entityState, Boolean acceptChanges, Boolean modifyProperties, Nullable`1 forceStateWhenUnknownKey)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.PaintAction(EntityEntryGraphNode`1 node)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityEntryGraphIterator.TraverseGraph[TState](EntityEntryGraphNode`1 node, Func`2 handleNode)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.AttachGraph(InternalEntityEntry rootEntry, EntityState targetState, EntityState storeGeneratedWithKeySetTargetState, Boolean forceStateWhenUnknownKey)
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.SetEntityState(InternalEntityEntry entry, EntityState entityState)
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.Add(TEntity entity)
   at ErrandPayApp.Data.Repositories.UserRepository.CreateDefaultUser() in C:\Users\HP\source\repos\ErrandPayApp.API\ErrandPayApp.Data\Repositories\UserRepository.cs:line 307 (2a14ea4d)
System.AggregateException: One or more errors occurred. (Unable to track an entity of type 'AppUser' because its primary key property 'Id' is null.)
 ---> System.InvalidOperationException: Unable to track an entity of type 'AppUser' because its primary key property 'Id' is null.
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.NullableKeyIdentityMap`1.Add(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.StartTracking(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState oldState, EntityState newState, Boolean acceptChanges, Boolean modifyProperties)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState entityState, Boolean acceptChanges, Boolean modifyProperties, Nullable`1 forceStateWhenUnknownKey)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.PaintAction(EntityEntryGraphNode`1 node)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityEntryGraphIterator.TraverseGraph[TState](EntityEntryGraphNode`1 node, Func`2 handleNode)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.AttachGraph(InternalEntityEntry rootEntry, EntityState targetState, EntityState storeGeneratedWithKeySetTargetState, Boolean forceStateWhenUnknownKey)
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.SetEntityState(InternalEntityEntry entry, EntityState entityState)
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.Add(TEntity entity)
   at ErrandPayApp.Data.Repositories.UserRepository.CreateDefaultUser() in C:\Users\HP\source\repos\ErrandPayApp.API\ErrandPayApp.Data\Repositories\UserRepository.cs:line 307
   --- End of inner exception stack trace ---
   at System.Threading.Tasks.Task`1.GetResultCore(Boolean waitCompletionNotification)
   at System.Threading.Tasks.Task`1.get_Result()
   at ErrandPayApp.Infrastructure.Configuration.DatabaseConfiguration.InitializeSupperUser(IServiceScope scope) in C:\Users\HP\source\repos\ErrandPayApp.API\ErrandPayApp.Infrastructure\Configuration\DatabaseConfiguration.cs:line 87
2024-04-26T10:23:36.7584656+01:00  [INF] Application started. Press Ctrl+C to shut down. (dcaefe54)
2024-04-26T10:23:36.7695269+01:00  [INF] Hosting environment: "Development" (c3307c92)
2024-04-26T10:23:36.7719987+01:00  [INF] Content root path: "C:\Users\HP\source\repos\ErrandPayApp.API\ErrandPayApp.API" (b5d60022)
2024-04-26T10:23:36.8121478+01:00 8000000c-0005-fa00-b63f-84710c7967bb [INF] Request starting HTTP/2 GET https://localhost:44331/index.html - - (ca22a1cb)
2024-04-26T10:23:37.1467090+01:00 80000018-0004-fb00-b63f-84710c7967bb [INF] Request starting HTTP/2 GET https://localhost:44331/_framework/aspnetcore-browser-refresh.js - - (ca22a1cb)
2024-04-26T10:23:37.1494973+01:00 8000000c-0005-fa00-b63f-84710c7967bb [INF] Request finished HTTP/2 GET https://localhost:44331/index.html - - - 200 - text/html;charset=utf-8 339.6682ms (791a596a)
2024-04-26T10:23:37.1660149+01:00 80000018-0004-fb00-b63f-84710c7967bb [INF] Request finished HTTP/2 GET https://localhost:44331/_framework/aspnetcore-browser-refresh.js - - - 200 12366 application/javascript;+charset=utf-8 13.5465ms (791a596a)
2024-04-26T10:23:37.3120482+01:00 8000001a-0004-fb00-b63f-84710c7967bb [INF] Request starting HTTP/2 GET https://localhost:44331/_vs/browserLink - - (ca22a1cb)
2024-04-26T10:23:37.3967793+01:00 8000001a-0004-fb00-b63f-84710c7967bb [INF] Request finished HTTP/2 GET https://localhost:44331/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 84.6810ms (791a596a)
2024-04-26T10:23:37.4642245+01:00 80000070-0006-fd00-b63f-84710c7967bb [INF] Request starting HTTP/2 GET https://localhost:44331/swagger/v1/swagger.json - - (ca22a1cb)
2024-04-26T10:23:37.6401175+01:00 80000070-0006-fd00-b63f-84710c7967bb [INF] Request finished HTTP/2 GET https://localhost:44331/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 175.8713ms (791a596a)
2024-04-26T10:29:23.6508325+01:00 80000006-0007-f900-b63f-84710c7967bb [INF] Request starting HTTP/2 POST https://localhost:44331/api/Accounts application/json 62 (ca22a1cb)
2024-04-26T10:29:23.6551003+01:00 80000006-0007-f900-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2024-04-26T10:29:23.7708226+01:00 80000006-0007-f900-b63f-84710c7967bb [INF] Executing endpoint '"ErrandPayApp.API.Controllers.AccountsController.Login (ErrandPayApp.API)"' (500cc934)
2024-04-26T10:29:23.7988550+01:00 80000006-0007-f900-b63f-84710c7967bb [INF] Route matched with "{action = \"Login\", controller = \"Accounts\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(ErrandPayApp.API.RequestVms.LoginVm)" on controller "ErrandPayApp.API.Controllers.AccountsController" ("ErrandPayApp.API"). (122b2fdf)
2024-04-26T10:29:23.8965704+01:00 80000006-0007-f900-b63f-84710c7967bb [INF] Executed DbCommand ("38"ms) [Parameters=["@__email_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[Email], [a].[PhoneNumber], [a].[SurName], [a].[FirstName], [a].[IsSuperAdmin], [a].[Id], [a].[MustChangePassword], [a].[LockoutCounter], [a].[IsLockedOut], [a].[LastLogin], [a].[DateAccountLocked], [a].[Title], [a].[No], [a].[Road], [a].[City], [a].[State], [a].[Country]
FROM [AppUsers] AS [a]
WHERE [a].[Email] = @__email_0" (0723d8ff)
2024-04-26T10:29:26.1760203+01:00 80000006-0007-f900-b63f-84710c7967bb [INF] Executed DbCommand ("1"ms) [Parameters=["@__email_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[Email], [a].[PhoneNumber], [a].[SurName], [a].[FirstName], [a].[IsSuperAdmin], [a].[Id], [a].[MustChangePassword], [a].[LockoutCounter], [a].[IsLockedOut], [a].[LastLogin], [a].[DateAccountLocked], [a].[Title], [a].[No], [a].[Road], [a].[City], [a].[State], [a].[Country]
FROM [AppUsers] AS [a]
WHERE [a].[Email] = @__email_0" (0723d8ff)
2024-04-26T10:29:26.7594040+01:00 80000006-0007-f900-b63f-84710c7967bb [INF] Executed DbCommand ("3"ms) [Parameters=["@__email_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[Id], [a].[City], [a].[Country], [a].[CreatedBy], [a].[CreatedDate], [a].[DateAccountLocked], [a].[Email], [a].[EmailConfirmationDate], [a].[FirstName], [a].[IsActive], [a].[IsDeleted], [a].[IsEmailConfirmed], [a].[IsLockedOut], [a].[IsSuperAdmin], [a].[LastLogin], [a].[LockoutCounter], [a].[ModifiedBy], [a].[ModifiedDate], [a].[MustChangePassword], [a].[No], [a].[Password], [a].[PhoneNumber], [a].[Road], [a].[State], [a].[SurName], [a].[Telephone], [a].[Title]
FROM [AppUsers] AS [a]
WHERE [a].[Email] = @__email_0" (0723d8ff)
2024-04-26T10:29:26.9512787+01:00 80000006-0007-f900-b63f-84710c7967bb [INF] Executed DbCommand ("7"ms) [Parameters=["@p3='?' (Size = 450), @p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTimeOffset)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [AppUsers] SET [LastLogin] = @p0, [ModifiedBy] = @p1, [ModifiedDate] = @p2
WHERE [Id] = @p3;
SELECT @@ROWCOUNT;" (0723d8ff)
2024-04-26T10:29:27.0301011+01:00 80000006-0007-f900-b63f-84710c7967bb [INF] Executed DbCommand ("6"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [r].[RoleName], [r].[Id]
FROM [UserRoles] AS [u]
INNER JOIN [Roles] AS [r] ON [u].[RoleId] = [r].[Id]
INNER JOIN [AppUsers] AS [a] ON [u].[UserId] = [a].[Id]
WHERE [u].[UserId] = @__userId_0" (0723d8ff)
2024-04-26T10:29:27.1525851+01:00 80000006-0007-f900-b63f-84710c7967bb [INF] Executing JsonResult, writing value of type '"ErrandPayApp.Core.Models.ResponseModel`1[[System.Object, System.Private.CoreLib, Version=5.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'. (2f513669)
2024-04-26T10:29:27.1658866+01:00 80000006-0007-f900-b63f-84710c7967bb [INF] Executed action "ErrandPayApp.API.Controllers.AccountsController.Login (ErrandPayApp.API)" in 3359.8539ms (afa2e885)
2024-04-26T10:29:27.1664273+01:00 80000006-0007-f900-b63f-84710c7967bb [INF] Executed endpoint '"ErrandPayApp.API.Controllers.AccountsController.Login (ErrandPayApp.API)"' (99874f2b)
2024-04-26T10:29:27.1732817+01:00 80000006-0007-f900-b63f-84710c7967bb [INF] Request finished HTTP/2 POST https://localhost:44331/api/Accounts application/json 62 - 500 - application/json 3522.6214ms (791a596a)
2024-04-26T10:29:31.5761918+01:00 80000021-0006-f900-b63f-84710c7967bb [INF] Request starting HTTP/2 POST https://localhost:44331/api/Accounts application/json 62 (ca22a1cb)
2024-04-26T10:29:31.5763460+01:00 80000021-0006-f900-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2024-04-26T10:29:31.5788597+01:00 80000021-0006-f900-b63f-84710c7967bb [INF] Executing endpoint '"ErrandPayApp.API.Controllers.AccountsController.Login (ErrandPayApp.API)"' (500cc934)
2024-04-26T10:29:31.5791464+01:00 80000021-0006-f900-b63f-84710c7967bb [INF] Route matched with "{action = \"Login\", controller = \"Accounts\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(ErrandPayApp.API.RequestVms.LoginVm)" on controller "ErrandPayApp.API.Controllers.AccountsController" ("ErrandPayApp.API"). (122b2fdf)
2024-04-26T10:29:31.5838194+01:00 80000021-0006-f900-b63f-84710c7967bb [INF] Executed DbCommand ("2"ms) [Parameters=["@__email_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[Email], [a].[PhoneNumber], [a].[SurName], [a].[FirstName], [a].[IsSuperAdmin], [a].[Id], [a].[MustChangePassword], [a].[LockoutCounter], [a].[IsLockedOut], [a].[LastLogin], [a].[DateAccountLocked], [a].[Title], [a].[No], [a].[Road], [a].[City], [a].[State], [a].[Country]
FROM [AppUsers] AS [a]
WHERE [a].[Email] = @__email_0" (0723d8ff)
2024-04-26T10:29:35.3529774+01:00 80000021-0006-f900-b63f-84710c7967bb [INF] Executed DbCommand ("1"ms) [Parameters=["@__email_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[Email], [a].[PhoneNumber], [a].[SurName], [a].[FirstName], [a].[IsSuperAdmin], [a].[Id], [a].[MustChangePassword], [a].[LockoutCounter], [a].[IsLockedOut], [a].[LastLogin], [a].[DateAccountLocked], [a].[Title], [a].[No], [a].[Road], [a].[City], [a].[State], [a].[Country]
FROM [AppUsers] AS [a]
WHERE [a].[Email] = @__email_0" (0723d8ff)
2024-04-26T10:29:37.8166598+01:00 80000021-0006-f900-b63f-84710c7967bb [INF] Executed DbCommand ("1"ms) [Parameters=["@__email_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[Id], [a].[City], [a].[Country], [a].[CreatedBy], [a].[CreatedDate], [a].[DateAccountLocked], [a].[Email], [a].[EmailConfirmationDate], [a].[FirstName], [a].[IsActive], [a].[IsDeleted], [a].[IsEmailConfirmed], [a].[IsLockedOut], [a].[IsSuperAdmin], [a].[LastLogin], [a].[LockoutCounter], [a].[ModifiedBy], [a].[ModifiedDate], [a].[MustChangePassword], [a].[No], [a].[Password], [a].[PhoneNumber], [a].[Road], [a].[State], [a].[SurName], [a].[Telephone], [a].[Title]
FROM [AppUsers] AS [a]
WHERE [a].[Email] = @__email_0" (0723d8ff)
2024-04-26T10:29:43.1289316+01:00 80000021-0006-f900-b63f-84710c7967bb [INF] Executed DbCommand ("27"ms) [Parameters=["@p2='?' (Size = 450), @p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTimeOffset)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [AppUsers] SET [LastLogin] = @p0, [ModifiedDate] = @p1
WHERE [Id] = @p2;
SELECT @@ROWCOUNT;" (0723d8ff)
2024-04-26T10:33:58.4538514+01:00 80000021-0006-f900-b63f-84710c7967bb [INF] Executed DbCommand ("13"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [r].[RoleName], [r].[Id]
FROM [UserRoles] AS [u]
INNER JOIN [Roles] AS [r] ON [u].[RoleId] = [r].[Id]
INNER JOIN [AppUsers] AS [a] ON [u].[UserId] = [a].[Id]
WHERE [u].[UserId] = @__userId_0" (0723d8ff)
2024-04-26T10:34:03.2528742+01:00 80000021-0006-f900-b63f-84710c7967bb [INF] Executing JsonResult, writing value of type '"ErrandPayApp.Core.Models.ResponseModel`1[[System.Object, System.Private.CoreLib, Version=5.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'. (2f513669)
2024-04-26T10:34:03.2533343+01:00 80000021-0006-f900-b63f-84710c7967bb [INF] Executed action "ErrandPayApp.API.Controllers.AccountsController.Login (ErrandPayApp.API)" in 271674.1253ms (afa2e885)
2024-04-26T10:34:03.2533821+01:00 80000021-0006-f900-b63f-84710c7967bb [INF] Executed endpoint '"ErrandPayApp.API.Controllers.AccountsController.Login (ErrandPayApp.API)"' (99874f2b)
2024-04-26T10:34:03.2800359+01:00 80000021-0006-f900-b63f-84710c7967bb [INF] Request finished HTTP/2 POST https://localhost:44331/api/Accounts application/json 62 - 500 - application/json 271703.6548ms (791a596a)
2024-04-26T10:34:11.5865208+01:00 8000002b-0000-fb00-b63f-84710c7967bb [INF] Request starting HTTP/2 POST https://localhost:44331/api/Accounts application/json 62 (ca22a1cb)
2024-04-26T10:34:11.5866151+01:00 8000002b-0000-fb00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2024-04-26T10:34:11.5879167+01:00 8000002b-0000-fb00-b63f-84710c7967bb [INF] Executing endpoint '"ErrandPayApp.API.Controllers.AccountsController.Login (ErrandPayApp.API)"' (500cc934)
2024-04-26T10:34:11.5932855+01:00 8000002b-0000-fb00-b63f-84710c7967bb [INF] Route matched with "{action = \"Login\", controller = \"Accounts\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(ErrandPayApp.API.RequestVms.LoginVm)" on controller "ErrandPayApp.API.Controllers.AccountsController" ("ErrandPayApp.API"). (122b2fdf)
2024-04-26T10:34:11.6370390+01:00 8000002b-0000-fb00-b63f-84710c7967bb [INF] Executed DbCommand ("12"ms) [Parameters=["@__email_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[Email], [a].[PhoneNumber], [a].[SurName], [a].[FirstName], [a].[IsSuperAdmin], [a].[Id], [a].[MustChangePassword], [a].[LockoutCounter], [a].[IsLockedOut], [a].[LastLogin], [a].[DateAccountLocked], [a].[Title], [a].[No], [a].[Road], [a].[City], [a].[State], [a].[Country]
FROM [AppUsers] AS [a]
WHERE [a].[Email] = @__email_0" (0723d8ff)
2024-04-26T10:34:13.3655086+01:00 8000002b-0000-fb00-b63f-84710c7967bb [INF] Executed DbCommand ("1"ms) [Parameters=["@__email_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[Email], [a].[PhoneNumber], [a].[SurName], [a].[FirstName], [a].[IsSuperAdmin], [a].[Id], [a].[MustChangePassword], [a].[LockoutCounter], [a].[IsLockedOut], [a].[LastLogin], [a].[DateAccountLocked], [a].[Title], [a].[No], [a].[Road], [a].[City], [a].[State], [a].[Country]
FROM [AppUsers] AS [a]
WHERE [a].[Email] = @__email_0" (0723d8ff)
2024-04-26T10:34:14.4541988+01:00 8000002b-0000-fb00-b63f-84710c7967bb [INF] Executed DbCommand ("3"ms) [Parameters=["@__email_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[Id], [a].[City], [a].[Country], [a].[CreatedBy], [a].[CreatedDate], [a].[DateAccountLocked], [a].[Email], [a].[EmailConfirmationDate], [a].[FirstName], [a].[IsActive], [a].[IsDeleted], [a].[IsEmailConfirmed], [a].[IsLockedOut], [a].[IsSuperAdmin], [a].[LastLogin], [a].[LockoutCounter], [a].[ModifiedBy], [a].[ModifiedDate], [a].[MustChangePassword], [a].[No], [a].[Password], [a].[PhoneNumber], [a].[Road], [a].[State], [a].[SurName], [a].[Telephone], [a].[Title]
FROM [AppUsers] AS [a]
WHERE [a].[Email] = @__email_0" (0723d8ff)
2024-04-26T10:34:14.4600707+01:00 8000002b-0000-fb00-b63f-84710c7967bb [INF] Executed DbCommand ("5"ms) [Parameters=["@p2='?' (Size = 450), @p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTimeOffset)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [AppUsers] SET [LastLogin] = @p0, [ModifiedDate] = @p1
WHERE [Id] = @p2;
SELECT @@ROWCOUNT;" (0723d8ff)
2024-04-26T10:34:14.4804109+01:00 8000002b-0000-fb00-b63f-84710c7967bb [INF] Executed DbCommand ("6"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [r].[RoleName], [r].[Id]
FROM [UserRoles] AS [u]
INNER JOIN [Roles] AS [r] ON [u].[RoleId] = [r].[Id]
INNER JOIN [AppUsers] AS [a] ON [u].[UserId] = [a].[Id]
WHERE [u].[UserId] = @__userId_0" (0723d8ff)
2024-04-26T10:34:43.6771273+01:00 8000002b-0000-fb00-b63f-84710c7967bb [INF] Executing JsonResult, writing value of type '"ErrandPayApp.Core.Models.ResponseModel`1[[System.Object, System.Private.CoreLib, Version=5.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'. (2f513669)
2024-04-26T10:34:43.6774504+01:00 8000002b-0000-fb00-b63f-84710c7967bb [INF] Executed action "ErrandPayApp.API.Controllers.AccountsController.Login (ErrandPayApp.API)" in 32084.1116ms (afa2e885)
2024-04-26T10:34:43.6774848+01:00 8000002b-0000-fb00-b63f-84710c7967bb [INF] Executed endpoint '"ErrandPayApp.API.Controllers.AccountsController.Login (ErrandPayApp.API)"' (99874f2b)
2024-04-26T10:34:43.6830642+01:00 8000002b-0000-fb00-b63f-84710c7967bb [INF] Request finished HTTP/2 POST https://localhost:44331/api/Accounts application/json 62 - 500 - application/json 32092.9530ms (791a596a)
2024-04-26T10:36:03.2746701+01:00 80000023-0006-f900-b63f-84710c7967bb [INF] Request starting HTTP/2 POST https://localhost:44331/api/Accounts application/json 62 (ca22a1cb)
2024-04-26T10:36:03.2748037+01:00 80000023-0006-f900-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2024-04-26T10:36:03.2749361+01:00 80000023-0006-f900-b63f-84710c7967bb [INF] Executing endpoint '"ErrandPayApp.API.Controllers.AccountsController.Login (ErrandPayApp.API)"' (500cc934)
2024-04-26T10:36:03.2750357+01:00 80000023-0006-f900-b63f-84710c7967bb [INF] Route matched with "{action = \"Login\", controller = \"Accounts\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(ErrandPayApp.API.RequestVms.LoginVm)" on controller "ErrandPayApp.API.Controllers.AccountsController" ("ErrandPayApp.API"). (122b2fdf)
2024-04-26T10:36:03.2970892+01:00 80000023-0006-f900-b63f-84710c7967bb [INF] Executed DbCommand ("21"ms) [Parameters=["@__email_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[Email], [a].[PhoneNumber], [a].[SurName], [a].[FirstName], [a].[IsSuperAdmin], [a].[Id], [a].[MustChangePassword], [a].[LockoutCounter], [a].[IsLockedOut], [a].[LastLogin], [a].[DateAccountLocked], [a].[Title], [a].[No], [a].[Road], [a].[City], [a].[State], [a].[Country]
FROM [AppUsers] AS [a]
WHERE [a].[Email] = @__email_0" (0723d8ff)
2024-04-26T10:36:06.4493323+01:00 80000023-0006-f900-b63f-84710c7967bb [INF] Executed DbCommand ("1"ms) [Parameters=["@__email_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[Email], [a].[PhoneNumber], [a].[SurName], [a].[FirstName], [a].[IsSuperAdmin], [a].[Id], [a].[MustChangePassword], [a].[LockoutCounter], [a].[IsLockedOut], [a].[LastLogin], [a].[DateAccountLocked], [a].[Title], [a].[No], [a].[Road], [a].[City], [a].[State], [a].[Country]
FROM [AppUsers] AS [a]
WHERE [a].[Email] = @__email_0" (0723d8ff)
2024-04-26T10:36:07.1350879+01:00 80000023-0006-f900-b63f-84710c7967bb [INF] Executed DbCommand ("3"ms) [Parameters=["@__email_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[Id], [a].[City], [a].[Country], [a].[CreatedBy], [a].[CreatedDate], [a].[DateAccountLocked], [a].[Email], [a].[EmailConfirmationDate], [a].[FirstName], [a].[IsActive], [a].[IsDeleted], [a].[IsEmailConfirmed], [a].[IsLockedOut], [a].[IsSuperAdmin], [a].[LastLogin], [a].[LockoutCounter], [a].[ModifiedBy], [a].[ModifiedDate], [a].[MustChangePassword], [a].[No], [a].[Password], [a].[PhoneNumber], [a].[Road], [a].[State], [a].[SurName], [a].[Telephone], [a].[Title]
FROM [AppUsers] AS [a]
WHERE [a].[Email] = @__email_0" (0723d8ff)
2024-04-26T10:36:07.1493463+01:00 80000023-0006-f900-b63f-84710c7967bb [INF] Executed DbCommand ("8"ms) [Parameters=["@p2='?' (Size = 450), @p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTimeOffset)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [AppUsers] SET [LastLogin] = @p0, [ModifiedDate] = @p1
WHERE [Id] = @p2;
SELECT @@ROWCOUNT;" (0723d8ff)
2024-04-26T10:36:07.1691322+01:00 80000023-0006-f900-b63f-84710c7967bb [INF] Executed DbCommand ("6"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [r].[RoleName], [r].[Id]
FROM [UserRoles] AS [u]
INNER JOIN [Roles] AS [r] ON [u].[RoleId] = [r].[Id]
INNER JOIN [AppUsers] AS [a] ON [u].[UserId] = [a].[Id]
WHERE [u].[UserId] = @__userId_0" (0723d8ff)
2024-04-26T10:36:16.0183115+01:00 80000023-0006-f900-b63f-84710c7967bb [INF] Executing JsonResult, writing value of type '"ErrandPayApp.Core.Models.ResponseModel`1[[System.Object, System.Private.CoreLib, Version=5.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'. (2f513669)
2024-04-26T10:36:16.0185914+01:00 80000023-0006-f900-b63f-84710c7967bb [INF] Executed action "ErrandPayApp.API.Controllers.AccountsController.Login (ErrandPayApp.API)" in 12743.5303ms (afa2e885)
2024-04-26T10:36:16.0186336+01:00 80000023-0006-f900-b63f-84710c7967bb [INF] Executed endpoint '"ErrandPayApp.API.Controllers.AccountsController.Login (ErrandPayApp.API)"' (99874f2b)
2024-04-26T10:36:16.0190019+01:00 80000023-0006-f900-b63f-84710c7967bb [INF] Request finished HTTP/2 POST https://localhost:44331/api/Accounts application/json 62 - 500 - application/json 12744.2838ms (791a596a)
2024-04-26T10:36:59.7527792+01:00 800000c6-0004-ff00-b63f-84710c7967bb [INF] Request starting HTTP/2 POST https://localhost:44331/api/Accounts application/json 62 (ca22a1cb)
2024-04-26T10:36:59.7528531+01:00 800000c6-0004-ff00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2024-04-26T10:36:59.7529539+01:00 800000c6-0004-ff00-b63f-84710c7967bb [INF] Executing endpoint '"ErrandPayApp.API.Controllers.AccountsController.Login (ErrandPayApp.API)"' (500cc934)
2024-04-26T10:36:59.7530342+01:00 800000c6-0004-ff00-b63f-84710c7967bb [INF] Route matched with "{action = \"Login\", controller = \"Accounts\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(ErrandPayApp.API.RequestVms.LoginVm)" on controller "ErrandPayApp.API.Controllers.AccountsController" ("ErrandPayApp.API"). (122b2fdf)
2024-04-26T10:36:59.7746217+01:00 800000c6-0004-ff00-b63f-84710c7967bb [INF] Executed DbCommand ("21"ms) [Parameters=["@__email_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[Email], [a].[PhoneNumber], [a].[SurName], [a].[FirstName], [a].[IsSuperAdmin], [a].[Id], [a].[MustChangePassword], [a].[LockoutCounter], [a].[IsLockedOut], [a].[LastLogin], [a].[DateAccountLocked], [a].[Title], [a].[No], [a].[Road], [a].[City], [a].[State], [a].[Country]
FROM [AppUsers] AS [a]
WHERE [a].[Email] = @__email_0" (0723d8ff)
2024-04-26T10:37:05.7150989+01:00 800000c6-0004-ff00-b63f-84710c7967bb [INF] Executed DbCommand ("4"ms) [Parameters=["@__email_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[Email], [a].[PhoneNumber], [a].[SurName], [a].[FirstName], [a].[IsSuperAdmin], [a].[Id], [a].[MustChangePassword], [a].[LockoutCounter], [a].[IsLockedOut], [a].[LastLogin], [a].[DateAccountLocked], [a].[Title], [a].[No], [a].[Road], [a].[City], [a].[State], [a].[Country]
FROM [AppUsers] AS [a]
WHERE [a].[Email] = @__email_0" (0723d8ff)
2024-04-26T10:37:10.5676182+01:00 800000c6-0004-ff00-b63f-84710c7967bb [INF] Executed DbCommand ("3"ms) [Parameters=["@__email_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[Id], [a].[City], [a].[Country], [a].[CreatedBy], [a].[CreatedDate], [a].[DateAccountLocked], [a].[Email], [a].[EmailConfirmationDate], [a].[FirstName], [a].[IsActive], [a].[IsDeleted], [a].[IsEmailConfirmed], [a].[IsLockedOut], [a].[IsSuperAdmin], [a].[LastLogin], [a].[LockoutCounter], [a].[ModifiedBy], [a].[ModifiedDate], [a].[MustChangePassword], [a].[No], [a].[Password], [a].[PhoneNumber], [a].[Road], [a].[State], [a].[SurName], [a].[Telephone], [a].[Title]
FROM [AppUsers] AS [a]
WHERE [a].[Email] = @__email_0" (0723d8ff)
2024-04-26T10:37:10.5784548+01:00 800000c6-0004-ff00-b63f-84710c7967bb [INF] Executed DbCommand ("4"ms) [Parameters=["@p2='?' (Size = 450), @p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTimeOffset)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [AppUsers] SET [LastLogin] = @p0, [ModifiedDate] = @p1
WHERE [Id] = @p2;
SELECT @@ROWCOUNT;" (0723d8ff)
2024-04-26T10:37:10.6002098+01:00 800000c6-0004-ff00-b63f-84710c7967bb [INF] Executed DbCommand ("8"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [r].[RoleName], [r].[Id]
FROM [UserRoles] AS [u]
INNER JOIN [Roles] AS [r] ON [u].[RoleId] = [r].[Id]
INNER JOIN [AppUsers] AS [a] ON [u].[UserId] = [a].[Id]
WHERE [u].[UserId] = @__userId_0" (0723d8ff)
2024-04-26T10:38:16.5171698+01:00 800000c6-0004-ff00-b63f-84710c7967bb [INF] Executing JsonResult, writing value of type '"ErrandPayApp.Core.Models.ResponseModel`1[[System.Object, System.Private.CoreLib, Version=5.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'. (2f513669)
2024-04-26T10:38:16.5174770+01:00 800000c6-0004-ff00-b63f-84710c7967bb [INF] Executed action "ErrandPayApp.API.Controllers.AccountsController.Login (ErrandPayApp.API)" in 76764.4178ms (afa2e885)
2024-04-26T10:38:16.5175123+01:00 800000c6-0004-ff00-b63f-84710c7967bb [INF] Executed endpoint '"ErrandPayApp.API.Controllers.AccountsController.Login (ErrandPayApp.API)"' (99874f2b)
2024-04-26T10:38:16.5177695+01:00 800000c6-0004-ff00-b63f-84710c7967bb [INF] Request finished HTTP/2 POST https://localhost:44331/api/Accounts application/json 62 - 500 - application/json 76764.9868ms (791a596a)
2024-04-26T10:38:59.3543961+01:00  [INF] Entity Framework Core "5.0.6" initialized '"APPContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MaxPoolSize=128 " (9958f5bb)
2024-04-26T10:38:59.8573693+01:00  [INF] Executed DbCommand ("24"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1" (0723d8ff)
2024-04-26T10:38:59.8964934+01:00  [INF] Executed DbCommand ("26"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT OBJECT_ID(N'[__EFMigrationsHistory]');" (0723d8ff)
2024-04-26T10:38:59.9027802+01:00  [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1" (0723d8ff)
2024-04-26T10:38:59.9036796+01:00  [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT OBJECT_ID(N'[__EFMigrationsHistory]');" (0723d8ff)
2024-04-26T10:38:59.9264542+01:00  [INF] Executed DbCommand ("4"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];" (0723d8ff)
2024-04-26T10:38:59.9469930+01:00  [INF] No migrations were applied. The database is already up to date. (503cba9d)
2024-04-26T10:39:00.2784423+01:00  [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [p].[PermissionName]
FROM [Permissions] AS [p]" (0723d8ff)
2024-04-26T10:39:00.4204586+01:00  [INF] Executed DbCommand ("31"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[Id], [a].[City], [a].[Country], [a].[CreatedBy], [a].[CreatedDate], [a].[DateAccountLocked], [a].[Email], [a].[EmailConfirmationDate], [a].[FirstName], [a].[IsActive], [a].[IsDeleted], [a].[IsEmailConfirmed], [a].[IsLockedOut], [a].[IsSuperAdmin], [a].[LastLogin], [a].[LockoutCounter], [a].[ModifiedBy], [a].[ModifiedDate], [a].[MustChangePassword], [a].[No], [a].[Password], [a].[PhoneNumber], [a].[Road], [a].[State], [a].[SurName], [a].[Telephone], [a].[Title]
FROM [AppUsers] AS [a]
WHERE [a].[IsSuperAdmin] = CAST(1 AS bit)" (0723d8ff)
2024-04-26T10:39:00.6785889+01:00  [INF] User profile is available. Using '"C:\Users\HP\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest. (7ac5e29c)
2024-04-26T10:39:00.7260825+01:00  [ERR] Message => One or more errors occurred. (Unable to track an entity of type 'AppUser' because its primary key property 'Id' is null.)|Stacktrace =>    at System.Threading.Tasks.Task`1.GetResultCore(Boolean waitCompletionNotification)
   at System.Threading.Tasks.Task`1.get_Result()
   at ErrandPayApp.Infrastructure.Configuration.DatabaseConfiguration.InitializeSupperUser(IServiceScope scope) in C:\Users\HP\source\repos\ErrandPayApp.API\ErrandPayApp.Infrastructure\Configuration\DatabaseConfiguration.cs:line 87|InnerException => System.InvalidOperationException: Unable to track an entity of type 'AppUser' because its primary key property 'Id' is null.
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.NullableKeyIdentityMap`1.Add(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.StartTracking(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState oldState, EntityState newState, Boolean acceptChanges, Boolean modifyProperties)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState entityState, Boolean acceptChanges, Boolean modifyProperties, Nullable`1 forceStateWhenUnknownKey)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.PaintAction(EntityEntryGraphNode`1 node)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityEntryGraphIterator.TraverseGraph[TState](EntityEntryGraphNode`1 node, Func`2 handleNode)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.AttachGraph(InternalEntityEntry rootEntry, EntityState targetState, EntityState storeGeneratedWithKeySetTargetState, Boolean forceStateWhenUnknownKey)
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.SetEntityState(InternalEntityEntry entry, EntityState entityState)
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.Add(TEntity entity)
   at ErrandPayApp.Data.Repositories.UserRepository.CreateDefaultUser() in C:\Users\HP\source\repos\ErrandPayApp.API\ErrandPayApp.Data\Repositories\UserRepository.cs:line 307 (2a14ea4d)
System.AggregateException: One or more errors occurred. (Unable to track an entity of type 'AppUser' because its primary key property 'Id' is null.)
 ---> System.InvalidOperationException: Unable to track an entity of type 'AppUser' because its primary key property 'Id' is null.
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.NullableKeyIdentityMap`1.Add(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.StartTracking(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState oldState, EntityState newState, Boolean acceptChanges, Boolean modifyProperties)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState entityState, Boolean acceptChanges, Boolean modifyProperties, Nullable`1 forceStateWhenUnknownKey)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.PaintAction(EntityEntryGraphNode`1 node)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityEntryGraphIterator.TraverseGraph[TState](EntityEntryGraphNode`1 node, Func`2 handleNode)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.AttachGraph(InternalEntityEntry rootEntry, EntityState targetState, EntityState storeGeneratedWithKeySetTargetState, Boolean forceStateWhenUnknownKey)
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.SetEntityState(InternalEntityEntry entry, EntityState entityState)
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.Add(TEntity entity)
   at ErrandPayApp.Data.Repositories.UserRepository.CreateDefaultUser() in C:\Users\HP\source\repos\ErrandPayApp.API\ErrandPayApp.Data\Repositories\UserRepository.cs:line 307
   --- End of inner exception stack trace ---
   at System.Threading.Tasks.Task`1.GetResultCore(Boolean waitCompletionNotification)
   at System.Threading.Tasks.Task`1.get_Result()
   at ErrandPayApp.Infrastructure.Configuration.DatabaseConfiguration.InitializeSupperUser(IServiceScope scope) in C:\Users\HP\source\repos\ErrandPayApp.API\ErrandPayApp.Infrastructure\Configuration\DatabaseConfiguration.cs:line 87
2024-04-26T10:39:01.0602671+01:00  [INF] Application started. Press Ctrl+C to shut down. (dcaefe54)
2024-04-26T10:39:01.0637511+01:00  [INF] Hosting environment: "Development" (c3307c92)
2024-04-26T10:39:01.0668292+01:00  [INF] Content root path: "C:\Users\HP\source\repos\ErrandPayApp.API\ErrandPayApp.API" (b5d60022)
2024-04-26T10:39:01.1233757+01:00 80000008-0007-f900-b63f-84710c7967bb [INF] Request starting HTTP/2 GET https://localhost:44331/index.html - - (ca22a1cb)
2024-04-26T10:39:01.5489343+01:00 80000008-0007-f900-b63f-84710c7967bb [INF] Request finished HTTP/2 GET https://localhost:44331/index.html - - - 200 - text/html;charset=utf-8 428.7642ms (791a596a)
2024-04-26T10:39:01.7221546+01:00 8000000a-0007-f900-b63f-84710c7967bb [INF] Request starting HTTP/2 GET https://localhost:44331/_framework/aspnetcore-browser-refresh.js - - (ca22a1cb)
2024-04-26T10:39:01.7252549+01:00 8000001e-0004-fb00-b63f-84710c7967bb [INF] Request starting HTTP/2 GET https://localhost:44331/_vs/browserLink - - (ca22a1cb)
2024-04-26T10:39:01.7410589+01:00 8000000a-0007-f900-b63f-84710c7967bb [INF] Request finished HTTP/2 GET https://localhost:44331/_framework/aspnetcore-browser-refresh.js - - - 200 12366 application/javascript;+charset=utf-8 18.5963ms (791a596a)
2024-04-26T10:39:01.8016001+01:00 8000001e-0004-fb00-b63f-84710c7967bb [INF] Request finished HTTP/2 GET https://localhost:44331/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 76.3528ms (791a596a)
2024-04-26T10:39:01.8727129+01:00 80000043-0001-fe00-b63f-84710c7967bb [INF] Request starting HTTP/2 GET https://localhost:44331/swagger/v1/swagger.json - - (ca22a1cb)
2024-04-26T10:39:02.0490001+01:00 80000043-0001-fe00-b63f-84710c7967bb [INF] Request finished HTTP/2 GET https://localhost:44331/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 176.2567ms (791a596a)
2024-04-26T10:39:21.4440404+01:00 80000029-0002-f900-b63f-84710c7967bb [INF] Request starting HTTP/2 POST https://localhost:44331/api/Accounts application/json 62 (ca22a1cb)
2024-04-26T10:39:21.4469172+01:00 80000029-0002-f900-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2024-04-26T10:39:21.5433469+01:00 80000029-0002-f900-b63f-84710c7967bb [INF] Executing endpoint '"ErrandPayApp.API.Controllers.AccountsController.Login (ErrandPayApp.API)"' (500cc934)
2024-04-26T10:39:21.5886344+01:00 80000029-0002-f900-b63f-84710c7967bb [INF] Route matched with "{action = \"Login\", controller = \"Accounts\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(ErrandPayApp.API.RequestVms.LoginVm)" on controller "ErrandPayApp.API.Controllers.AccountsController" ("ErrandPayApp.API"). (122b2fdf)
2024-04-26T10:39:21.6790908+01:00 80000029-0002-f900-b63f-84710c7967bb [INF] Executed DbCommand ("27"ms) [Parameters=["@__email_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[Email], [a].[PhoneNumber], [a].[SurName], [a].[FirstName], [a].[IsSuperAdmin], [a].[Id], [a].[MustChangePassword], [a].[LockoutCounter], [a].[IsLockedOut], [a].[LastLogin], [a].[DateAccountLocked], [a].[Title], [a].[No], [a].[Road], [a].[City], [a].[State], [a].[Country]
FROM [AppUsers] AS [a]
WHERE [a].[Email] = @__email_0" (0723d8ff)
2024-04-26T10:39:25.2050092+01:00 80000029-0002-f900-b63f-84710c7967bb [INF] Executed DbCommand ("1"ms) [Parameters=["@__email_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[Email], [a].[PhoneNumber], [a].[SurName], [a].[FirstName], [a].[IsSuperAdmin], [a].[Id], [a].[MustChangePassword], [a].[LockoutCounter], [a].[IsLockedOut], [a].[LastLogin], [a].[DateAccountLocked], [a].[Title], [a].[No], [a].[Road], [a].[City], [a].[State], [a].[Country]
FROM [AppUsers] AS [a]
WHERE [a].[Email] = @__email_0" (0723d8ff)
2024-04-26T10:39:27.6888964+01:00 80000029-0002-f900-b63f-84710c7967bb [INF] Executed DbCommand ("3"ms) [Parameters=["@__email_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[Id], [a].[City], [a].[Country], [a].[CreatedBy], [a].[CreatedDate], [a].[DateAccountLocked], [a].[Email], [a].[EmailConfirmationDate], [a].[FirstName], [a].[IsActive], [a].[IsDeleted], [a].[IsEmailConfirmed], [a].[IsLockedOut], [a].[IsSuperAdmin], [a].[LastLogin], [a].[LockoutCounter], [a].[ModifiedBy], [a].[ModifiedDate], [a].[MustChangePassword], [a].[No], [a].[Password], [a].[PhoneNumber], [a].[Road], [a].[State], [a].[SurName], [a].[Telephone], [a].[Title]
FROM [AppUsers] AS [a]
WHERE [a].[Email] = @__email_0" (0723d8ff)
2024-04-26T10:39:32.5369438+01:00 80000029-0002-f900-b63f-84710c7967bb [INF] Executed DbCommand ("52"ms) [Parameters=["@p2='?' (Size = 450), @p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTimeOffset)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [AppUsers] SET [LastLogin] = @p0, [ModifiedDate] = @p1
WHERE [Id] = @p2;
SELECT @@ROWCOUNT;" (0723d8ff)
2024-04-26T10:39:37.5142444+01:00 80000029-0002-f900-b63f-84710c7967bb [INF] Executed DbCommand ("40"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [r].[RoleName], [r].[Id]
FROM [UserRoles] AS [u]
INNER JOIN [Roles] AS [r] ON [u].[RoleId] = [r].[Id]
INNER JOIN [AppUsers] AS [a] ON [u].[UserId] = [a].[Id]
WHERE [u].[UserId] = @__userId_0" (0723d8ff)
2024-04-26T10:39:39.4506069+01:00 80000029-0002-f900-b63f-84710c7967bb [INF] Executing JsonResult, writing value of type '"ErrandPayApp.Core.Models.ResponseModel`1[[System.Object, System.Private.CoreLib, Version=5.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'. (2f513669)
2024-04-26T10:39:39.4694469+01:00 80000029-0002-f900-b63f-84710c7967bb [INF] Executed action "ErrandPayApp.API.Controllers.AccountsController.Login (ErrandPayApp.API)" in 17871.3792ms (afa2e885)
2024-04-26T10:39:39.4701243+01:00 80000029-0002-f900-b63f-84710c7967bb [INF] Executed endpoint '"ErrandPayApp.API.Controllers.AccountsController.Login (ErrandPayApp.API)"' (99874f2b)
2024-04-26T10:39:39.5379754+01:00 80000029-0002-f900-b63f-84710c7967bb [INF] Request finished HTTP/2 POST https://localhost:44331/api/Accounts application/json 62 - 500 - application/json 18094.0229ms (791a596a)
2024-04-26T10:39:57.7505629+01:00 8000000c-0007-f900-b63f-84710c7967bb [INF] Request starting HTTP/2 POST https://localhost:44331/api/Accounts application/json 62 (ca22a1cb)
2024-04-26T10:39:57.7508642+01:00 8000000c-0007-f900-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2024-04-26T10:39:57.7549198+01:00 8000000c-0007-f900-b63f-84710c7967bb [INF] Executing endpoint '"ErrandPayApp.API.Controllers.AccountsController.Login (ErrandPayApp.API)"' (500cc934)
2024-04-26T10:39:57.7559650+01:00 8000000c-0007-f900-b63f-84710c7967bb [INF] Route matched with "{action = \"Login\", controller = \"Accounts\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(ErrandPayApp.API.RequestVms.LoginVm)" on controller "ErrandPayApp.API.Controllers.AccountsController" ("ErrandPayApp.API"). (122b2fdf)
2024-04-26T10:39:57.7647180+01:00 8000000c-0007-f900-b63f-84710c7967bb [INF] Executed DbCommand ("5"ms) [Parameters=["@__email_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[Email], [a].[PhoneNumber], [a].[SurName], [a].[FirstName], [a].[IsSuperAdmin], [a].[Id], [a].[MustChangePassword], [a].[LockoutCounter], [a].[IsLockedOut], [a].[LastLogin], [a].[DateAccountLocked], [a].[Title], [a].[No], [a].[Road], [a].[City], [a].[State], [a].[Country]
FROM [AppUsers] AS [a]
WHERE [a].[Email] = @__email_0" (0723d8ff)
2024-04-26T10:40:01.4958635+01:00 8000000c-0007-f900-b63f-84710c7967bb [INF] Executed DbCommand ("2"ms) [Parameters=["@__email_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[Email], [a].[PhoneNumber], [a].[SurName], [a].[FirstName], [a].[IsSuperAdmin], [a].[Id], [a].[MustChangePassword], [a].[LockoutCounter], [a].[IsLockedOut], [a].[LastLogin], [a].[DateAccountLocked], [a].[Title], [a].[No], [a].[Road], [a].[City], [a].[State], [a].[Country]
FROM [AppUsers] AS [a]
WHERE [a].[Email] = @__email_0" (0723d8ff)
2024-04-26T10:40:03.9696464+01:00 8000000c-0007-f900-b63f-84710c7967bb [INF] Executed DbCommand ("4"ms) [Parameters=["@__email_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[Id], [a].[City], [a].[Country], [a].[CreatedBy], [a].[CreatedDate], [a].[DateAccountLocked], [a].[Email], [a].[EmailConfirmationDate], [a].[FirstName], [a].[IsActive], [a].[IsDeleted], [a].[IsEmailConfirmed], [a].[IsLockedOut], [a].[IsSuperAdmin], [a].[LastLogin], [a].[LockoutCounter], [a].[ModifiedBy], [a].[ModifiedDate], [a].[MustChangePassword], [a].[No], [a].[Password], [a].[PhoneNumber], [a].[Road], [a].[State], [a].[SurName], [a].[Telephone], [a].[Title]
FROM [AppUsers] AS [a]
WHERE [a].[Email] = @__email_0" (0723d8ff)
2024-04-26T10:40:07.8265713+01:00 8000000c-0007-f900-b63f-84710c7967bb [INF] Executed DbCommand ("2"ms) [Parameters=["@p2='?' (Size = 450), @p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTimeOffset)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [AppUsers] SET [LastLogin] = @p0, [ModifiedDate] = @p1
WHERE [Id] = @p2;
SELECT @@ROWCOUNT;" (0723d8ff)
2024-04-26T10:40:07.8302676+01:00 8000000c-0007-f900-b63f-84710c7967bb [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [r].[RoleName], [r].[Id]
FROM [UserRoles] AS [u]
INNER JOIN [Roles] AS [r] ON [u].[RoleId] = [r].[Id]
INNER JOIN [AppUsers] AS [a] ON [u].[UserId] = [a].[Id]
WHERE [u].[UserId] = @__userId_0" (0723d8ff)
2024-04-26T10:44:09.6999270+01:00  [INF] Entity Framework Core "5.0.6" initialized '"APPContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MaxPoolSize=128 " (9958f5bb)
2024-04-26T10:44:10.5509460+01:00  [INF] Executed DbCommand ("26"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1" (0723d8ff)
2024-04-26T10:44:10.5881623+01:00  [INF] Executed DbCommand ("23"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT OBJECT_ID(N'[__EFMigrationsHistory]');" (0723d8ff)
2024-04-26T10:44:10.5924207+01:00  [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1" (0723d8ff)
2024-04-26T10:44:10.5930681+01:00  [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT OBJECT_ID(N'[__EFMigrationsHistory]');" (0723d8ff)
2024-04-26T10:44:10.6105686+01:00  [INF] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];" (0723d8ff)
2024-04-26T10:44:10.6363766+01:00  [INF] No migrations were applied. The database is already up to date. (503cba9d)
2024-04-26T10:44:10.8987947+01:00  [INF] Executed DbCommand ("7"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [p].[PermissionName]
FROM [Permissions] AS [p]" (0723d8ff)
2024-04-26T10:44:10.9883296+01:00  [INF] Executed DbCommand ("17"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[Id], [a].[City], [a].[Country], [a].[CreatedBy], [a].[CreatedDate], [a].[DateAccountLocked], [a].[Email], [a].[EmailConfirmationDate], [a].[FirstName], [a].[IsActive], [a].[IsDeleted], [a].[IsEmailConfirmed], [a].[IsLockedOut], [a].[IsSuperAdmin], [a].[LastLogin], [a].[LockoutCounter], [a].[ModifiedBy], [a].[ModifiedDate], [a].[MustChangePassword], [a].[No], [a].[Password], [a].[PhoneNumber], [a].[Road], [a].[State], [a].[SurName], [a].[Telephone], [a].[Title]
FROM [AppUsers] AS [a]
WHERE [a].[IsSuperAdmin] = CAST(1 AS bit)" (0723d8ff)
2024-04-26T10:44:11.2141850+01:00  [INF] User profile is available. Using '"C:\Users\HP\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest. (7ac5e29c)
2024-04-26T10:44:11.2468899+01:00  [ERR] Message => One or more errors occurred. (Unable to track an entity of type 'AppUser' because its primary key property 'Id' is null.)|Stacktrace =>    at System.Threading.Tasks.Task`1.GetResultCore(Boolean waitCompletionNotification)
   at System.Threading.Tasks.Task`1.get_Result()
   at ErrandPayApp.Infrastructure.Configuration.DatabaseConfiguration.InitializeSupperUser(IServiceScope scope) in C:\Users\HP\source\repos\ErrandPayApp.API\ErrandPayApp.Infrastructure\Configuration\DatabaseConfiguration.cs:line 87|InnerException => System.InvalidOperationException: Unable to track an entity of type 'AppUser' because its primary key property 'Id' is null.
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.NullableKeyIdentityMap`1.Add(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.StartTracking(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState oldState, EntityState newState, Boolean acceptChanges, Boolean modifyProperties)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState entityState, Boolean acceptChanges, Boolean modifyProperties, Nullable`1 forceStateWhenUnknownKey)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.PaintAction(EntityEntryGraphNode`1 node)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityEntryGraphIterator.TraverseGraph[TState](EntityEntryGraphNode`1 node, Func`2 handleNode)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.AttachGraph(InternalEntityEntry rootEntry, EntityState targetState, EntityState storeGeneratedWithKeySetTargetState, Boolean forceStateWhenUnknownKey)
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.SetEntityState(InternalEntityEntry entry, EntityState entityState)
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.Add(TEntity entity)
   at ErrandPayApp.Data.Repositories.UserRepository.CreateDefaultUser() in C:\Users\HP\source\repos\ErrandPayApp.API\ErrandPayApp.Data\Repositories\UserRepository.cs:line 307 (2a14ea4d)
System.AggregateException: One or more errors occurred. (Unable to track an entity of type 'AppUser' because its primary key property 'Id' is null.)
 ---> System.InvalidOperationException: Unable to track an entity of type 'AppUser' because its primary key property 'Id' is null.
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.NullableKeyIdentityMap`1.Add(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.StartTracking(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState oldState, EntityState newState, Boolean acceptChanges, Boolean modifyProperties)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState entityState, Boolean acceptChanges, Boolean modifyProperties, Nullable`1 forceStateWhenUnknownKey)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.PaintAction(EntityEntryGraphNode`1 node)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityEntryGraphIterator.TraverseGraph[TState](EntityEntryGraphNode`1 node, Func`2 handleNode)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.AttachGraph(InternalEntityEntry rootEntry, EntityState targetState, EntityState storeGeneratedWithKeySetTargetState, Boolean forceStateWhenUnknownKey)
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.SetEntityState(InternalEntityEntry entry, EntityState entityState)
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.Add(TEntity entity)
   at ErrandPayApp.Data.Repositories.UserRepository.CreateDefaultUser() in C:\Users\HP\source\repos\ErrandPayApp.API\ErrandPayApp.Data\Repositories\UserRepository.cs:line 307
   --- End of inner exception stack trace ---
   at System.Threading.Tasks.Task`1.GetResultCore(Boolean waitCompletionNotification)
   at System.Threading.Tasks.Task`1.get_Result()
   at ErrandPayApp.Infrastructure.Configuration.DatabaseConfiguration.InitializeSupperUser(IServiceScope scope) in C:\Users\HP\source\repos\ErrandPayApp.API\ErrandPayApp.Infrastructure\Configuration\DatabaseConfiguration.cs:line 87
2024-04-26T10:44:11.5685349+01:00  [INF] Application started. Press Ctrl+C to shut down. (dcaefe54)
2024-04-26T10:44:11.5710563+01:00  [INF] Hosting environment: "Development" (c3307c92)
2024-04-26T10:44:11.5742229+01:00  [INF] Content root path: "C:\Users\HP\source\repos\ErrandPayApp.API\ErrandPayApp.API" (b5d60022)
2024-04-26T10:44:11.6244947+01:00 80000010-0005-fa00-b63f-84710c7967bb [INF] Request starting HTTP/2 GET https://localhost:44331/index.html - - (ca22a1cb)
2024-04-26T10:44:11.9793605+01:00 80000010-0005-fa00-b63f-84710c7967bb [INF] Request finished HTTP/2 GET https://localhost:44331/index.html - - - 200 - text/html;charset=utf-8 357.9648ms (791a596a)
2024-04-26T10:44:12.1898188+01:00 80000027-0006-f900-b63f-84710c7967bb [INF] Request starting HTTP/2 GET https://localhost:44331/_framework/aspnetcore-browser-refresh.js - - (ca22a1cb)
2024-04-26T10:44:12.1969996+01:00 80000027-0006-f900-b63f-84710c7967bb [INF] Request finished HTTP/2 GET https://localhost:44331/_framework/aspnetcore-browser-refresh.js - - - 200 12366 application/javascript;+charset=utf-8 6.6195ms (791a596a)
2024-04-26T10:44:12.2118272+01:00 80000068-0000-ff00-b63f-84710c7967bb [INF] Request starting HTTP/2 GET https://localhost:44331/_vs/browserLink - - (ca22a1cb)
2024-04-26T10:44:12.2736261+01:00 80000068-0000-ff00-b63f-84710c7967bb [INF] Request finished HTTP/2 GET https://localhost:44331/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 61.7156ms (791a596a)
2024-04-26T10:44:12.3659259+01:00 8000006a-0000-ff00-b63f-84710c7967bb [INF] Request starting HTTP/2 GET https://localhost:44331/swagger/v1/swagger.json - - (ca22a1cb)
2024-04-26T10:44:12.5513902+01:00 8000006a-0000-ff00-b63f-84710c7967bb [INF] Request finished HTTP/2 GET https://localhost:44331/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 185.4460ms (791a596a)
2024-04-26T10:44:31.4762822+01:00 8000003f-0001-ff00-b63f-84710c7967bb [INF] Request starting HTTP/2 POST https://localhost:44331/api/Accounts application/json 62 (ca22a1cb)
2024-04-26T10:44:31.4788226+01:00 8000003f-0001-ff00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2024-04-26T10:44:31.5836456+01:00 8000003f-0001-ff00-b63f-84710c7967bb [INF] Executing endpoint '"ErrandPayApp.API.Controllers.AccountsController.Login (ErrandPayApp.API)"' (500cc934)
2024-04-26T10:44:31.6112977+01:00 8000003f-0001-ff00-b63f-84710c7967bb [INF] Route matched with "{action = \"Login\", controller = \"Accounts\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(ErrandPayApp.API.RequestVms.LoginVm)" on controller "ErrandPayApp.API.Controllers.AccountsController" ("ErrandPayApp.API"). (122b2fdf)
2024-04-26T10:44:31.6951355+01:00 8000003f-0001-ff00-b63f-84710c7967bb [INF] Executed DbCommand ("26"ms) [Parameters=["@__email_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[Email], [a].[PhoneNumber], [a].[SurName], [a].[FirstName], [a].[IsSuperAdmin], [a].[Id], [a].[MustChangePassword], [a].[LockoutCounter], [a].[IsLockedOut], [a].[LastLogin], [a].[DateAccountLocked], [a].[Title], [a].[No], [a].[Road], [a].[City], [a].[State], [a].[Country]
FROM [AppUsers] AS [a]
WHERE [a].[Email] = @__email_0" (0723d8ff)
2024-04-26T10:44:31.7212626+01:00 8000003f-0001-ff00-b63f-84710c7967bb [INF] Executed DbCommand ("12"ms) [Parameters=["@__email_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[Email], [a].[PhoneNumber], [a].[SurName], [a].[FirstName], [a].[IsSuperAdmin], [a].[Id], [a].[MustChangePassword], [a].[LockoutCounter], [a].[IsLockedOut], [a].[LastLogin], [a].[DateAccountLocked], [a].[Title], [a].[No], [a].[Road], [a].[City], [a].[State], [a].[Country]
FROM [AppUsers] AS [a]
WHERE [a].[Email] = @__email_0" (0723d8ff)
2024-04-26T10:44:31.7317156+01:00 8000003f-0001-ff00-b63f-84710c7967bb [INF] Executed DbCommand ("2"ms) [Parameters=["@__email_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[Id], [a].[City], [a].[Country], [a].[CreatedBy], [a].[CreatedDate], [a].[DateAccountLocked], [a].[Email], [a].[EmailConfirmationDate], [a].[FirstName], [a].[IsActive], [a].[IsDeleted], [a].[IsEmailConfirmed], [a].[IsLockedOut], [a].[IsSuperAdmin], [a].[LastLogin], [a].[LockoutCounter], [a].[ModifiedBy], [a].[ModifiedDate], [a].[MustChangePassword], [a].[No], [a].[Password], [a].[PhoneNumber], [a].[Road], [a].[State], [a].[SurName], [a].[Telephone], [a].[Title]
FROM [AppUsers] AS [a]
WHERE [a].[Email] = @__email_0" (0723d8ff)
2024-04-26T10:44:31.9094537+01:00 8000003f-0001-ff00-b63f-84710c7967bb [INF] Executed DbCommand ("10"ms) [Parameters=["@p2='?' (Size = 450), @p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTimeOffset)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [AppUsers] SET [LastLogin] = @p0, [ModifiedDate] = @p1
WHERE [Id] = @p2;
SELECT @@ROWCOUNT;" (0723d8ff)
2024-04-26T10:44:31.9818104+01:00 8000003f-0001-ff00-b63f-84710c7967bb [INF] Executed DbCommand ("3"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [r].[RoleName], [r].[Id]
FROM [UserRoles] AS [u]
INNER JOIN [Roles] AS [r] ON [u].[RoleId] = [r].[Id]
INNER JOIN [AppUsers] AS [a] ON [u].[UserId] = [a].[Id]
WHERE [u].[UserId] = @__userId_0" (0723d8ff)
2024-04-26T10:55:54.1873033+01:00  [INF] Entity Framework Core "5.0.6" initialized '"APPContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MaxPoolSize=128 " (9958f5bb)
2024-04-26T10:55:55.7210481+01:00  [INF] Executed DbCommand ("31"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1" (0723d8ff)
2024-04-26T10:55:55.7723971+01:00  [INF] Executed DbCommand ("34"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT OBJECT_ID(N'[__EFMigrationsHistory]');" (0723d8ff)
2024-04-26T10:55:55.7776471+01:00  [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1" (0723d8ff)
2024-04-26T10:55:55.7783756+01:00  [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT OBJECT_ID(N'[__EFMigrationsHistory]');" (0723d8ff)
2024-04-26T10:55:55.8075644+01:00  [INF] Executed DbCommand ("8"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];" (0723d8ff)
2024-04-26T10:55:55.8358350+01:00  [INF] No migrations were applied. The database is already up to date. (503cba9d)
2024-04-26T10:55:56.1269045+01:00  [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [p].[PermissionName]
FROM [Permissions] AS [p]" (0723d8ff)
2024-04-26T10:55:56.2309987+01:00  [INF] Executed DbCommand ("20"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[Id], [a].[City], [a].[Country], [a].[CreatedBy], [a].[CreatedDate], [a].[DateAccountLocked], [a].[Email], [a].[EmailConfirmationDate], [a].[FirstName], [a].[IsActive], [a].[IsDeleted], [a].[IsEmailConfirmed], [a].[IsLockedOut], [a].[IsSuperAdmin], [a].[LastLogin], [a].[LockoutCounter], [a].[ModifiedBy], [a].[ModifiedDate], [a].[MustChangePassword], [a].[No], [a].[Password], [a].[PhoneNumber], [a].[Road], [a].[State], [a].[SurName], [a].[Telephone], [a].[Title]
FROM [AppUsers] AS [a]
WHERE [a].[IsSuperAdmin] = CAST(1 AS bit)" (0723d8ff)
2024-04-26T10:55:56.4773504+01:00  [INF] User profile is available. Using '"C:\Users\HP\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest. (7ac5e29c)
2024-04-26T10:55:56.5236604+01:00  [ERR] Message => One or more errors occurred. (Unable to track an entity of type 'AppUser' because its primary key property 'Id' is null.)|Stacktrace =>    at System.Threading.Tasks.Task`1.GetResultCore(Boolean waitCompletionNotification)
   at System.Threading.Tasks.Task`1.get_Result()
   at ErrandPayApp.Infrastructure.Configuration.DatabaseConfiguration.InitializeSupperUser(IServiceScope scope) in C:\Users\HP\source\repos\ErrandPayApp.API\ErrandPayApp.Infrastructure\Configuration\DatabaseConfiguration.cs:line 87|InnerException => System.InvalidOperationException: Unable to track an entity of type 'AppUser' because its primary key property 'Id' is null.
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.NullableKeyIdentityMap`1.Add(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.StartTracking(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState oldState, EntityState newState, Boolean acceptChanges, Boolean modifyProperties)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState entityState, Boolean acceptChanges, Boolean modifyProperties, Nullable`1 forceStateWhenUnknownKey)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.PaintAction(EntityEntryGraphNode`1 node)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityEntryGraphIterator.TraverseGraph[TState](EntityEntryGraphNode`1 node, Func`2 handleNode)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.AttachGraph(InternalEntityEntry rootEntry, EntityState targetState, EntityState storeGeneratedWithKeySetTargetState, Boolean forceStateWhenUnknownKey)
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.SetEntityState(InternalEntityEntry entry, EntityState entityState)
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.Add(TEntity entity)
   at ErrandPayApp.Data.Repositories.UserRepository.CreateDefaultUser() in C:\Users\HP\source\repos\ErrandPayApp.API\ErrandPayApp.Data\Repositories\UserRepository.cs:line 307 (2a14ea4d)
System.AggregateException: One or more errors occurred. (Unable to track an entity of type 'AppUser' because its primary key property 'Id' is null.)
 ---> System.InvalidOperationException: Unable to track an entity of type 'AppUser' because its primary key property 'Id' is null.
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.NullableKeyIdentityMap`1.Add(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.StartTracking(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState oldState, EntityState newState, Boolean acceptChanges, Boolean modifyProperties)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState entityState, Boolean acceptChanges, Boolean modifyProperties, Nullable`1 forceStateWhenUnknownKey)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.PaintAction(EntityEntryGraphNode`1 node)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityEntryGraphIterator.TraverseGraph[TState](EntityEntryGraphNode`1 node, Func`2 handleNode)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.AttachGraph(InternalEntityEntry rootEntry, EntityState targetState, EntityState storeGeneratedWithKeySetTargetState, Boolean forceStateWhenUnknownKey)
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.SetEntityState(InternalEntityEntry entry, EntityState entityState)
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.Add(TEntity entity)
   at ErrandPayApp.Data.Repositories.UserRepository.CreateDefaultUser() in C:\Users\HP\source\repos\ErrandPayApp.API\ErrandPayApp.Data\Repositories\UserRepository.cs:line 307
   --- End of inner exception stack trace ---
   at System.Threading.Tasks.Task`1.GetResultCore(Boolean waitCompletionNotification)
   at System.Threading.Tasks.Task`1.get_Result()
   at ErrandPayApp.Infrastructure.Configuration.DatabaseConfiguration.InitializeSupperUser(IServiceScope scope) in C:\Users\HP\source\repos\ErrandPayApp.API\ErrandPayApp.Infrastructure\Configuration\DatabaseConfiguration.cs:line 87
2024-04-26T10:55:56.8214372+01:00  [INF] Application started. Press Ctrl+C to shut down. (dcaefe54)
2024-04-26T10:55:56.8244947+01:00  [INF] Hosting environment: "Development" (c3307c92)
2024-04-26T10:55:56.8379066+01:00  [INF] Content root path: "C:\Users\HP\source\repos\ErrandPayApp.API\ErrandPayApp.API" (b5d60022)
2024-04-26T10:55:56.8903323+01:00 80000070-0000-ff00-b63f-84710c7967bb [INF] Request starting HTTP/2 GET https://localhost:44331/index.html - - (ca22a1cb)
2024-04-26T10:55:57.2588631+01:00 80000070-0000-ff00-b63f-84710c7967bb [INF] Request finished HTTP/2 GET https://localhost:44331/index.html - - - 200 - text/html;charset=utf-8 371.8876ms (791a596a)
2024-04-26T10:55:57.4326102+01:00 80000049-0001-fe00-b63f-84710c7967bb [INF] Request starting HTTP/2 GET https://localhost:44331/_framework/aspnetcore-browser-refresh.js - - (ca22a1cb)
2024-04-26T10:55:57.4360517+01:00 80000041-0001-ff00-b63f-84710c7967bb [INF] Request starting HTTP/2 GET https://localhost:44331/_vs/browserLink - - (ca22a1cb)
2024-04-26T10:55:57.4419658+01:00 80000049-0001-fe00-b63f-84710c7967bb [INF] Request finished HTTP/2 GET https://localhost:44331/_framework/aspnetcore-browser-refresh.js - - - 200 12366 application/javascript;+charset=utf-8 8.9806ms (791a596a)
2024-04-26T10:55:57.5136837+01:00 80000041-0001-ff00-b63f-84710c7967bb [INF] Request finished HTTP/2 GET https://localhost:44331/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 77.6402ms (791a596a)
2024-04-26T10:55:57.5912256+01:00 8000000a-0006-f800-b63f-84710c7967bb [INF] Request starting HTTP/2 GET https://localhost:44331/swagger/v1/swagger.json - - (ca22a1cb)
2024-04-26T10:55:57.7900961+01:00 8000000a-0006-f800-b63f-84710c7967bb [INF] Request finished HTTP/2 GET https://localhost:44331/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 198.8569ms (791a596a)
2024-04-26T11:24:23.6664144+01:00 80000028-0004-fb00-b63f-84710c7967bb [INF] Request starting HTTP/2 POST https://localhost:44331/api/Accounts application/json 55 (ca22a1cb)
2024-04-26T11:24:23.6697383+01:00 80000028-0004-fb00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2024-04-26T11:24:23.8129312+01:00 80000028-0004-fb00-b63f-84710c7967bb [INF] Executing endpoint '"ErrandPayApp.API.Controllers.AccountsController.Login (ErrandPayApp.API)"' (500cc934)
2024-04-26T11:24:23.8368387+01:00 80000028-0004-fb00-b63f-84710c7967bb [INF] Route matched with "{action = \"Login\", controller = \"Accounts\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(ErrandPayApp.API.RequestVms.LoginVm)" on controller "ErrandPayApp.API.Controllers.AccountsController" ("ErrandPayApp.API"). (122b2fdf)
2024-04-26T11:24:23.9666456+01:00 80000028-0004-fb00-b63f-84710c7967bb [INF] Executed DbCommand ("49"ms) [Parameters=["@__email_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[Email], [a].[PhoneNumber], [a].[SurName], [a].[FirstName], [a].[IsSuperAdmin], [a].[Id], [a].[MustChangePassword], [a].[LockoutCounter], [a].[IsLockedOut], [a].[LastLogin], [a].[DateAccountLocked], [a].[Title], [a].[No], [a].[Road], [a].[City], [a].[State], [a].[Country]
FROM [AppUsers] AS [a]
WHERE [a].[Email] = @__email_0" (0723d8ff)
2024-04-26T11:24:23.9809129+01:00 80000028-0004-fb00-b63f-84710c7967bb [INF] Executed DbCommand ("1"ms) [Parameters=["@__email_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[Email], [a].[PhoneNumber], [a].[SurName], [a].[FirstName], [a].[IsSuperAdmin], [a].[Id], [a].[MustChangePassword], [a].[LockoutCounter], [a].[IsLockedOut], [a].[LastLogin], [a].[DateAccountLocked], [a].[Title], [a].[No], [a].[Road], [a].[City], [a].[State], [a].[Country]
FROM [AppUsers] AS [a]
WHERE [a].[Email] = @__email_0" (0723d8ff)
2024-04-26T11:24:23.9899295+01:00 80000028-0004-fb00-b63f-84710c7967bb [INF] Executed DbCommand ("3"ms) [Parameters=["@__email_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[Id], [a].[City], [a].[Country], [a].[CreatedBy], [a].[CreatedDate], [a].[DateAccountLocked], [a].[Email], [a].[EmailConfirmationDate], [a].[FirstName], [a].[IsActive], [a].[IsDeleted], [a].[IsEmailConfirmed], [a].[IsLockedOut], [a].[IsSuperAdmin], [a].[LastLogin], [a].[LockoutCounter], [a].[ModifiedBy], [a].[ModifiedDate], [a].[MustChangePassword], [a].[No], [a].[Password], [a].[PhoneNumber], [a].[Road], [a].[State], [a].[SurName], [a].[Telephone], [a].[Title]
FROM [AppUsers] AS [a]
WHERE [a].[Email] = @__email_0" (0723d8ff)
2024-04-26T11:24:24.1708870+01:00 80000028-0004-fb00-b63f-84710c7967bb [INF] Executed DbCommand ("6"ms) [Parameters=["@p2='?' (Size = 450), @p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTimeOffset)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [AppUsers] SET [LastLogin] = @p0, [ModifiedDate] = @p1
WHERE [Id] = @p2;
SELECT @@ROWCOUNT;" (0723d8ff)
2024-04-26T11:24:24.2495458+01:00 80000028-0004-fb00-b63f-84710c7967bb [INF] Executed DbCommand ("5"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [r].[RoleName], [r].[Id]
FROM [UserRoles] AS [u]
INNER JOIN [Roles] AS [r] ON [u].[RoleId] = [r].[Id]
INNER JOIN [AppUsers] AS [a] ON [u].[UserId] = [a].[Id]
WHERE [u].[UserId] = @__userId_0" (0723d8ff)
2024-04-26T11:58:28.2020586+01:00  [INF] Entity Framework Core "5.0.6" initialized '"APPContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MaxPoolSize=128 " (9958f5bb)
2024-04-26T11:58:29.2654816+01:00  [INF] Executed DbCommand ("43"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1" (0723d8ff)
2024-04-26T11:58:29.3272838+01:00  [INF] Executed DbCommand ("39"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT OBJECT_ID(N'[__EFMigrationsHistory]');" (0723d8ff)
2024-04-26T11:58:29.3350623+01:00  [INF] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1" (0723d8ff)
2024-04-26T11:58:29.3363762+01:00  [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT OBJECT_ID(N'[__EFMigrationsHistory]');" (0723d8ff)
2024-04-26T11:58:29.3657898+01:00  [INF] Executed DbCommand ("6"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];" (0723d8ff)
2024-04-26T11:58:29.4130760+01:00  [INF] No migrations were applied. The database is already up to date. (503cba9d)
2024-04-26T11:58:30.1356874+01:00  [INF] Executed DbCommand ("4"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [p].[PermissionName]
FROM [Permissions] AS [p]" (0723d8ff)
2024-04-26T11:58:30.4431650+01:00  [INF] Executed DbCommand ("45"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[Id], [a].[City], [a].[Country], [a].[CreatedBy], [a].[CreatedDate], [a].[DateAccountLocked], [a].[Email], [a].[EmailConfirmationDate], [a].[FirstName], [a].[IsActive], [a].[IsDeleted], [a].[IsEmailConfirmed], [a].[IsLockedOut], [a].[IsSuperAdmin], [a].[LastLogin], [a].[LockoutCounter], [a].[ModifiedBy], [a].[ModifiedDate], [a].[MustChangePassword], [a].[No], [a].[Password], [a].[PhoneNumber], [a].[Road], [a].[State], [a].[SurName], [a].[Telephone], [a].[Title]
FROM [AppUsers] AS [a]
WHERE [a].[IsSuperAdmin] = CAST(1 AS bit)" (0723d8ff)
2024-04-26T11:58:31.1980389+01:00  [INF] User profile is available. Using '"C:\Users\HP\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest. (7ac5e29c)
2024-04-26T11:58:31.3028118+01:00  [ERR] Message => One or more errors occurred. (Unable to track an entity of type 'AppUser' because its primary key property 'Id' is null.)|Stacktrace =>    at System.Threading.Tasks.Task`1.GetResultCore(Boolean waitCompletionNotification)
   at System.Threading.Tasks.Task`1.get_Result()
   at ErrandPayApp.Infrastructure.Configuration.DatabaseConfiguration.InitializeSupperUser(IServiceScope scope) in C:\Users\HP\source\repos\ErrandPayApp.API\ErrandPayApp.Infrastructure\Configuration\DatabaseConfiguration.cs:line 87|InnerException => System.InvalidOperationException: Unable to track an entity of type 'AppUser' because its primary key property 'Id' is null.
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.NullableKeyIdentityMap`1.Add(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.StartTracking(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState oldState, EntityState newState, Boolean acceptChanges, Boolean modifyProperties)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState entityState, Boolean acceptChanges, Boolean modifyProperties, Nullable`1 forceStateWhenUnknownKey)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.PaintAction(EntityEntryGraphNode`1 node)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityEntryGraphIterator.TraverseGraph[TState](EntityEntryGraphNode`1 node, Func`2 handleNode)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.AttachGraph(InternalEntityEntry rootEntry, EntityState targetState, EntityState storeGeneratedWithKeySetTargetState, Boolean forceStateWhenUnknownKey)
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.SetEntityState(InternalEntityEntry entry, EntityState entityState)
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.Add(TEntity entity)
   at ErrandPayApp.Data.Repositories.UserRepository.CreateDefaultUser() in C:\Users\HP\source\repos\ErrandPayApp.API\ErrandPayApp.Data\Repositories\UserRepository.cs:line 307 (2a14ea4d)
System.AggregateException: One or more errors occurred. (Unable to track an entity of type 'AppUser' because its primary key property 'Id' is null.)
 ---> System.InvalidOperationException: Unable to track an entity of type 'AppUser' because its primary key property 'Id' is null.
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.NullableKeyIdentityMap`1.Add(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.StartTracking(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState oldState, EntityState newState, Boolean acceptChanges, Boolean modifyProperties)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState entityState, Boolean acceptChanges, Boolean modifyProperties, Nullable`1 forceStateWhenUnknownKey)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.PaintAction(EntityEntryGraphNode`1 node)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityEntryGraphIterator.TraverseGraph[TState](EntityEntryGraphNode`1 node, Func`2 handleNode)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.AttachGraph(InternalEntityEntry rootEntry, EntityState targetState, EntityState storeGeneratedWithKeySetTargetState, Boolean forceStateWhenUnknownKey)
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.SetEntityState(InternalEntityEntry entry, EntityState entityState)
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.Add(TEntity entity)
   at ErrandPayApp.Data.Repositories.UserRepository.CreateDefaultUser() in C:\Users\HP\source\repos\ErrandPayApp.API\ErrandPayApp.Data\Repositories\UserRepository.cs:line 307
   --- End of inner exception stack trace ---
   at System.Threading.Tasks.Task`1.GetResultCore(Boolean waitCompletionNotification)
   at System.Threading.Tasks.Task`1.get_Result()
   at ErrandPayApp.Infrastructure.Configuration.DatabaseConfiguration.InitializeSupperUser(IServiceScope scope) in C:\Users\HP\source\repos\ErrandPayApp.API\ErrandPayApp.Infrastructure\Configuration\DatabaseConfiguration.cs:line 87
2024-04-26T11:58:31.8880025+01:00  [INF] Application started. Press Ctrl+C to shut down. (dcaefe54)
2024-04-26T11:58:31.8962945+01:00  [INF] Hosting environment: "Development" (c3307c92)
2024-04-26T11:58:31.9066508+01:00  [INF] Content root path: "C:\Users\HP\source\repos\ErrandPayApp.API\ErrandPayApp.API" (b5d60022)
2024-04-26T11:58:32.0200142+01:00 8000003d-0000-fc00-b63f-84710c7967bb [INF] Request starting HTTP/2 GET https://localhost:44331/index.html - - (ca22a1cb)
2024-04-26T11:58:32.9247639+01:00 8000003d-0000-fc00-b63f-84710c7967bb [INF] Request finished HTTP/2 GET https://localhost:44331/index.html - - - 200 - text/html;charset=utf-8 907.1121ms (791a596a)
2024-04-26T11:58:33.4204512+01:00 800000ad-0005-fe00-b63f-84710c7967bb [INF] Request starting HTTP/2 GET https://localhost:44331/_vs/browserLink - - (ca22a1cb)
2024-04-26T11:58:33.4208116+01:00 80000031-0005-fc00-b63f-84710c7967bb [INF] Request starting HTTP/2 GET https://localhost:44331/_framework/aspnetcore-browser-refresh.js - - (ca22a1cb)
2024-04-26T11:58:33.4496404+01:00 80000031-0005-fc00-b63f-84710c7967bb [INF] Request finished HTTP/2 GET https://localhost:44331/_framework/aspnetcore-browser-refresh.js - - - 200 12366 application/javascript;+charset=utf-8 27.2918ms (791a596a)
2024-04-26T11:58:33.6473560+01:00 800000ad-0005-fe00-b63f-84710c7967bb [INF] Request finished HTTP/2 GET https://localhost:44331/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 226.8771ms (791a596a)
2024-04-26T11:58:33.9100502+01:00 80000011-0002-f800-b63f-84710c7967bb [INF] Request starting HTTP/2 GET https://localhost:44331/swagger/v1/swagger.json - - (ca22a1cb)
2024-04-26T11:58:34.3598019+01:00 80000011-0002-f800-b63f-84710c7967bb [INF] Request finished HTTP/2 GET https://localhost:44331/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 449.6655ms (791a596a)
2024-04-26T12:01:53.4958401+01:00  [INF] Entity Framework Core "5.0.6" initialized '"APPContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MaxPoolSize=128 " (9958f5bb)
2024-04-26T12:01:54.5516451+01:00  [INF] Executed DbCommand ("53"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1" (0723d8ff)
2024-04-26T12:01:54.6197657+01:00  [INF] Executed DbCommand ("42"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT OBJECT_ID(N'[__EFMigrationsHistory]');" (0723d8ff)
2024-04-26T12:01:54.6297626+01:00  [INF] Executed DbCommand ("4"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1" (0723d8ff)
2024-04-26T12:01:54.6313658+01:00  [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT OBJECT_ID(N'[__EFMigrationsHistory]');" (0723d8ff)
2024-04-26T12:01:54.6910076+01:00  [INF] Executed DbCommand ("16"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];" (0723d8ff)
2024-04-26T12:01:54.7610173+01:00  [INF] No migrations were applied. The database is already up to date. (503cba9d)
2024-04-26T12:01:55.5124138+01:00  [INF] Executed DbCommand ("10"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [p].[PermissionName]
FROM [Permissions] AS [p]" (0723d8ff)
2024-04-26T12:01:55.8061909+01:00  [INF] Executed DbCommand ("49"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[Id], [a].[City], [a].[Country], [a].[CreatedBy], [a].[CreatedDate], [a].[DateAccountLocked], [a].[Email], [a].[EmailConfirmationDate], [a].[FirstName], [a].[IsActive], [a].[IsDeleted], [a].[IsEmailConfirmed], [a].[IsLockedOut], [a].[IsSuperAdmin], [a].[LastLogin], [a].[LockoutCounter], [a].[ModifiedBy], [a].[ModifiedDate], [a].[MustChangePassword], [a].[No], [a].[Password], [a].[PhoneNumber], [a].[Road], [a].[State], [a].[SurName], [a].[Telephone], [a].[Title]
FROM [AppUsers] AS [a]
WHERE [a].[IsSuperAdmin] = CAST(1 AS bit)" (0723d8ff)
2024-04-26T12:01:56.4808291+01:00  [INF] User profile is available. Using '"C:\Users\HP\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest. (7ac5e29c)
2024-04-26T12:01:56.5460984+01:00  [ERR] Message => One or more errors occurred. (Unable to track an entity of type 'AppUser' because its primary key property 'Id' is null.)|Stacktrace =>    at System.Threading.Tasks.Task`1.GetResultCore(Boolean waitCompletionNotification)
   at System.Threading.Tasks.Task`1.get_Result()
   at ErrandPayApp.Infrastructure.Configuration.DatabaseConfiguration.InitializeSupperUser(IServiceScope scope) in C:\Users\HP\source\repos\ErrandPayApp.API\ErrandPayApp.Infrastructure\Configuration\DatabaseConfiguration.cs:line 87|InnerException => System.InvalidOperationException: Unable to track an entity of type 'AppUser' because its primary key property 'Id' is null.
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.NullableKeyIdentityMap`1.Add(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.StartTracking(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState oldState, EntityState newState, Boolean acceptChanges, Boolean modifyProperties)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState entityState, Boolean acceptChanges, Boolean modifyProperties, Nullable`1 forceStateWhenUnknownKey)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.PaintAction(EntityEntryGraphNode`1 node)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityEntryGraphIterator.TraverseGraph[TState](EntityEntryGraphNode`1 node, Func`2 handleNode)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.AttachGraph(InternalEntityEntry rootEntry, EntityState targetState, EntityState storeGeneratedWithKeySetTargetState, Boolean forceStateWhenUnknownKey)
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.SetEntityState(InternalEntityEntry entry, EntityState entityState)
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.Add(TEntity entity)
   at ErrandPayApp.Data.Repositories.UserRepository.CreateDefaultUser() in C:\Users\HP\source\repos\ErrandPayApp.API\ErrandPayApp.Data\Repositories\UserRepository.cs:line 307 (2a14ea4d)
System.AggregateException: One or more errors occurred. (Unable to track an entity of type 'AppUser' because its primary key property 'Id' is null.)
 ---> System.InvalidOperationException: Unable to track an entity of type 'AppUser' because its primary key property 'Id' is null.
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.NullableKeyIdentityMap`1.Add(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.StartTracking(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState oldState, EntityState newState, Boolean acceptChanges, Boolean modifyProperties)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState entityState, Boolean acceptChanges, Boolean modifyProperties, Nullable`1 forceStateWhenUnknownKey)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.PaintAction(EntityEntryGraphNode`1 node)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityEntryGraphIterator.TraverseGraph[TState](EntityEntryGraphNode`1 node, Func`2 handleNode)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.AttachGraph(InternalEntityEntry rootEntry, EntityState targetState, EntityState storeGeneratedWithKeySetTargetState, Boolean forceStateWhenUnknownKey)
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.SetEntityState(InternalEntityEntry entry, EntityState entityState)
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.Add(TEntity entity)
   at ErrandPayApp.Data.Repositories.UserRepository.CreateDefaultUser() in C:\Users\HP\source\repos\ErrandPayApp.API\ErrandPayApp.Data\Repositories\UserRepository.cs:line 307
   --- End of inner exception stack trace ---
   at System.Threading.Tasks.Task`1.GetResultCore(Boolean waitCompletionNotification)
   at System.Threading.Tasks.Task`1.get_Result()
   at ErrandPayApp.Infrastructure.Configuration.DatabaseConfiguration.InitializeSupperUser(IServiceScope scope) in C:\Users\HP\source\repos\ErrandPayApp.API\ErrandPayApp.Infrastructure\Configuration\DatabaseConfiguration.cs:line 87
2024-04-26T12:01:57.0548227+01:00  [INF] Application started. Press Ctrl+C to shut down. (dcaefe54)
2024-04-26T12:01:57.0592495+01:00  [INF] Hosting environment: "Development" (c3307c92)
2024-04-26T12:01:57.0644575+01:00  [INF] Content root path: "C:\Users\HP\source\repos\ErrandPayApp.API\ErrandPayApp.API" (b5d60022)
2024-04-26T12:01:57.1662125+01:00 800000cc-0004-ff00-b63f-84710c7967bb [INF] Request starting HTTP/2 GET https://localhost:44331/index.html - - (ca22a1cb)
2024-04-26T12:01:57.9775466+01:00 800000cc-0004-ff00-b63f-84710c7967bb [INF] Request finished HTTP/2 GET https://localhost:44331/index.html - - - 200 - text/html;charset=utf-8 823.5857ms (791a596a)
2024-04-26T12:01:58.2581187+01:00 800000ce-0004-ff00-b63f-84710c7967bb [INF] Request starting HTTP/2 GET https://localhost:44331/_framework/aspnetcore-browser-refresh.js - - (ca22a1cb)
2024-04-26T12:01:58.2752782+01:00 8000007b-0006-fd00-b63f-84710c7967bb [INF] Request starting HTTP/2 GET https://localhost:44331/_vs/browserLink - - (ca22a1cb)
2024-04-26T12:01:58.2878907+01:00 800000ce-0004-ff00-b63f-84710c7967bb [INF] Request finished HTTP/2 GET https://localhost:44331/_framework/aspnetcore-browser-refresh.js - - - 200 12366 application/javascript;+charset=utf-8 28.9768ms (791a596a)
2024-04-26T12:01:58.4052826+01:00 8000007b-0006-fd00-b63f-84710c7967bb [INF] Request finished HTTP/2 GET https://localhost:44331/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 129.9613ms (791a596a)
2024-04-26T12:01:58.5083581+01:00 80000002-0001-fc00-b63f-84710c7967bb [INF] Request starting HTTP/2 GET https://localhost:44331/swagger/v1/swagger.json - - (ca22a1cb)
2024-04-26T12:01:58.8579307+01:00 80000002-0001-fc00-b63f-84710c7967bb [INF] Request finished HTTP/2 GET https://localhost:44331/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 349.4410ms (791a596a)
2024-04-26T12:02:21.4346272+01:00 80000013-0007-f900-b63f-84710c7967bb [INF] Request starting HTTP/2 POST https://localhost:44331/api/Accounts application/json 55 (ca22a1cb)
2024-04-26T12:02:21.4404816+01:00 80000013-0007-f900-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2024-04-26T12:02:23.1592582+01:00 80000013-0007-f900-b63f-84710c7967bb [INF] Executing endpoint '"ErrandPayApp.API.Controllers.AccountsController.Login (ErrandPayApp.API)"' (500cc934)
2024-04-26T12:02:23.2400180+01:00 80000013-0007-f900-b63f-84710c7967bb [INF] Route matched with "{action = \"Login\", controller = \"Accounts\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(ErrandPayApp.API.RequestVms.LoginVm)" on controller "ErrandPayApp.API.Controllers.AccountsController" ("ErrandPayApp.API"). (122b2fdf)
2024-04-26T12:02:23.5386296+01:00 80000013-0007-f900-b63f-84710c7967bb [INF] Executed DbCommand ("66"ms) [Parameters=["@__email_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[Email], [a].[PhoneNumber], [a].[SurName], [a].[FirstName], [a].[IsSuperAdmin], [a].[Id], [a].[MustChangePassword], [a].[LockoutCounter], [a].[IsLockedOut], [a].[LastLogin], [a].[DateAccountLocked], [a].[Title], [a].[No], [a].[Road], [a].[City], [a].[State], [a].[Country]
FROM [AppUsers] AS [a]
WHERE [a].[Email] = @__email_0" (0723d8ff)
2024-04-26T12:02:23.6008234+01:00 80000013-0007-f900-b63f-84710c7967bb [INF] Executed DbCommand ("3"ms) [Parameters=["@__email_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[Email], [a].[PhoneNumber], [a].[SurName], [a].[FirstName], [a].[IsSuperAdmin], [a].[Id], [a].[MustChangePassword], [a].[LockoutCounter], [a].[IsLockedOut], [a].[LastLogin], [a].[DateAccountLocked], [a].[Title], [a].[No], [a].[Road], [a].[City], [a].[State], [a].[Country]
FROM [AppUsers] AS [a]
WHERE [a].[Email] = @__email_0" (0723d8ff)
2024-04-26T12:02:23.6291685+01:00 80000013-0007-f900-b63f-84710c7967bb [INF] Executed DbCommand ("7"ms) [Parameters=["@__email_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[Id], [a].[City], [a].[Country], [a].[CreatedBy], [a].[CreatedDate], [a].[DateAccountLocked], [a].[Email], [a].[EmailConfirmationDate], [a].[FirstName], [a].[IsActive], [a].[IsDeleted], [a].[IsEmailConfirmed], [a].[IsLockedOut], [a].[IsSuperAdmin], [a].[LastLogin], [a].[LockoutCounter], [a].[ModifiedBy], [a].[ModifiedDate], [a].[MustChangePassword], [a].[No], [a].[Password], [a].[PhoneNumber], [a].[Road], [a].[State], [a].[SurName], [a].[Telephone], [a].[Title]
FROM [AppUsers] AS [a]
WHERE [a].[Email] = @__email_0" (0723d8ff)
2024-04-26T12:02:24.2515235+01:00 80000013-0007-f900-b63f-84710c7967bb [INF] Executed DbCommand ("28"ms) [Parameters=["@p2='?' (Size = 450), @p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTimeOffset)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [AppUsers] SET [LastLogin] = @p0, [ModifiedDate] = @p1
WHERE [Id] = @p2;
SELECT @@ROWCOUNT;" (0723d8ff)
2024-04-26T12:02:24.4834280+01:00 80000013-0007-f900-b63f-84710c7967bb [INF] Executed DbCommand ("17"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [r].[RoleName], [r].[Id]
FROM [UserRoles] AS [u]
INNER JOIN [Roles] AS [r] ON [u].[RoleId] = [r].[Id]
INNER JOIN [AppUsers] AS [a] ON [u].[UserId] = [a].[Id]
WHERE [u].[UserId] = @__userId_0" (0723d8ff)
2024-04-26T12:02:35.0272400+01:00 80000013-0007-f900-b63f-84710c7967bb [INF] Executing "OkObjectResult", writing value of type '"ErrandPayApp.Core.Models.ResponseModel`1[[ErrandPayApp.Core.Models.LoginResponseModel, ErrandPayApp.Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (605b4265)
2024-04-26T12:02:35.0976693+01:00 80000013-0007-f900-b63f-84710c7967bb [INF] Executed action "ErrandPayApp.API.Controllers.AccountsController.Login (ErrandPayApp.API)" in 11846.2803ms (afa2e885)
2024-04-26T12:02:35.0996398+01:00 80000013-0007-f900-b63f-84710c7967bb [INF] Executed endpoint '"ErrandPayApp.API.Controllers.AccountsController.Login (ErrandPayApp.API)"' (99874f2b)
2024-04-26T12:02:35.1495312+01:00 80000013-0007-f900-b63f-84710c7967bb [ERR] An unhandled exception has occurred while executing the request. (48a46595)
System.InvalidOperationException: The JSON property name for 'ErrandPayApp.Core.Dtos.AppUserDto.SurName' collides with another property.
   at System.Text.Json.ThrowHelper.ThrowInvalidOperationException_SerializerPropertyNameConflict(Type type, JsonPropertyInfo jsonPropertyInfo)
   at System.Text.Json.JsonClassInfo.CacheMember(Type declaringType, Type memberType, MemberInfo memberInfo, Nullable`1 typeNumberHandling, Dictionary`2 cache, Dictionary`2& ignoredMembers)
   at System.Text.Json.JsonClassInfo..ctor(Type type, JsonSerializerOptions options)
   at System.Text.Json.JsonSerializerOptions.GetOrAddClass(Type type)
   at System.Text.Json.JsonPropertyInfo.get_RuntimeClassInfo()
   at System.Text.Json.WriteStack.Push()
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.WriteCore(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.WriteCoreAsObject(Utf8JsonWriter writer, Object value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonSerializer.WriteCore[TValue](JsonConverter jsonConverter, Utf8JsonWriter writer, TValue& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonSerializer.WriteAsyncCore[TValue](Stream utf8Json, TValue value, Type inputType, JsonSerializerOptions options, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResultFilterAsync>g__Awaited|29_0[TFilter,TFilterAsync](ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddleware.<Invoke>g__Awaited|6_0(ExceptionHandlerMiddleware middleware, HttpContext context, Task task)
2024-04-26T12:02:35.1726106+01:00 80000013-0007-f900-b63f-84710c7967bb [ERR] Message => The JSON property name for 'ErrandPayApp.Core.Dtos.AppUserDto.SurName' collides with another property.|Stacktrace =>    at System.Text.Json.ThrowHelper.ThrowInvalidOperationException_SerializerPropertyNameConflict(Type type, JsonPropertyInfo jsonPropertyInfo)
   at System.Text.Json.JsonClassInfo.CacheMember(Type declaringType, Type memberType, MemberInfo memberInfo, Nullable`1 typeNumberHandling, Dictionary`2 cache, Dictionary`2& ignoredMembers)
   at System.Text.Json.JsonClassInfo..ctor(Type type, JsonSerializerOptions options)
   at System.Text.Json.JsonSerializerOptions.GetOrAddClass(Type type)
   at System.Text.Json.JsonPropertyInfo.get_RuntimeClassInfo()
   at System.Text.Json.WriteStack.Push()
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.WriteCore(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.WriteCoreAsObject(Utf8JsonWriter writer, Object value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonSerializer.WriteCore[TValue](JsonConverter jsonConverter, Utf8JsonWriter writer, TValue& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonSerializer.WriteAsyncCore[TValue](Stream utf8Json, TValue value, Type inputType, JsonSerializerOptions options, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResultFilterAsync>g__Awaited|29_0[TFilter,TFilterAsync](ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddleware.<Invoke>g__Awaited|6_0(ExceptionHandlerMiddleware middleware, HttpContext context, Task task)|InnerException =>  (48f80938)
System.InvalidOperationException: The JSON property name for 'ErrandPayApp.Core.Dtos.AppUserDto.SurName' collides with another property.
   at System.Text.Json.ThrowHelper.ThrowInvalidOperationException_SerializerPropertyNameConflict(Type type, JsonPropertyInfo jsonPropertyInfo)
   at System.Text.Json.JsonClassInfo.CacheMember(Type declaringType, Type memberType, MemberInfo memberInfo, Nullable`1 typeNumberHandling, Dictionary`2 cache, Dictionary`2& ignoredMembers)
   at System.Text.Json.JsonClassInfo..ctor(Type type, JsonSerializerOptions options)
   at System.Text.Json.JsonSerializerOptions.GetOrAddClass(Type type)
   at System.Text.Json.JsonPropertyInfo.get_RuntimeClassInfo()
   at System.Text.Json.WriteStack.Push()
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.WriteCore(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.WriteCoreAsObject(Utf8JsonWriter writer, Object value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonSerializer.WriteCore[TValue](JsonConverter jsonConverter, Utf8JsonWriter writer, TValue& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonSerializer.WriteAsyncCore[TValue](Stream utf8Json, TValue value, Type inputType, JsonSerializerOptions options, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResultFilterAsync>g__Awaited|29_0[TFilter,TFilterAsync](ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddleware.<Invoke>g__Awaited|6_0(ExceptionHandlerMiddleware middleware, HttpContext context, Task task)
2024-04-26T12:02:35.3564154+01:00 80000013-0007-f900-b63f-84710c7967bb [INF] Request finished HTTP/2 POST https://localhost:44331/api/Accounts application/json 55 - 500 - application/json 13921.8862ms (791a596a)
2024-04-26T12:02:48.1770168+01:00 8000004c-0002-f900-b63f-84710c7967bb [INF] Request starting HTTP/2 POST https://localhost:44331/api/Accounts application/json 55 (ca22a1cb)
2024-04-26T12:02:48.1772858+01:00 8000004c-0002-f900-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2024-04-26T12:02:48.1815951+01:00 8000004c-0002-f900-b63f-84710c7967bb [INF] Executing endpoint '"ErrandPayApp.API.Controllers.AccountsController.Login (ErrandPayApp.API)"' (500cc934)
2024-04-26T12:02:48.1821130+01:00 8000004c-0002-f900-b63f-84710c7967bb [INF] Route matched with "{action = \"Login\", controller = \"Accounts\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(ErrandPayApp.API.RequestVms.LoginVm)" on controller "ErrandPayApp.API.Controllers.AccountsController" ("ErrandPayApp.API"). (122b2fdf)
2024-04-26T12:02:48.1918686+01:00 8000004c-0002-f900-b63f-84710c7967bb [INF] Executed DbCommand ("2"ms) [Parameters=["@__email_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[Email], [a].[PhoneNumber], [a].[SurName], [a].[FirstName], [a].[IsSuperAdmin], [a].[Id], [a].[MustChangePassword], [a].[LockoutCounter], [a].[IsLockedOut], [a].[LastLogin], [a].[DateAccountLocked], [a].[Title], [a].[No], [a].[Road], [a].[City], [a].[State], [a].[Country]
FROM [AppUsers] AS [a]
WHERE [a].[Email] = @__email_0" (0723d8ff)
2024-04-26T12:02:48.2123458+01:00 8000004c-0002-f900-b63f-84710c7967bb [INF] Executed DbCommand ("4"ms) [Parameters=["@__email_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[Email], [a].[PhoneNumber], [a].[SurName], [a].[FirstName], [a].[IsSuperAdmin], [a].[Id], [a].[MustChangePassword], [a].[LockoutCounter], [a].[IsLockedOut], [a].[LastLogin], [a].[DateAccountLocked], [a].[Title], [a].[No], [a].[Road], [a].[City], [a].[State], [a].[Country]
FROM [AppUsers] AS [a]
WHERE [a].[Email] = @__email_0" (0723d8ff)
2024-04-26T12:02:48.2164865+01:00 8000004c-0002-f900-b63f-84710c7967bb [INF] Executed DbCommand ("2"ms) [Parameters=["@__email_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[Id], [a].[City], [a].[Country], [a].[CreatedBy], [a].[CreatedDate], [a].[DateAccountLocked], [a].[Email], [a].[EmailConfirmationDate], [a].[FirstName], [a].[IsActive], [a].[IsDeleted], [a].[IsEmailConfirmed], [a].[IsLockedOut], [a].[IsSuperAdmin], [a].[LastLogin], [a].[LockoutCounter], [a].[ModifiedBy], [a].[ModifiedDate], [a].[MustChangePassword], [a].[No], [a].[Password], [a].[PhoneNumber], [a].[Road], [a].[State], [a].[SurName], [a].[Telephone], [a].[Title]
FROM [AppUsers] AS [a]
WHERE [a].[Email] = @__email_0" (0723d8ff)
2024-04-26T12:02:48.2216146+01:00 8000004c-0002-f900-b63f-84710c7967bb [INF] Executed DbCommand ("2"ms) [Parameters=["@p2='?' (Size = 450), @p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTimeOffset)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [AppUsers] SET [LastLogin] = @p0, [ModifiedDate] = @p1
WHERE [Id] = @p2;
SELECT @@ROWCOUNT;" (0723d8ff)
2024-04-26T12:02:48.2292019+01:00 8000004c-0002-f900-b63f-84710c7967bb [INF] Executed DbCommand ("2"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [r].[RoleName], [r].[Id]
FROM [UserRoles] AS [u]
INNER JOIN [Roles] AS [r] ON [u].[RoleId] = [r].[Id]
INNER JOIN [AppUsers] AS [a] ON [u].[UserId] = [a].[Id]
WHERE [u].[UserId] = @__userId_0" (0723d8ff)
2024-04-26T12:10:36.2919082+01:00  [INF] Entity Framework Core "5.0.6" initialized '"APPContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MaxPoolSize=128 " (9958f5bb)
2024-04-26T12:10:37.8632466+01:00  [INF] Executed DbCommand ("36"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1" (0723d8ff)
2024-04-26T12:10:37.9158127+01:00  [INF] Executed DbCommand ("33"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT OBJECT_ID(N'[__EFMigrationsHistory]');" (0723d8ff)
2024-04-26T12:10:37.9212510+01:00  [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1" (0723d8ff)
2024-04-26T12:10:37.9220266+01:00  [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT OBJECT_ID(N'[__EFMigrationsHistory]');" (0723d8ff)
2024-04-26T12:10:37.9549431+01:00  [INF] Executed DbCommand ("9"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];" (0723d8ff)
2024-04-26T12:10:37.9959434+01:00  [INF] No migrations were applied. The database is already up to date. (503cba9d)
2024-04-26T12:10:38.5140086+01:00  [INF] Executed DbCommand ("8"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [p].[PermissionName]
FROM [Permissions] AS [p]" (0723d8ff)
2024-04-26T12:10:38.7117550+01:00  [INF] Executed DbCommand ("28"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[Id], [a].[City], [a].[Country], [a].[CreatedBy], [a].[CreatedDate], [a].[DateAccountLocked], [a].[Email], [a].[EmailConfirmationDate], [a].[FirstName], [a].[IsActive], [a].[IsDeleted], [a].[IsEmailConfirmed], [a].[IsLockedOut], [a].[IsSuperAdmin], [a].[LastLogin], [a].[LockoutCounter], [a].[ModifiedBy], [a].[ModifiedDate], [a].[MustChangePassword], [a].[No], [a].[Password], [a].[PhoneNumber], [a].[Road], [a].[State], [a].[SurName], [a].[Telephone], [a].[Title]
FROM [AppUsers] AS [a]
WHERE [a].[IsSuperAdmin] = CAST(1 AS bit)" (0723d8ff)
2024-04-26T12:10:39.1715983+01:00  [INF] User profile is available. Using '"C:\Users\HP\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest. (7ac5e29c)
2024-04-26T12:10:39.2378167+01:00  [ERR] Message => One or more errors occurred. (Unable to track an entity of type 'AppUser' because its primary key property 'Id' is null.)|Stacktrace =>    at System.Threading.Tasks.Task`1.GetResultCore(Boolean waitCompletionNotification)
   at System.Threading.Tasks.Task`1.get_Result()
   at ErrandPayApp.Infrastructure.Configuration.DatabaseConfiguration.InitializeSupperUser(IServiceScope scope) in C:\Users\HP\source\repos\ErrandPayApp.API\ErrandPayApp.Infrastructure\Configuration\DatabaseConfiguration.cs:line 87|InnerException => System.InvalidOperationException: Unable to track an entity of type 'AppUser' because its primary key property 'Id' is null.
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.NullableKeyIdentityMap`1.Add(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.StartTracking(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState oldState, EntityState newState, Boolean acceptChanges, Boolean modifyProperties)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState entityState, Boolean acceptChanges, Boolean modifyProperties, Nullable`1 forceStateWhenUnknownKey)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.PaintAction(EntityEntryGraphNode`1 node)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityEntryGraphIterator.TraverseGraph[TState](EntityEntryGraphNode`1 node, Func`2 handleNode)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.AttachGraph(InternalEntityEntry rootEntry, EntityState targetState, EntityState storeGeneratedWithKeySetTargetState, Boolean forceStateWhenUnknownKey)
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.SetEntityState(InternalEntityEntry entry, EntityState entityState)
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.Add(TEntity entity)
   at ErrandPayApp.Data.Repositories.UserRepository.CreateDefaultUser() in C:\Users\HP\source\repos\ErrandPayApp.API\ErrandPayApp.Data\Repositories\UserRepository.cs:line 307 (2a14ea4d)
System.AggregateException: One or more errors occurred. (Unable to track an entity of type 'AppUser' because its primary key property 'Id' is null.)
 ---> System.InvalidOperationException: Unable to track an entity of type 'AppUser' because its primary key property 'Id' is null.
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.NullableKeyIdentityMap`1.Add(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.StartTracking(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState oldState, EntityState newState, Boolean acceptChanges, Boolean modifyProperties)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState entityState, Boolean acceptChanges, Boolean modifyProperties, Nullable`1 forceStateWhenUnknownKey)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.PaintAction(EntityEntryGraphNode`1 node)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityEntryGraphIterator.TraverseGraph[TState](EntityEntryGraphNode`1 node, Func`2 handleNode)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.AttachGraph(InternalEntityEntry rootEntry, EntityState targetState, EntityState storeGeneratedWithKeySetTargetState, Boolean forceStateWhenUnknownKey)
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.SetEntityState(InternalEntityEntry entry, EntityState entityState)
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.Add(TEntity entity)
   at ErrandPayApp.Data.Repositories.UserRepository.CreateDefaultUser() in C:\Users\HP\source\repos\ErrandPayApp.API\ErrandPayApp.Data\Repositories\UserRepository.cs:line 307
   --- End of inner exception stack trace ---
   at System.Threading.Tasks.Task`1.GetResultCore(Boolean waitCompletionNotification)
   at System.Threading.Tasks.Task`1.get_Result()
   at ErrandPayApp.Infrastructure.Configuration.DatabaseConfiguration.InitializeSupperUser(IServiceScope scope) in C:\Users\HP\source\repos\ErrandPayApp.API\ErrandPayApp.Infrastructure\Configuration\DatabaseConfiguration.cs:line 87
2024-04-26T12:10:39.7059085+01:00  [INF] Application started. Press Ctrl+C to shut down. (dcaefe54)
2024-04-26T12:10:39.7093272+01:00  [INF] Hosting environment: "Development" (c3307c92)
2024-04-26T12:10:39.7181893+01:00  [INF] Content root path: "C:\Users\HP\source\repos\ErrandPayApp.API\ErrandPayApp.API" (b5d60022)
2024-04-26T12:10:39.7979562+01:00 80000013-0006-f800-b63f-84710c7967bb [INF] Request starting HTTP/2 GET https://localhost:44331/index.html - - (ca22a1cb)
2024-04-26T12:10:40.3763796+01:00 80000015-0006-f800-b63f-84710c7967bb [INF] Request starting HTTP/2 GET https://localhost:44331/_framework/aspnetcore-browser-refresh.js - - (ca22a1cb)
2024-04-26T12:10:40.3820746+01:00 80000013-0006-f800-b63f-84710c7967bb [INF] Request finished HTTP/2 GET https://localhost:44331/index.html - - - 200 - text/html;charset=utf-8 590.5659ms (791a596a)
2024-04-26T12:10:40.4163194+01:00 80000015-0006-f800-b63f-84710c7967bb [INF] Request finished HTTP/2 GET https://localhost:44331/_framework/aspnetcore-browser-refresh.js - - - 200 12366 application/javascript;+charset=utf-8 39.2696ms (791a596a)
2024-04-26T12:10:40.6812462+01:00 8000002c-0004-fb00-b63f-84710c7967bb [INF] Request starting HTTP/2 GET https://localhost:44331/_vs/browserLink - - (ca22a1cb)
2024-04-26T12:10:40.8587777+01:00 8000002c-0004-fb00-b63f-84710c7967bb [INF] Request finished HTTP/2 GET https://localhost:44331/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 177.4493ms (791a596a)
2024-04-26T12:10:40.9493213+01:00 8000002e-0004-fb00-b63f-84710c7967bb [INF] Request starting HTTP/2 GET https://localhost:44331/swagger/v1/swagger.json - - (ca22a1cb)
2024-04-26T12:10:41.2766602+01:00 8000002e-0004-fb00-b63f-84710c7967bb [INF] Request finished HTTP/2 GET https://localhost:44331/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 327.2236ms (791a596a)
2024-04-26T12:11:00.1163665+01:00 8000000e-0006-fa00-b63f-84710c7967bb [INF] Request starting HTTP/2 POST https://localhost:44331/api/Accounts application/json 55 (ca22a1cb)
2024-04-26T12:11:00.1212450+01:00 8000000e-0006-fa00-b63f-84710c7967bb [INF] CORS policy execution successful. (5409d6ef)
2024-04-26T12:11:01.6337393+01:00 8000000e-0006-fa00-b63f-84710c7967bb [INF] Executing endpoint '"ErrandPayApp.API.Controllers.AccountsController.Login (ErrandPayApp.API)"' (500cc934)
2024-04-26T12:11:01.6967358+01:00 8000000e-0006-fa00-b63f-84710c7967bb [INF] Route matched with "{action = \"Login\", controller = \"Accounts\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(ErrandPayApp.API.RequestVms.LoginVm)" on controller "ErrandPayApp.API.Controllers.AccountsController" ("ErrandPayApp.API"). (122b2fdf)
2024-04-26T12:11:01.8892014+01:00 8000000e-0006-fa00-b63f-84710c7967bb [INF] Executed DbCommand ("49"ms) [Parameters=["@__email_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[Email], [a].[PhoneNumber], [a].[SurName], [a].[FirstName], [a].[IsSuperAdmin], [a].[Id], [a].[MustChangePassword], [a].[LockoutCounter], [a].[IsLockedOut], [a].[LastLogin], [a].[DateAccountLocked], [a].[Title], [a].[No], [a].[Road], [a].[City], [a].[State], [a].[Country]
FROM [AppUsers] AS [a]
WHERE [a].[Email] = @__email_0" (0723d8ff)
2024-04-26T12:11:01.9186704+01:00 8000000e-0006-fa00-b63f-84710c7967bb [INF] Executed DbCommand ("2"ms) [Parameters=["@__email_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[Email], [a].[PhoneNumber], [a].[SurName], [a].[FirstName], [a].[IsSuperAdmin], [a].[Id], [a].[MustChangePassword], [a].[LockoutCounter], [a].[IsLockedOut], [a].[LastLogin], [a].[DateAccountLocked], [a].[Title], [a].[No], [a].[Road], [a].[City], [a].[State], [a].[Country]
FROM [AppUsers] AS [a]
WHERE [a].[Email] = @__email_0" (0723d8ff)
2024-04-26T12:11:01.9381246+01:00 8000000e-0006-fa00-b63f-84710c7967bb [INF] Executed DbCommand ("6"ms) [Parameters=["@__email_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[Id], [a].[City], [a].[Country], [a].[CreatedBy], [a].[CreatedDate], [a].[DateAccountLocked], [a].[Email], [a].[EmailConfirmationDate], [a].[FirstName], [a].[IsActive], [a].[IsDeleted], [a].[IsEmailConfirmed], [a].[IsLockedOut], [a].[IsSuperAdmin], [a].[LastLogin], [a].[LockoutCounter], [a].[ModifiedBy], [a].[ModifiedDate], [a].[MustChangePassword], [a].[No], [a].[Password], [a].[PhoneNumber], [a].[Road], [a].[State], [a].[SurName], [a].[Telephone], [a].[Title]
FROM [AppUsers] AS [a]
WHERE [a].[Email] = @__email_0" (0723d8ff)
2024-04-26T12:11:02.3127691+01:00 8000000e-0006-fa00-b63f-84710c7967bb [INF] Executed DbCommand ("8"ms) [Parameters=["@p2='?' (Size = 450), @p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTimeOffset)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [AppUsers] SET [LastLogin] = @p0, [ModifiedDate] = @p1
WHERE [Id] = @p2;
SELECT @@ROWCOUNT;" (0723d8ff)
2024-04-26T12:11:02.4717486+01:00 8000000e-0006-fa00-b63f-84710c7967bb [INF] Executed DbCommand ("16"ms) [Parameters=["@__userId_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [r].[RoleName], [r].[Id]
FROM [UserRoles] AS [u]
INNER JOIN [Roles] AS [r] ON [u].[RoleId] = [r].[Id]
INNER JOIN [AppUsers] AS [a] ON [u].[UserId] = [a].[Id]
WHERE [u].[UserId] = @__userId_0" (0723d8ff)
2024-04-26T12:11:14.4878750+01:00 8000000e-0006-fa00-b63f-84710c7967bb [INF] Executing "OkObjectResult", writing value of type '"ErrandPayApp.Core.Models.ResponseModel`1[[ErrandPayApp.Core.Models.LoginResponseModel, ErrandPayApp.Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (605b4265)
2024-04-26T12:11:14.8636210+01:00 8000000e-0006-fa00-b63f-84710c7967bb [INF] Executed action "ErrandPayApp.API.Controllers.AccountsController.Login (ErrandPayApp.API)" in 13156.8736ms (afa2e885)
2024-04-26T12:11:14.8644738+01:00 8000000e-0006-fa00-b63f-84710c7967bb [INF] Executed endpoint '"ErrandPayApp.API.Controllers.AccountsController.Login (ErrandPayApp.API)"' (99874f2b)
2024-04-26T12:11:14.8765982+01:00 8000000e-0006-fa00-b63f-84710c7967bb [INF] Request finished HTTP/2 POST https://localhost:44331/api/Accounts application/json 55 - 200 - application/json;+charset=utf-8 14760.2284ms (791a596a)
2024-04-26T12:14:46.6664025+01:00  [INF] Entity Framework Core "5.0.6" initialized '"APPContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MaxPoolSize=128 " (9958f5bb)
2024-04-26T12:14:47.5643618+01:00  [INF] Executed DbCommand ("75"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1" (0723d8ff)
2024-04-26T12:14:47.6368425+01:00  [INF] Executed DbCommand ("46"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT OBJECT_ID(N'[__EFMigrationsHistory]');" (0723d8ff)
2024-04-26T12:14:47.6449594+01:00  [INF] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1" (0723d8ff)
2024-04-26T12:14:47.6462572+01:00  [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT OBJECT_ID(N'[__EFMigrationsHistory]');" (0723d8ff)
2024-04-26T12:14:47.6907581+01:00  [INF] Executed DbCommand ("10"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];" (0723d8ff)
2024-04-26T12:14:47.7496527+01:00  [INF] No migrations were applied. The database is already up to date. (503cba9d)
2024-04-26T12:14:48.3246607+01:00  [INF] Executed DbCommand ("8"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [p].[PermissionName]
FROM [Permissions] AS [p]" (0723d8ff)
2024-04-26T12:14:48.5514926+01:00  [INF] Executed DbCommand ("34"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[Id], [a].[City], [a].[Country], [a].[CreatedBy], [a].[CreatedDate], [a].[DateAccountLocked], [a].[Email], [a].[EmailConfirmationDate], [a].[FirstName], [a].[IsActive], [a].[IsDeleted], [a].[IsEmailConfirmed], [a].[IsLockedOut], [a].[IsSuperAdmin], [a].[LastLogin], [a].[LockoutCounter], [a].[ModifiedBy], [a].[ModifiedDate], [a].[MustChangePassword], [a].[No], [a].[Password], [a].[PhoneNumber], [a].[Road], [a].[State], [a].[SurName], [a].[Telephone], [a].[Title]
FROM [AppUsers] AS [a]
WHERE [a].[IsSuperAdmin] = CAST(1 AS bit)" (0723d8ff)
2024-04-26T12:14:49.0916283+01:00  [INF] User profile is available. Using '"C:\Users\HP\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest. (7ac5e29c)
2024-04-26T12:14:49.1662573+01:00  [ERR] Message => One or more errors occurred. (Unable to track an entity of type 'AppUser' because its primary key property 'Id' is null.)|Stacktrace =>    at System.Threading.Tasks.Task`1.GetResultCore(Boolean waitCompletionNotification)
   at System.Threading.Tasks.Task`1.get_Result()
   at ErrandPayApp.Infrastructure.Configuration.DatabaseConfiguration.InitializeSupperUser(IServiceScope scope) in C:\Users\HP\source\repos\ErrandPayApp.API\ErrandPayApp.Infrastructure\Configuration\DatabaseConfiguration.cs:line 87|InnerException => System.InvalidOperationException: Unable to track an entity of type 'AppUser' because its primary key property 'Id' is null.
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.NullableKeyIdentityMap`1.Add(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.StartTracking(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState oldState, EntityState newState, Boolean acceptChanges, Boolean modifyProperties)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState entityState, Boolean acceptChanges, Boolean modifyProperties, Nullable`1 forceStateWhenUnknownKey)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.PaintAction(EntityEntryGraphNode`1 node)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityEntryGraphIterator.TraverseGraph[TState](EntityEntryGraphNode`1 node, Func`2 handleNode)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.AttachGraph(InternalEntityEntry rootEntry, EntityState targetState, EntityState storeGeneratedWithKeySetTargetState, Boolean forceStateWhenUnknownKey)
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.SetEntityState(InternalEntityEntry entry, EntityState entityState)
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.Add(TEntity entity)
   at ErrandPayApp.Data.Repositories.UserRepository.CreateDefaultUser() in C:\Users\HP\source\repos\ErrandPayApp.API\ErrandPayApp.Data\Repositories\UserRepository.cs:line 307 (2a14ea4d)
System.AggregateException: One or more errors occurred. (Unable to track an entity of type 'AppUser' because its primary key property 'Id' is null.)
 ---> System.InvalidOperationException: Unable to track an entity of type 'AppUser' because its primary key property 'Id' is null.
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.NullableKeyIdentityMap`1.Add(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.StartTracking(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState oldState, EntityState newState, Boolean acceptChanges, Boolean modifyProperties)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState entityState, Boolean acceptChanges, Boolean modifyProperties, Nullable`1 forceStateWhenUnknownKey)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.PaintAction(EntityEntryGraphNode`1 node)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityEntryGraphIterator.TraverseGraph[TState](EntityEntryGraphNode`1 node, Func`2 handleNode)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.AttachGraph(InternalEntityEntry rootEntry, EntityState targetState, EntityState storeGeneratedWithKeySetTargetState, Boolean forceStateWhenUnknownKey)
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.SetEntityState(InternalEntityEntry entry, EntityState entityState)
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.Add(TEntity entity)
   at ErrandPayApp.Data.Repositories.UserRepository.CreateDefaultUser() in C:\Users\HP\source\repos\ErrandPayApp.API\ErrandPayApp.Data\Repositories\UserRepository.cs:line 307
   --- End of inner exception stack trace ---
   at System.Threading.Tasks.Task`1.GetResultCore(Boolean waitCompletionNotification)
   at System.Threading.Tasks.Task`1.get_Result()
   at ErrandPayApp.Infrastructure.Configuration.DatabaseConfiguration.InitializeSupperUser(IServiceScope scope) in C:\Users\HP\source\repos\ErrandPayApp.API\ErrandPayApp.Infrastructure\Configuration\DatabaseConfiguration.cs:line 87
2024-04-26T12:14:49.6219417+01:00  [INF] Application started. Press Ctrl+C to shut down. (dcaefe54)
2024-04-26T12:14:49.6258990+01:00  [INF] Hosting environment: "Development" (c3307c92)
2024-04-26T12:14:49.6397859+01:00  [INF] Content root path: "C:\Users\HP\source\repos\ErrandPayApp.API\ErrandPayApp.API" (b5d60022)
2024-04-26T12:14:49.7201735+01:00 8000004e-0002-f900-b63f-84710c7967bb [INF] Request starting HTTP/2 GET https://localhost:44331/index.html - - (ca22a1cb)
2024-04-26T12:14:50.4449692+01:00 8000004e-0002-f900-b63f-84710c7967bb [INF] Request finished HTTP/2 GET https://localhost:44331/index.html - - - 200 - text/html;charset=utf-8 731.3101ms (791a596a)
2024-04-26T12:14:50.8923755+01:00 8000004c-0001-fe00-b63f-84710c7967bb [INF] Request starting HTTP/2 GET https://localhost:44331/_framework/aspnetcore-browser-refresh.js - - (ca22a1cb)
2024-04-26T12:14:50.9057161+01:00 8000004c-0001-fe00-b63f-84710c7967bb [INF] Request finished HTTP/2 GET https://localhost:44331/_framework/aspnetcore-browser-refresh.js - - - 200 12366 application/javascript;+charset=utf-8 12.6358ms (791a596a)
2024-04-26T12:14:50.9348712+01:00 800000d4-0004-ff00-b63f-84710c7967bb [INF] Request starting HTTP/2 GET https://localhost:44331/_vs/browserLink - - (ca22a1cb)
2024-04-26T12:14:51.0459367+01:00 800000d4-0004-ff00-b63f-84710c7967bb [INF] Request finished HTTP/2 GET https://localhost:44331/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 111.0121ms (791a596a)
2024-04-26T12:14:51.2657163+01:00 80000050-0002-f900-b63f-84710c7967bb [INF] Request starting HTTP/2 GET https://localhost:44331/swagger/v1/swagger.json - - (ca22a1cb)
2024-04-26T12:14:51.6081429+01:00 80000050-0002-f900-b63f-84710c7967bb [INF] Request finished HTTP/2 GET https://localhost:44331/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 342.4325ms (791a596a)
